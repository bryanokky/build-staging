{"version":3,"sources":["reportWebVitals.js","utils/services/restApi.jsx","utils/services/generalService.jsx","utils/services/cookieService.jsx","utils/services/paginationService.jsx","utils/context/AuthContext.jsx","utils/context/ModalFormContext.jsx","utils/context/SocketContext.jsx","utils/context/CallContext.jsx","utils/context/UserActivityContext.jsx","utils/functions/useCalls.jsx","utils/functions/useCampaignFields.jsx","utils/functions/useCampaignInfos.jsx","utils/functions/useCampaigns.jsx","utils/functions/useCampaignUsers.jsx","utils/functions/useCustomerFields.jsx","utils/functions/useCustomers.jsx","utils/functions/useEmailContents.jsx","utils/functions/useOutboundCategories.jsx","utils/functions/useOutboundCategoryDetails.jsx","utils/functions/useQualityAssuranceAspects.jsx","utils/functions/useQualityAssuranceDetails.jsx","utils/functions/useQualityAssurances.jsx","utils/functions/useQualityAssuranceUsers.jsx","utils/functions/useUsers.jsx","utils/functions/useEmails.jsx","utils/functions/useDepartments.jsx","utils/functions/useUserLevels.jsx","utils/functions/useBreakReasons.jsx","utils/functions/useCheckingReasons.jsx","utils/functions/useExports.jsx","utils/functions/useVoices.jsx","utils/functions/useHangUp.jsx","utils/functions/useCallbacks.jsx","public/assets/images/bri-horizontal.png","public/assets/images/synergix-ticket.jpg","components/Navbar.jsx","components/Footer.jsx","components/Sidebar.jsx","components/Notification.jsx","components/Pagination.jsx","components/EditorToolbar.jsx","components/CustomPlayer.jsx","components/CustomSelect.jsx","components/ModalPasswordExpired.jsx","components/Error404.jsx","pages/login.jsx","public/assets/images/bri.png","pages/forgot-password.jsx","pages/Dashboard/index.jsx","pages/CampaignEmails/FormAdd.jsx","pages/CampaignEmails/FormDetail.jsx","pages/CampaignCalls/Rollback.jsx","utils/functions/useFileUploads.jsx","pages/CampaignEmails/index.jsx","pages/CampaignCalls/CampaignInfo.jsx","pages/CampaignCalls/FormAdd.jsx","pages/CampaignCalls/FormDetail.jsx","pages/CampaignCalls/index.jsx","pages/CustomerCalls/FormAdd.jsx","pages/CallHistories/index.jsx","pages/Elements/CustomerField.jsx","pages/Elements/CampaignInfo.jsx","pages/CustomerCalls/FormDetail.jsx","utils/functions/useMute.jsx","pages/Callback/FormAdd.jsx","utils/functions/useCallbackReasons.jsx","pages/Elements/Checking.jsx","utils/functions/useCheckingStatuses.jsx","pages/CustomerCalls/index.jsx","utils/functions/useCustomerStatuses.jsx","pages/Calls/index.jsx","pages/Emails/FormAdd.jsx","pages/Emails/FormDetail.jsx","pages/Emails/index.jsx","utils/functions/useEmailStatuses.jsx","pages/Callback/index.jsx","pages/UserActivity/ButtonAction.jsx","pages/UserActivity/index.jsx","pages/Reports/Break.jsx","utils/functions/useBreakHistories.jsx","pages/Reports/BusinessAchievement.jsx","pages/Reports/CallActivity.jsx","pages/Reports/CallCustomer.jsx","pages/Reports/CallDetail.jsx","pages/Reports/Checker.jsx","pages/Reports/CostViewer.jsx","pages/Reports/Email.jsx","pages/Reports/PerformanceAgent.jsx","pages/Reports/QualityAssuranceSummary.jsx","pages/QualityAssurance/FormAdd.jsx","pages/QualityAssurance/FormDetail.jsx","pages/QualityAssurance/index.jsx","pages/QualityAssuranceCalls/FormAdd.jsx","utils/functions/usePeriods.jsx","pages/QualityAssuranceCalls/FormDetail.jsx","pages/QualityAssuranceCalls/index.jsx","pages/Users/FormAdd.jsx","pages/Users/FormDetail.jsx","pages/Users/index.jsx","pages/BreakReason/FormAdd.jsx","pages/BreakReason/FormDetail.jsx","pages/BreakReason/index.jsx","pages/CheckingReason/FormAdd.jsx","pages/CheckingReason/FormDetail.jsx","pages/CheckingReason/index.jsx","pages/OutboundCategory/FormAdd.jsx","pages/OutboundCategory/FormDetail.jsx","pages/OutboundCategory/index.jsx","pages/OutboundCategoryDetail/FormAdd.jsx","pages/OutboundCategoryDetail/FormDetail.jsx","pages/OutboundCategoryDetail/index.jsx","pages/Elements/Break.jsx","pages/Elements/IncomingCall.jsx","utils/functions/usePickUp.jsx","public/assets/images/muser.jpg","pages/Elements/CustomerStatus.jsx","pages/Elements/index.jsx","pages/main-app.jsx","config/route.jsx","config/privateRoute.jsx","config/protectedLogin.jsx","pages/App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","publicApi","method","endpoint","a","data","optMethod","toString","toLowerCase","token","cookieService","Get","axios","defaults","baseURL","process","withCredentials","headers","post","common","result","put","delete","get","generalService","isEmptyValue","value","undefined","Array","isArray","length","Object","keys","trim","formatDate","date","moment","isValid","format","formatDateTime","formatMonth","sleep","milliseconds","Promise","resolve","setTimeout","diffDate","new_value","old_value","new_date","old_date","diff","secondToTime","second","utc","useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","err","console","log","storedValue","setStoredValue","valueToStore","setItem","stringify","cookies","Cookies","opt","_","isString","isObject","GetAll","getAll","Set","val","set","Remove","remove","PaginationDots","paginationService","PaginationRange","total","limit","current","sibling","range","start","end","from","idx","useMemo","totalPageCount","Math","ceil","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftRange","rightRange","middleRange","PaginationInfo","firstIndex","parseInt","lastIndex","index","i","push","lowest","highest","AuthContext","createContext","AuthProvider","props","isAuth","setIsAuth","user","setUser","ext","setExt","userId","setUserId","userLevelId","setUserLevelId","passwordExpired","setPasswordExpired","useEffect","auth","getAuth","username","user_id","user_level_id","password_expired","getUserData","Provider","children","ModalFormContext","React","ModalFormProvider","state","setState","SocketContext","SocketProvider","useContext","socket","io","on","socketReconnect","close","opts","query","extension","open","CallContext","CallProvider","onlineStatus","setOnlineStatus","initialIncomingCall","incomingCall","setIncomingCall","initialPickupCall","pickUpCall","setPickUpCall","online_status","getOnlineStatus","incoming_call","pickup_call","getCall","call_id","channel","customer_id","phone_no","campaign_id","caller_id","context","destchannel","event","event_time","queue","socket_id","unique_id","UserActivityContext","UserActivityProvider","userActivity","setUserActivity","userActivityId","setUserActivityId","user_activity_id","REACT_APP_USER_ONLINE","useCalls","history","useHistory","initialResult","success","total_data","unauthorizedStatus","unauthorized","clear","pathname","alert","show","type","message","params","resultPaging","paramString","paramArray","paramObject","isNaN","res","catch","response","indexOf","response_code","forEach","disable_date","e","join","pagingInfo","paging","GetQA","order","sort","GetReportBusinessAchievement","GetReportCallActivity","GetReportCallCustomer","GetReportCallDetail","GetReportChecker","GetReportCostViewer","GetReportPerformanceAgent","Create","Update","id","Delete","is_active","Listen","destination","Unlisten","Whisper","Unwhisper","useCampaignFields","UpdateMultiple","useCampaignInfos","useCampaigns","GetCall","GetEmail","Upload","campaignId","ImportCampaignCall","ImportCampaignEmail","Rollback","fileUploadId","useCampaignUsers","useCustomerFields","useCustomers","useEmailContents","useOutboundCategories","useOutboundCategoryDetails","useQualityAssuranceAspects","useQualityAssuranceDetails","GetReportQaSummary","useQualityAssurances","useQualityAssuranceUsers","useUsers","AuthLogin","AuthLogout","StartBreak","EndBreak","useEmails","GetReportEmail","useDepartments","useUserLevels","useBreakReasons","useCheckingReasons","useExports","ReportBreak","hasOwnProperty","ReportBusinessAchievement","ReportCallActivity","ReportCallCustomer","ReportCallDetail","ReportChecker","ReportCostViewer","ReportEmail","ReportPerformanceAgent","ReportQualityAssuranceDetail","ReportQualityAssuranceSummary","useVoices","useHangUp","HangUp","removeItem","useCallbacks","NavbarComp","handleModalBreak","handleUserAvailable","emit","handleLogout","preventDefault","Navbar","className","href","src","BriHorizontal","width","Button","variant","size","onClick","document","body","classList","toggle","Dropdown","as","Nav","Item","Toggle","Link","role","Menu","disabled","Divider","FooterComp","Sidebar","openCampaign","setOpenCampaign","openReport","setOpenReport","openQualityAssurance","setOpenQualityAssurance","openSetting","setOpenSetting","useRouteMatch","path","url","includes","to","NavLink","classnames","Notification","Error","title","showChange","showAlert","setShowAlert","Alert","onClose","dismissible","isEmpty","Heading","Success","Warning","Pagination","pageChange","numDots","first","last","previuos","next","pageRange","map","pageNumber","CustomUndo","viewBox","points","d","CustomRedo","undoChange","this","quill","undo","redoChange","redo","Size","Quill","import","whitelist","register","Font","modules","toolbar","container","handlers","delay","maxStack","userOnly","formats","QuillToolbar","toolbarId","selected","StyleAudio","player","color","height","border","borderRadius","backgroundColor","playerMask","padding","fontSize","textAlign","fontWeight","lineHeight","CustomPlayer","loading","autoplay","style","playing","controls","StyleSelectBox","isSmall","isError","provided","control","minHeight","borderColor","boxShadow","transition","isFocused","valueContainer","dropdownIndicator","marginLeft","CustomSelect","optionSelect","onChangeValue","options","onChange","filter","styles","placeholder","ModalPasswordExpired","fnUsers","notifError","setNotifError","modalSuccess","setModalSuccess","passwordShow","setPasswordShow","useForm","defaultValues","password","password_confirm","resolver","yupResolver","yup","shape","required","matches","oneOf","handleSubmit","formState","errors","isSubmitting","clearErrors","onSubmitForm","Modal","backdrop","keyboard","Header","Title","Form","onSubmit","Body","Group","controlId","Label","InputGroup","Control","isInvalid","Append","Text","getElementById","focus","Feedback","Footer","Spinner","animation","modalShow","modalClose","ModalPasswordExpiredSuccess","onHide","closeButton","Error404","Jumbotron","fluid","Container","Login","location","notif","setNotif","replace","ForgotPassword","Highcharts","HighchartsExporting","Dashboard","fnCampaigns","highchartsAmount","setHighchartsAmount","highchartsCall","setHighchartsCall","label","optionCampaign","setOptionCampaign","selectedCampaign","setSelectedCampaign","media_id","mapOption","row","name","fetchData","mapData","amount","total_call","optionHighchartsAmount","chart","text","xAxis","categories","crosshair","labels","formatter","yAxis","credits","series","optionHighchartsCall","Card","Row","Col","md","srOnly","highcharts","FormAdd","modalChange","notifChange","dataChange","setCampaignId","step","setStep","handleModalClose","useCallback","FormCampaign","initialCampaign","validationSchemaCampaign","setValue","reset","setProcess","Date","selectedStartDate","setSelectedStartDate","start_date","end_date","render","field","dateFormat","showTimeInput","disabledKeyboardNavigation","highlightDates","minDate","FormCampaignContent","initialEmailContent","validationSchemaEmailContent","setField","isLoading","setIsLoading","quillRef","useRef","fnAbort","AbortController","abort","subject","EditorToolbar","ref","theme","content","xs","lg","getEditorContents","CurrentPosition","getEditorSelection","editor","insertText","target","field_name","field_display_name","nullable","FormDetail","dataId","handleAlert","setAlert","keepErrors","fnEmailContents","emailId","setEmailId","NavTab","defaultActiveKey","eventKey","useFileUploads","fnCampaign","tableData","setTableData","initialModal","modalConfirm","setModalConfirm","disableDate","setDisableDate","formFilter","setFormFilter","page","currentFilter","setCurrentFilter","handleChangeFormFilter","handleSubmitFormFilter","handleModalConfirm","handleModalRollback","Check","defaultChecked","checked","placeholderText","showMonthDropdown","showYearDropdown","Table","striped","hover","responsive","cellSpacing","cellPadding","colSpan","original_filename","created_at","upload_by","CampaignEmails","modalAdd","setModalAdd","modalDetail","setModalDetail","modalRollback","setModalRollback","start_date_list","end_date_list","initialNotif","htmlFor","substring","total_receptients","campaigName","CampaignInfo","setLoading","showTableData","showFormData","campaignInfoId","setToggle","handleDeleteData","handleToggle","Collapse","in","unmountOnExit","mountOnEnter","bordered","toggleChange","FormData","initialDataCampaignInfo","validationSchemaCampaignInfo","String","info","handleToggleChange","isDisabled","fnCampaignFields","fnCampaignUsers","savingData","setSavingData","dataCampaign","setDataCampaign","dataCampaignField","setDataCampaignField","dataCampaignUser","setDataCampaignUser","saveCampaign","saveCampaignField","saveCampaignUser","dataCampaignId","resCampaign","customerFieldId","customer_field_id","mapDataCampaignField","resCampaignField","mapDataCampaignUser","resCampaignUser","messageNotif","stepChange","currentData","currentDataChange","saveData","fill","initialDataCampaign","handleStepNext","setSeconds","FormCampaignField","initialDataCampaignField","validationSchemaCampaignField","getValues","optionField","setOptionField","mapOptionField","handleStepPrev","isMulti","mapSelected","getOptionValue","getOptionLabel","FormCampaignUser","initialDataCampaignUser","validationSchemaCampaignUser","handleStepSave","isUpdate","setIsUpdate","fieldList","setFieldList","fieldDetail","setFieldDetail","require","setRequire","inputRef","handleStep2","data_field","new_field","some","remove_field","resCampaignFieldCreate","resCampaignFieldUpdate","validated","defaultValue","classNamePrefix","userList","setUserList","handleStep3","data_user","resCampaignUserCreate","resCampaignUserUpdate","CampaignCalls","total_agent","total_customer","is_active_campaign","register2","handleSubmit2","processUpload","setProcessUpload","column","setColumn","mapping","setMapping","uploadId","setUploadId","formData","append","file","onSubmitMapping","file_upload_id","overflowY","maxHeight","sm","header","CallHistories","CustomerId","fnVoices","showModal","setShowModal","voiceCall","setVoiceCall","handleVoiceCall","audioUrl","filename","filedate","call_date","campaigns","customer_name","pickup_by","call_duration","phone_number","outbound_status","outbound_categories","outbound_category_details","CustomerField","CampaignId","Customer","validationSchemaCustomer","onSubmitCustomer","fullname","phone_1","phone_2","email","card_number","card_type","card_since_year","card_since_month","card_exp_date","card_emboss_name","account_no","transform","cv","positive","integer","bank_interest","mother_name","age","gender","birth_place","birth_date","merchant","transaction_date","home_address","home_city","home_zip","office_address","office_city","office_zip","income","business_type","occupation","ktp","npwp","tenor","CurrentData","CurrentDataChange","setInfo","detail","setDetail","handleChange","campaign_info","infoOption","initialOption","handleScheduleCall","handleChecking","tab","setTab","Mute","useMute","fnOutboundCategories","fnOutboundCategoryDetails","outboundCategory","setOutboundCategory","outboundCategoryDetail","setOutboundCategoryDetail","customer","setCustomer","campaignInfo","setCampaignInfo","mute","setMute","start_call","initialCall","validationSchemaCall","watch","outbound_category_id","outbound_category_detail_id","stopwatchOffset","useStopwatch","autoStart","offsetTimestamp","getSeconds","seconds","minutes","hours","hourTime","minuteTime","secondTime","data_hangup","dropcall_date","updated_at","updated_by","handleMute","direction","handleUnMute","outboundOption","outboundDetailOption","fetchDataDetail","campaign_name","rows","note","outbound_category_name","outbound_category_detail_name","customer_status_id","customerId","phoneNo","useCallbackReasons","initialCallback","validationSchemaCallback","callbackReason","setCallbackReason","callback_time","callback_reason_id","Checking","fnCheckingStatus","useCheckingSatuses","fnCheckingReason","initialChecking","validationSchemaChecking","checkingStatus","setCheckingStatus","checkingReason","setCheckingReason","checking_status_id","checker_user_id","checking_reason_id","CustomerCalls","fnCustomerStatuses","useCustomerStatuses","initialModalScheduleCall","modalScheduleCall","setModalScheduleCall","initialModalChecking","modalChecking","setModalChecking","customerStatus","setCustomerStatus","useParams","handleModalCloseSchedule","handleModalCloseChecking","handleModalRevoke","fetchDataStatus","statusOption","total_call_attempt","last_call_date","customer_status_name","Calls","campaignName","userOption","email_to","email_cc","setEmail","Emails","fnEmailStatuses","useEmailStatuses","emailStatus","setEmailStatus","email_status_id","emailStatusOption","email_status","Callback","handleModalAdd","scheduled_at","agent","reason","called","ButtonListen","activityId","loggedExt","loggedUser","loggedLevelId","whisperData","listenData","onStart","onStop","ButtonWhisper","UserActivity","setListenData","setWhisperData","fnCalls","loadingListen","setLoadingListen","loadingWhisper","setLoadingWhisper","totalEscorts","b","handleListen","handleUnlisten","handleWshiper","handleUnwhisper","activity","duration","first_login","last_logout","fnBreakHistories","GetReportBreak","useBreakHistories","fnBreakReasons","fnExports","exporting","setExporting","break_reason_id","optionAgent","setOptionAgent","optionReason","setOptionReason","mapOptionAgent","mapOptionReason","handleExport","limitData","saveAs","break_date","break_time","break_reason","resume_date","resume_time","total_break","number_customer_approved","nominal","average_customer_nominal_approved","whiteSpace","paddingTop","paddingBottom","rowSpan","borderBottom","login_time","logout_time","available_duration","talk_time","rest_room","pray_time","coaching_time","borderTop","mapOptionCampaign","agent_fullname","phone_number_type","minWidth","notes","outbound_category","outbound_categoriy_detail","host_address","fnCheckingReasons","optionCheckingBy","setOptionCheckingBy","optionCheckingReason","setOptionCheckingReason","mapOptionUsers","mapOptionCampaigns","mapOptionCheckingReasons","checking_by","checking_reason","checking_note","number_of_call","durasi","predictive_call_cost","fnEmails","dataContent","modalViewContent","setModalViewContent","handlemodalViewContent","sent_date","scrollable","background","wordWrap","limits","bank_name","fnQualityAssuranceDetails","showMonthYearPicker","cellHead","x","cellBody","y","cellFoot","z","fnQualityAssurances","initialData","validationSchema","qualityAssuranceAspectId","loadingChange","qualityAssuranceId","TableDataAspect","fnQualityAssuranceAspects","quality_assurance_id","aspect_name","bobot","FormDataAspect","initialDataAspect","validationSchemaAspect","onSubmitFormAspect","QualityAssurance","modalDelete","setModalDelete","submittingDelete","setSubmittingDelete","handleSubmitFormDelete","dataFile","dataAssist","fnPeriods","usePeriods","fnQualityAssuranceUsers","optionQa","setOptionQa","optionPeriod","setOptionPeriod","otherData","setOtherData","dataAspect","setDataAspect","loadingAudio","setLoadingAudio","setAudioUrl","mapOptionPeriod","mapOptionQa","saveQaDetails","dataQaDetails","quality_assurance_user_id","quality_assurance_aspect_id","resQaDetails","quality_assurance_date","period_id","dataAspectChange","totalNilai","setTotalNilai","mapDataAspect","getAspectResult","filterData","hasil","nilai","handleChangeDataAspect","readOnly","setCurrentData","exportError","setExportError","quality_assurance_name","observer_name","period_name","qualityAssuranceUserId","TableDataResult","quality_assurance_aspect_name","QualityAssuranceCalls","handleModalDetail","fnDepartments","fnUserLevels","optionDepartment","setOptionDepartment","optionUserLevel","setOptionUserLevel","department_id","mobile","phone","address","custom","muted","excludeEmptyString","mapOptionDepartment","mapOptionUserLevel","Users","user_level","department","BreakReason","CheckingReason","OutboundCategory","optionOutboundCategory","setOptionOutboundCategory","mapOutboundCategory","OutboundCategoryDetail","Break","setReason","reasonName","setReasonName","breakHistoryId","setBreakHistoryId","initialBreak","validationSchemaReason","start_break","showBreak","showDuration","selectedIndex","startBreak","Duration","initialDuration","validationSchemaDuration","align","IncomingCall","PickUp","usePickUp","is_pickup","showIncomingCall","showCallDetail","handleHangUp","handlePickUp","CustomerStatus","handleModalScheduleCall","status","setStatus","handleSubmitStatus","close_date","Element","initialModalCall","modalCall","setModalCall","initialModalCustomerDetail","modalCustomerDetail","setModalCustomerDetail","initialModalCustomerStatus","modalCustomerStatus","setModalCusomerStatus","handleModalCall","handleModalCustomerDetail","handleModalCustomerStatus","handleModalCloseCustomerDetail","handleModalCloseStatus","MainApp","initialModalBreak","modalBreak","setModalBreak","exact","match","Routes","component","PrivateRoute","Component","rest","ProtectedLogin","App","ReactDOM","Fragment"],"mappings":"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","file":"static/js/main.1a4cb4f7.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from 'axios'\r\nimport { cookieService } from '.';\r\n\r\nexport const publicApi = async (method, endpoint, data = []) => {\r\n    const optMethod = method.toString().toLowerCase() || 'get'\r\n    const token = cookieService.Get('ytoken')\r\n\r\n    axios.defaults.baseURL = process.env.REACT_APP_MY_API\r\n    axios.defaults.withCredentials = true\r\n    axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\r\n\r\n    if (endpoint !== '/users/login') {\r\n        axios.defaults.headers.common = {\r\n            'Authorization': `Bearer ${(token)}`\r\n        }\r\n    }\r\n\r\n    let result = {}\r\n    switch (optMethod) {\r\n        case 'post':\r\n            result = await axios.post(endpoint, data)\r\n            break\r\n        case 'put':\r\n            result = await axios.put(endpoint, data)\r\n            break\r\n        case 'delete':\r\n            result = await axios.delete(endpoint)\r\n            break\r\n        default:\r\n            result = await axios.get(endpoint)\r\n    }\r\n\r\n    return result['data']\r\n}\r\n","import { useState } from 'react'\r\nimport moment from 'moment'\r\n\r\nconst isEmptyValue = (value) => {\r\n    return (\r\n        value === undefined ||\r\n        value === null ||\r\n        (Array.isArray(value) && value.length === 0) ||\r\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\r\n        (typeof value === 'string' && value.trim().length === 0) ||\r\n        (typeof value === 'number' && value < 1)\r\n    )\r\n}\r\n\r\nconst formatDate = (value) => {\r\n    const date = moment(value)\r\n\r\n    if (date.isValid()) {\r\n        return date.format('YYYY-MM-DD')\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nconst formatMonth = (value) => {\r\n    const date = moment(value)\r\n\r\n    if (date.isValid()) {\r\n        return date.format('YYYY-MM')\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nconst formatDateTime = (value) => {\r\n    const date = moment(value)\r\n\r\n    if (date.isValid()) {\r\n        return date.format('YYYY-MM-DD HH:mm:ss')\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nconst sleep = (milliseconds) => {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\nconst diffDate = (new_value, old_value) => {\r\n    const new_date = moment(new_value)\r\n    const old_date = moment(old_value)\r\n\r\n    if (new_date.isValid() && old_date.isValid()) {\r\n        return new_date.diff(old_date)\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nconst secondToTime = (value) => {\r\n    const second = moment.utc(value)\r\n\r\n    if (second.isValid()) {\r\n        return second.format('HH:mm:ss')\r\n    }\r\n\r\n    return false\r\n}\r\n\r\nconst useLocalStorage = (key, initialValue) => {\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n        try {\r\n            const item = window.localStorage.getItem(key)\r\n            return item ? JSON.parse(item) : initialValue\r\n        } catch (err) {\r\n            console.log(err)\r\n            return initialValue\r\n        }\r\n    })\r\n\r\n    const setValue = (value) => {\r\n        try {\r\n            const valueToStore = value instanceof Function ? value(storedValue) : value\r\n            setStoredValue(valueToStore)\r\n            window.localStorage.setItem(key, JSON.stringify(valueToStore))\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return [storedValue, setValue]\r\n}\r\n\r\nexport const generalService = {\r\n    isEmptyValue,\r\n    formatDate,\r\n    formatDateTime,\r\n    formatMonth,\r\n    sleep,\r\n    diffDate,\r\n    secondToTime,\r\n    useLocalStorage\r\n}","import Cookies from 'universal-cookie'\r\nimport _ from 'lodash'\r\nimport { generalService } from './generalService'\r\n\r\nconst cookies = new Cookies()\r\nconst { isEmptyValue } = generalService\r\n\r\nconst Get = (key = false, opt = {}) => {\r\n    if (key && !isEmptyValue(key) && _.isString(key)) {\r\n        if (!_.isObject(opt)) {\r\n            console.log('cookie error, option must be an object')\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            const result = cookies.get(key, opt)\r\n\r\n            // if (_.isObject(result)) {\r\n            //     return JSON.parse(result);\r\n            // }\r\n\r\n            return result;\r\n        } catch (err) {\r\n            console.log(`cookie error, unable to get cookie ${key}`)\r\n            return false;\r\n        }\r\n    }\r\n\r\n    console.log('cookie error, key undefined')\r\n    return false;\r\n}\r\n\r\nconst GetAll = (opt = {}) => {\r\n    if (!_.isObject(opt)) {\r\n        console.log('cookie error, option must be an object')\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        const result = cookies.getAll(opt)\r\n\r\n        if (_.isObject(result)) {\r\n            return JSON.stringify(result);\r\n        }\r\n\r\n        return result;\r\n    } catch (err) {\r\n        console.log('cookie error, unable to get all cookie')\r\n        return false;\r\n    }\r\n}\r\n\r\nconst Set = (key = false, val = false, opt = {}) => {\r\n    if (key && val && !isEmptyValue(key) && !isEmptyValue(val) && _.isString(key)) {\r\n        if (!_.isObject(opt)) {\r\n            console.log('cookie error, option must be an object')\r\n            return false;\r\n        }\r\n\r\n        if (_.isObject(val)) {\r\n            val = JSON.stringify(val)\r\n        }\r\n\r\n        try {\r\n            cookies.set(key, val, opt)\r\n            return key;\r\n        } catch (err) {\r\n            console.log(`cookie error, unable to set cookie ${key}`)\r\n            return false;\r\n        }\r\n    }\r\n\r\n    console.log('cookie error, key undefined')\r\n    return false;\r\n}\r\n\r\nconst Remove = (key = false, opt = {}) => {\r\n    if (key && !isEmptyValue(key) && _.isString(key)) {\r\n        if (!_.isObject(opt)) {\r\n            console.log('cookie error, option must be an object')\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            cookies.remove(key, opt)\r\n            return key;\r\n        } catch (err) {\r\n            console.log(`cookie error, unable to remove cookie ${key}`)\r\n            return false;\r\n        }\r\n    }\r\n\r\n    console.log('cookie error, key undefined')\r\n    return false;\r\n}\r\n\r\nexport const cookieService = {\r\n    Get,\r\n    GetAll,\r\n    Set,\r\n    Remove\r\n}\r\n","import { useMemo } from 'react'\r\n\r\nconst PaginationDots = '...'\r\n\r\nconst PaginationRange = ({ total = 0, limit = 1, current = 0, sibling = 1 }) => {\r\n    const range = (start, end) => {\r\n        let length = end - start + 1\r\n        return Array.from({ length }, (_, idx) => idx + start)\r\n    }\r\n\r\n    return useMemo(() => {\r\n        const totalPageCount = Math.ceil(total / limit)\r\n\r\n        // Pages count is determined as sibling + firstPage + lastPage + currentPage + 2 * PaginationDots\r\n        const totalPageNumbers = sibling + 5\r\n\r\n        // If the number of pages is less than the page numbers we want to show in our\r\n        // paginationComponent, we return the range [1..totalPageCount]\r\n        if (totalPageNumbers >= totalPageCount) {\r\n            return range(1, totalPageCount)\r\n        }\r\n\r\n        const leftSiblingIndex = Math.max(current - sibling, 1);\r\n        const rightSiblingIndex = Math.min(\r\n            current + sibling,\r\n            totalPageCount\r\n        );\r\n\r\n        // We do not want to show PaginationDots if there is only one position left \r\n        // after/before the left/right page count as that would lead to a change if our Pagination\r\n        // component size which we do not want\r\n        const shouldShowLeftDots = leftSiblingIndex > 2\r\n        const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2\r\n\r\n        const firstPageIndex = 1\r\n        const lastPageIndex = totalPageCount\r\n\r\n        if (!shouldShowLeftDots && shouldShowRightDots) {\r\n            let leftItemCount = 3 + 2 * sibling;\r\n            let leftRange = range(1, leftItemCount)\r\n            \r\n            return [...leftRange, PaginationDots, totalPageCount]\r\n        }\r\n\r\n        if (shouldShowLeftDots && !shouldShowRightDots) {\r\n            let rightItemCount = 3 + 2 * sibling\r\n            let rightRange = range(\r\n                totalPageCount - rightItemCount + 1,\r\n                totalPageCount\r\n            )\r\n            \r\n            return [firstPageIndex, PaginationDots, ...rightRange]\r\n        }\r\n        \r\n        if (shouldShowLeftDots && shouldShowRightDots) {\r\n            let middleRange = range(leftSiblingIndex, rightSiblingIndex);\r\n            \r\n            return [firstPageIndex, PaginationDots, ...middleRange, PaginationDots, lastPageIndex];\r\n        }\r\n    }, [total, limit, sibling, current])\r\n}\r\n\r\nconst PaginationInfo = (total, limit, current) => {\r\n    let firstIndex = ((parseInt(current) * parseInt(limit)) - parseInt(limit)) + 1\r\n    let lastIndex = parseInt(current) * parseInt(limit)\r\n    let index = []\r\n\r\n    if (lastIndex > total) {\r\n        lastIndex = total\r\n    }\r\n\r\n    for (let i = firstIndex; i <= lastIndex; i++) {\r\n        index.push(i)\r\n    }\r\n\r\n    return {\r\n        lowest: firstIndex,\r\n        highest: lastIndex,\r\n        total: total,\r\n        index: index\r\n    }\r\n}\r\n\r\nexport const paginationService = {\r\n    PaginationDots,\r\n    PaginationRange,\r\n    PaginationInfo\r\n};","import { useState, useEffect, createContext } from 'react'\r\nimport { cookieService } from '../services'\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const AuthProvider = (props) => {\r\n    const [isAuth, setIsAuth] = useState(false)\r\n    const [user, setUser] = useState(null)\r\n    const [ext, setExt] = useState(null)\r\n    const [userId, setUserId] = useState(null)\r\n    const [userLevelId, setUserLevelId] = useState(null)\r\n    const [userActivityId, setUserActivityId] = useState(null)\r\n    // const [userActivity, setUserActivity] = useState(null)\r\n    const [passwordExpired, setPasswordExpired] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const getAuth = () => {\r\n            let auth = localStorage.getItem('isAuth')\r\n            auth = JSON.parse(auth)\r\n            if (auth) setIsAuth(auth)\r\n        }\r\n\r\n        if (!isAuth) getAuth()\r\n        return () => setIsAuth(false)\r\n    }, [setIsAuth])\r\n\r\n    useEffect(() => {\r\n        const getUserData = () => {\r\n            let username = cookieService.Get('username')\r\n            let ext = cookieService.Get('ext')\r\n            let user_id = cookieService.Get('user_id')\r\n            // let user_level_id = cookieService.Get('user_level_id')\r\n            let user_level_id = localStorage.getItem('userLevelId')\r\n            // let user_activity_id = localStorage.getItem('userActivityId')\r\n            let password_expired = localStorage.getItem('passwordExpired')\r\n            setUser(username)\r\n            setExt(ext)\r\n            setUserId(user_id)\r\n            setUserLevelId(user_level_id)\r\n            // setUserActivityId(user_activity_id)\r\n            // user_activity_id == 2 ? setUserActivity('Unavailable') : setUserActivity('Available')\r\n            setPasswordExpired(JSON.parse(password_expired))\r\n            // if (user_activity_id == 2) {\r\n            //     setUserActivity(process.env.REACT_APP_USER_NOT_AVAILABLE)\r\n            // } else if (user_activity_id == 8) {\r\n            //     setUserActivity(process.env.REACT_APP_USER_AVAILABLE)\r\n            // } else if (user_activity_id == 9) {\r\n            //     setUserActivity(process.env.REACT_APP_USER_ONLINE)\r\n            // } else {\r\n            //     setUserActivity(process.env.REACT_APP_MY_USER_BREAK)\r\n            // }\r\n        }\r\n\r\n        if (isAuth) getUserData()\r\n        return () => {\r\n            setUser(null)\r\n            setExt(null)\r\n            setUserId(null)\r\n            setUserLevelId(null)\r\n            // setUserActivityId(null)\r\n            // setUserActivity(null)\r\n        }\r\n    }, [isAuth])\r\n\r\n    // useEffect(() => {\r\n    //     let user_activity_id = localStorage.getItem('userActivityId')\r\n\r\n    //     if (user_activity_id == 2) {\r\n    //         setUserActivity(process.env.REACT_APP_USER_NOT_AVAILABLE)\r\n    //     } else if (user_activity_id == 8) {\r\n    //         setUserActivity(process.env.REACT_APP_USER_AVAILABLE)\r\n    //     } else if (user_activity_id == 9) {\r\n    //         setUserActivity(process.env.REACT_APP_USER_ONLINE)\r\n    //     } else {\r\n    //         setUserActivity(process.env.REACT_APP_MY_USER_BREAK)\r\n    //     }\r\n    //     // return () => {\r\n    //     //     cleanup\r\n    //     // }\r\n    // }, [userActivityId])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            isAuth, setIsAuth,\r\n            user, setUser,\r\n            ext, setExt,\r\n            userId, setUserId,\r\n            userLevelId, setUserLevelId,\r\n            passwordExpired, setPasswordExpired\r\n        }}>\r\n            {props.children}\r\n        </AuthContext.Provider >\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nconst ModalFormContext = React.createContext();\r\n\r\nconst ModalFormProvider = (props) => {\r\n    const [state, setState] = useState(false);\r\n    return (\r\n        <ModalFormContext.Provider value={[state, setState]}>\r\n            {props.children}\r\n        </ModalFormContext.Provider>\r\n    );\r\n}\r\n\r\nexport { ModalFormContext, ModalFormProvider };","\r\nimport { useEffect, useContext, createContext } from 'react'\r\nimport { AuthContext } from '.'\r\nimport { cookieService } from '../services'\r\nimport io from 'socket.io-client'\r\n\r\nexport const SocketContext = createContext()\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n    const { isAuth } = useContext(AuthContext)\r\n    // const isAuth = localStorage.getItem('isAuth')\r\n    const socketUrl = process.env.REACT_APP_MY_WEBSOCKET\r\n    const socket = io(socketUrl)\r\n\r\n    useEffect(() => {\r\n        socket.on(\"disconnect\", () => {\r\n            console.log(\"socket disconnected\")\r\n            // if (isAuth) socketReconnect()\r\n        })\r\n\r\n        socket.on(\"connect\", () => {\r\n            console.log(\"socket connected\")\r\n        })\r\n\r\n        if (isAuth) socketReconnect()\r\n\r\n        return () => socket.io.close()\r\n    }, [socket, isAuth])\r\n\r\n    const socketReconnect = () => {\r\n        socket.io.close()\r\n\r\n        setTimeout(() => {\r\n            socket.io.opts.query = {\r\n                token: cookieService.Get(\"socketAuth\"),\r\n                user_id: cookieService.Get(\"user_id\"),\r\n                extension: cookieService.Get(\"ext\"),\r\n            }\r\n            // socket.io.opts.query = `token=${cookieService.Get(\"socketAuth\")}`\r\n            socket.io.open((err) => {\r\n                if (err) {\r\n                    socketReconnect()\r\n                }\r\n            })\r\n        }, 2000)\r\n    }\r\n\r\n    return (<SocketContext.Provider value={socket}>\r\n        {children}\r\n    </SocketContext.Provider>)\r\n}","import { useState, useEffect, createContext } from 'react'\r\nimport { generalService } from '../services'\r\n\r\nexport const CallContext = createContext()\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const CallProvider = (props) => {\r\n    const [onlineStatus, setOnlineStatus] = useState('')\r\n    const [incomingCall, setIncomingCall] = useState(initialIncomingCall)\r\n    const [pickUpCall, setPickUpCall] = useState(initialPickupCall)\r\n\r\n    useEffect(() => {\r\n        const getOnlineStatus = () => {\r\n            let online_status = localStorage.getItem('onlineStatus')\r\n            if (online_status) setOnlineStatus(online_status)\r\n        }\r\n        if (isEmptyValue(onlineStatus)) getOnlineStatus()\r\n        return () => setOnlineStatus('')\r\n    }, [setOnlineStatus])\r\n\r\n    useEffect(() => {\r\n        const getCall = () => {\r\n            let incoming_call = JSON.parse(localStorage.getItem('incomingCall'))\r\n            let pickup_call = JSON.parse(localStorage.getItem('pickupCall'))\r\n\r\n            setIncomingCall({ ...initialIncomingCall, ...incoming_call })\r\n            setPickUpCall({ ...initialPickupCall, ...pickup_call })\r\n        }\r\n\r\n        if (!isEmptyValue(onlineStatus)) getCall()\r\n        return () => {\r\n            setIncomingCall(initialIncomingCall)\r\n            setPickUpCall(initialPickupCall)\r\n        }\r\n    }, [onlineStatus])\r\n\r\n    return (\r\n        <CallContext.Provider value={{ onlineStatus, setOnlineStatus, incomingCall, setIncomingCall, pickUpCall, setPickUpCall }}>\r\n            {props.children}\r\n        </CallContext.Provider >\r\n    )\r\n}\r\n\r\nconst initialIncomingCall = {\r\n    call_id: '',\r\n    channel: '',\r\n    customer_id: '',\r\n    phone_no: '',\r\n    campaign_id: '',\r\n}\r\n\r\nconst initialPickupCall = {\r\n    call_id: '',\r\n    caller_id: '',\r\n    channel: '',\r\n    context: '',\r\n    destchannel: '',\r\n    event: '',\r\n    event_time: '',\r\n    extension: '',\r\n    queue: '',\r\n    socket_id: '',\r\n    unique_id: '',\r\n}\r\n","import { useState, useEffect, createContext, useContext } from 'react'\r\nimport { cookieService } from '../services'\r\nimport { AuthContext } from '.';\r\n\r\nexport const UserActivityContext = createContext()\r\n\r\nexport const UserActivityProvider = (props) => {\r\n    const { isAuth } = useContext(AuthContext)\r\n    const [userActivity, setUserActivity] = useState(null)\r\n    const [userActivityId, setUserActivityId] = useState(null)\r\n\r\n    useEffect(() => {\r\n        let user_activity_id = localStorage.getItem('userActivityId')\r\n\r\n        if (user_activity_id == 2) {\r\n            setUserActivity(process.env.REACT_APP_USER_NOT_AVAILABLE)\r\n        } else if (user_activity_id == 8) {\r\n            setUserActivity(process.env.REACT_APP_USER_AVAILABLE)\r\n        } else if (user_activity_id == 9) {\r\n            setUserActivity(process.env.REACT_APP_USER_ONLINE)\r\n        } else {\r\n            setUserActivity(process.env.REACT_APP_MY_USER_BREAK)\r\n        }\r\n        // return () => {\r\n        //     cleanup\r\n        // }\r\n    }, [userActivityId, isAuth])\r\n\r\n    return (\r\n        <UserActivityContext.Provider value={{\r\n            userActivityId, setUserActivityId,\r\n            userActivity, setUserActivity,\r\n        }}>\r\n            {props.children}\r\n        </UserActivityContext.Provider >\r\n    )\r\n}\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCalls = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/calls'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end', 'start'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetQA = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20,\r\n            order: 'created_at',\r\n            sort: 'desc'\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/qa_list?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportBusinessAchievement = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-bussiness-achivement?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportCallActivity = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-activity?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportCallCustomer = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-customer?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportCallDetail = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-details?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportChecker = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-checker?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportCostViewer = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-cost-viewer?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportPerformanceAgent = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-performance?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Listen = async (destination) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(destination) && !_.isNaN(destination)) {\r\n            await publicApi('post', `listen`, { destination: destination }).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Unlisten = async (channel) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(channel)) {\r\n            await publicApi('post', `listen/unlisten`, { channel: channel }).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Whisper = async (destination) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(destination) && !_.isNaN(destination)) {\r\n            await publicApi('post', `whisper`, { destination: destination }).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Unwhisper = async (channel) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(channel)) {\r\n            await publicApi('post', `whisper/unwhisper`, { channel: channel }).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        GetQA,\r\n        GetReportBusinessAchievement,\r\n        GetReportCallActivity,\r\n        GetReportCallCustomer,\r\n        GetReportCallDetail,\r\n        GetReportChecker,\r\n        GetReportCostViewer,\r\n        GetReportPerformanceAgent,\r\n        Create,\r\n        Update,\r\n        Delete,\r\n        Listen,\r\n        Unlisten,\r\n        Whisper,\r\n        Unwhisper\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCampaignFields = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/campaign_fields'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/getfield?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n        console.log(data)\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const UpdateMultiple = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}/update`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete,\r\n        UpdateMultiple\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCampaignInfos = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/campaign_info'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCampaigns = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/campaigns'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetCall = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end_date_list', 'start_date_list'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/listcall?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetEmail = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end_date_list', 'start_date_list'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/listemail?${paramString}`).then((res) => {\r\n\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Upload = async (campaignId, data) => {\r\n        let result = initialResult\r\n        if (_.isObject(data) && !_.isNaN(campaignId)) {\r\n            await publicApi('post', `${endpoint}/${campaignId}/upload`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const ImportCampaignCall = async (campaignId, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(campaignId)) {\r\n            await publicApi('post', `${endpoint}/${campaignId}/importcallcampaign`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const ImportCampaignEmail = async (campaignId, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(campaignId)) {\r\n            await publicApi('post', `${endpoint}/${campaignId}/importemailcampaign`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Rollback = async (fileUploadId) => {\r\n        let result = initialResult\r\n        if (!_.isNaN(fileUploadId)) {\r\n            await publicApi('put', `${endpoint}/rollback/${fileUploadId}`).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        GetCall,\r\n        GetEmail,\r\n        Create,\r\n        Upload,\r\n        ImportCampaignCall,\r\n        ImportCampaignEmail,\r\n        Rollback,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCampaignUsers = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/campaign_users'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/getusers?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const UpdateMultiple = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}/update`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete,\r\n        UpdateMultiple\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCustomerFields = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/customer_fields'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCustomers = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/customers'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n        // console.log(data)\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useEmailContents = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/email_contents'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useOutboundCategories = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/outbound_categories'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useOutboundCategoryDetails = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/outbound_category_details'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useQualityAssuranceAspects = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/quality_assurance_aspects'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n    \r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useQualityAssuranceDetails = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/quality_assurance_details'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportQaSummary = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-qa-summaries?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        GetReportQaSummary,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useQualityAssurances = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/quality_assurance'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useQualityAssuranceUsers = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/quality_assurance_users'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useUsers = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/users'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const AuthLogin = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}/login`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n\r\n                localStorage.setItem('isAuth', true)\r\n                localStorage.setItem('userActivityId', 2)\r\n                localStorage.setItem('passwordExpired', res.data['password_expired'])\r\n                localStorage.setItem('userLevelId', res.data['user_level_id'])\r\n                setIsAuth(true)\r\n                // setUser(cookieService.Get('username'))\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const AuthLogout = async (ext) => {\r\n        let data = null\r\n        let result = initialResult\r\n\r\n        // if (!isEmptyValue(ext) && !_.isNaN(ext)) {\r\n        //     data = {\r\n        //         extension: ext\r\n        //     }\r\n        // }\r\n\r\n        await publicApi('post', `${endpoint}/logout`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                data: res.data\r\n            }\r\n            localStorage.clear()\r\n            cookieService.Remove('ext')\r\n            cookieService.Remove('user_level_id')\r\n            cookieService.Remove('username')\r\n            cookieService.Remove('ytoken')\r\n\r\n            return history.push({\r\n                pathname: \"/login\",\r\n                state: {\r\n                    alert: {\r\n                        show: true,\r\n                        type: 'success',\r\n                        message: \"You are now logout.\"\r\n                    }\r\n                }\r\n            })\r\n        }).catch((err) => {\r\n            return unauthorized()\r\n        })\r\n\r\n        return result\r\n\r\n    }\r\n\r\n    const StartBreak = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/break/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const EndBreak = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/unbreak/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete,\r\n        AuthLogin,\r\n        AuthLogout,\r\n        StartBreak,\r\n        EndBreak\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useEmails = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/emails'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end_date', 'start_date'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportEmail = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-emails?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        GetReportEmail,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useDepartments = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/departments'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useUserLevels = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/user_levels'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useBreakReasons = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/break_reasons'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCheckingReasons = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/checking_reasons'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useExports = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const endpoint = '/generate'\r\n    const initialResult = {\r\n        success: false,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const ReportBreak = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-break?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportBusinessAchievement = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-bussiness-achivement?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportCallActivity = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-activity?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportCallCustomer = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-customer?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportCallDetail = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-call-details?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportChecker = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-checker?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportCostViewer = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-cost-viewer?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportEmail = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-emails?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportPerformanceAgent = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-performance?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportQualityAssuranceDetail = async (params) => {\r\n        let result = initialResult\r\n        let paramArray = []\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if (params.hasOwnProperty('quality_assurance_user_id') && !_.isNaN(params['quality_assurance_user_id'])) {\r\n                paramArray.push(`quality_assurance_user_id=${params['quality_assurance_user_id']}`)\r\n            }\r\n        }\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            const paramString = `${paramArray.join(\"&\")}`\r\n\r\n            await publicApi('get', `${endpoint}/export-qa-details?${paramString}`).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const ReportQualityAssuranceSummary = async (params) => {\r\n        let result = initialResult\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = {...paramObject, ...params}\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.hasOwnProperty('disable_date')) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item=> delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (paramObject.hasOwnProperty('page')) {\r\n                delete paramObject['page']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-qa-summaries?${paramString}`).then((res) => {\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                data: res.data\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        ReportBreak,\r\n        ReportBusinessAchievement,\r\n        ReportCallActivity,\r\n        ReportCallCustomer,\r\n        ReportCallDetail,\r\n        ReportChecker,\r\n        ReportCostViewer,\r\n        ReportEmail,\r\n        ReportPerformanceAgent,\r\n        ReportQualityAssuranceDetail,\r\n        ReportQualityAssuranceSummary\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useVoices = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const endpoint = '/voices'\r\n    const initialResult = {\r\n        success: false,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let paramArray = []\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if (params.hasOwnProperty('filename')) {\r\n                paramArray.push(`filename=${params['filename']}`)\r\n            }\r\n\r\n            if (params.hasOwnProperty('filedate')) {\r\n                paramArray.push(`filedate=${params['filedate']}`)\r\n            }\r\n        }\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            const paramString = `${paramArray.join(\"&\")}`\r\n\r\n            await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext, CallContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useHangUp = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { setOnlineStatus } = useContext(CallContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/hangup'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n        setOnlineStatus('')\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const HangUp = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n                localStorage.removeItem('onlineStatus');\r\n                localStorage.removeItem('incomingCall');\r\n                localStorage.removeItem('pickupCall');\r\n                localStorage.removeItem('startCall');\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        HangUp,\r\n    }\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCallbacks = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/callbacks'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20,\r\n            sort: \"DESC\"\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end', 'start'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/bri-horizontal.696ae99e.png\";","export default __webpack_public_path__ + \"static/media/synergix-ticket.27ba3151.jpg\";","import { useState, useEffect, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Button, Dropdown, Nav, Navbar } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { AuthContext, UserActivityContext } from '../utils/context'\r\nimport { cookieService } from '../utils/services/'\r\nimport { useUsers } from '../utils/functions'\r\nimport { BriHorizontal } from '../public/assets'\r\n\r\nexport const NavbarComp = ({ handleModalBreak, socket }) => {\r\n    let history = useHistory()\r\n    const { user, userId, setIsAuth } = useContext(AuthContext)\r\n    const { setUserActivityId, userActivity, userActivityId } = useContext(UserActivityContext)\r\n\r\n    const { AuthLogout, Update } = useUsers()\r\n\r\n    const toggleClass = () => {\r\n        document.body.classList.toggle(\"sb-sidenav-toggled\");\r\n    }\r\n\r\n    const handleUserAvailable = async () => {\r\n        await Update(userId, { user_activity_id: 8 }).then(async (res) => {\r\n            if (res.success) {\r\n                localStorage.setItem('userActivityId', 8)\r\n                setUserActivityId(8)\r\n                socket.emit('escorts')\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    const handleLogout = async (e) => {\r\n        e.preventDefault()\r\n        await AuthLogout(cookieService.Get('ext')).then(async (res) => {\r\n            // console.log(res)\r\n            if (res.success) {\r\n                socket.emit('escorts')\r\n                setIsAuth(false)\r\n                cookieService.Remove('socketAuth')\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    return (\r\n        <Navbar className=\"sb-topnav navbar navbar-expand navbar-dark bg-blue\">\r\n            {/* <a className=\"navbar-brand\" href=\"index.html\">Synergix Web</a> */}\r\n            <a className=\"navbar-brand\" href=\"index.html\"><img src={BriHorizontal} width=\"80px\" className=\"img-fluid mx-5\" /></a>\r\n            <Button variant=\"light\" size=\"sm\" className=\"order-1 order-lg-0\" id=\"sidebarToggle\" onClick={toggleClass}><i className=\"fas fa-bars text-secondary\"></i></Button>\r\n            {/* <Button variant=\"light\" size=\"md\" className=\"order-1 order-lg-0 phone\"><i className=\"fas fa-phone-alt\"></i></Button> */}\r\n            <ul className=\"navbar-nav ml-auto mr-0 mr-md-3 my-2 my-md-0\">\r\n                <Dropdown as={Nav.Item}>\r\n                    <Dropdown.Toggle as={Nav.Link} id=\"userDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        <i className=\"fas fa-user fa-fw\"></i>{user} ({userActivity})\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu className=\"dropdown-menu-right\" aria-labelledby=\"userDropdown\">\r\n                        <Dropdown.Item href=\"#\" disabled={userActivityId == 8 && 'true'} onClick={handleUserAvailable}>Available</Dropdown.Item>\r\n                        <Dropdown.Item href=\"#\" onClick={handleModalBreak}>Break</Dropdown.Item>\r\n                        <Dropdown.Divider />\r\n                        <Dropdown.Item href=\"/login\"\r\n                            onClick={handleLogout}>Logout</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            </ul>\r\n        </Navbar >\r\n    )\r\n}","import React from 'react'\r\n\r\nexport const FooterComp = () => {\r\n    return (\r\n        <footer className=\"py-4 bg-light mt-auto\">\r\n            <div className=\"container-fluid\">\r\n                <div className=\"d-flex align-items-center justify-content-between small\">\r\n                    <div className=\"text-muted\">Synergix Talesales&copy;BRI 2021</div>\r\n                    <div>\r\n                        <a href=\"#\">Privacy Policy</a>\r\n                        &middot;\r\n                    <a href=\"#\">Terms &amp; Conditions</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { NavLink } from 'react-bootstrap'\r\nimport classnames from 'classnames'\r\nimport { cookieService } from './../utils/services'\r\n\r\nexport const Sidebar = () => {\r\n    const [openCampaign, setOpenCampaign] = useState(false)\r\n    const [openReport, setOpenReport] = useState(false)\r\n    const [openQualityAssurance, setOpenQualityAssurance] = useState(false)\r\n    const [openSetting, setOpenSetting] = useState(false)\r\n    const { path, url } = useRouteMatch();\r\n    const userLevelId = localStorage.getItem('userLevelId')\r\n\r\n    return (\r\n        <div id=\"layoutSidenav_nav\">\r\n            <nav className=\"sb-sidenav accordion sb-sidenav-blue\" id=\"sidenavAccordion\">\r\n                <div className=\"sb-sidenav-menu\">\r\n                    <div className=\"nav\">\r\n                        {userLevelId && [1,2,5].includes(parseInt(userLevelId)) &&\r\n                            <Link className=\"active\" to='/'>\r\n                                <div className=\"nav-link\">\r\n                                    Dashboard\r\n                                </div>\r\n                            </Link>\r\n                        }\r\n\r\n                        {/* Campaign Group */}\r\n                        {userLevelId && [1,2,5].includes(parseInt(userLevelId)) && <>\r\n                            <NavLink onClick={() => setOpenCampaign(!openCampaign)} href=\"#\" data-toggle=\"collapse\">\r\n                                Campaign\r\n                                <div className=\"sb-sidenav-collapse-arrow\">\r\n                                    <i className={`fas ${openCampaign ? \"fa-angle-left\" : \"fa-angle-down\"}`} />\r\n                                </div>\r\n                            </NavLink>\r\n                            <div className={classnames('collapse', { 'show': openCampaign })} data-parent=\"#sidenavAccordion\">\r\n                                <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                    <Link className=\"active\" to=\"/campaign-calls\">\r\n                                        <div className=\"nav-link\">\r\n                                            Calls\r\n                                        </div>\r\n                                    </Link>\r\n                                    {userLevelId && [2,5].includes(parseInt(userLevelId)) &&\r\n                                        <Link className=\"active\" to=\"/campaign-emails\">\r\n                                            <div className=\"nav-link\">\r\n                                                Emails\r\n                                            </div>\r\n                                        </Link>\r\n                                    }\r\n                                </nav>\r\n                            </div>\r\n                        </>}\r\n                        {/* End of Campaign Group */}\r\n\r\n                        {userLevelId && [1,2,5].includes(parseInt(userLevelId)) &&\r\n                            <Link className=\"active\" to='/callback'>\r\n                                <div className=\"nav-link\">\r\n                                    Scheduled Calls\r\n                                </div>\r\n                            </Link>\r\n                        }\r\n\r\n                        {userLevelId && [1,2,5].includes(parseInt(userLevelId)) &&\r\n                            <Link className=\"active\" to='/user-activity'>\r\n                                <div className=\"nav-link\">\r\n                                    User Activity\r\n                                </div>\r\n                            </Link>\r\n                        }\r\n\r\n                        {/* Reports Group */}\r\n                        {userLevelId && [2,5].includes(parseInt(userLevelId)) && <>\r\n                            <NavLink onClick={() => setOpenReport(!openReport)} href=\"#\" data-toggle=\"collapse\">\r\n                                Reports\r\n                                <div className=\"sb-sidenav-collapse-arrow\">\r\n                                    <i className={`fas ${openReport ? \"fa-angle-left\" : \"fa-angle-down\"}`} />\r\n                                </div>\r\n                            </NavLink>\r\n                            <div className={classnames('collapse', { 'show': openReport })} data-parent=\"#sidenavAccordion\">\r\n                                <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                    <Link className=\"active\" to=\"/reports/call-detail\">\r\n                                        <div className=\"nav-link\">\r\n                                            Call Detail\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/call-customer\">\r\n                                        <div className=\"nav-link\">\r\n                                            Call Customer\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/call-activity\">\r\n                                        <div className=\"nav-link\">\r\n                                            Call Activity\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/performance-agent\">\r\n                                        <div className=\"nav-link\">\r\n                                            Performance Agent\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/business-achievement\">\r\n                                        <div className=\"nav-link\">\r\n                                            Business Achievement\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/break\">\r\n                                        <div className=\"nav-link\">\r\n                                            Break\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/email\">\r\n                                        <div className=\"nav-link\">\r\n                                            Email\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/cost-viewer\">\r\n                                        <div className=\"nav-link\">\r\n                                            Cost Viewer\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to=\"/reports/checker\">\r\n                                        <div className=\"nav-link\">\r\n                                            Checker\r\n                                        </div>\r\n                                    </Link>\r\n                                </nav>\r\n                            </div>\r\n                        </>}\r\n                        {/* End of Reports Group */}\r\n\r\n                        {/* QA Group */}\r\n                        <NavLink onClick={() => setOpenQualityAssurance(!openQualityAssurance)} href=\"#\" data-toggle=\"collapse\">\r\n                            Quality Assurance\r\n                            <div className=\"sb-sidenav-collapse-arrow\">\r\n                                <i className={`fas ${openQualityAssurance ? \"fa-angle-left\" : \"fa-angle-down\"}`} />\r\n                            </div>\r\n                        </NavLink>\r\n                        <div className={classnames('collapse', { 'show': openQualityAssurance })} data-parent=\"#sidenavAccordion\">\r\n                            <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                {parseInt(userLevelId) === 4 &&\r\n                                    <Link className=\"active\" to=\"/quality-assurance\">\r\n                                        <div className=\"nav-link\">\r\n                                            QA List\r\n                                        </div>\r\n                                    </Link>\r\n                                }\r\n                                {userLevelId && [2,3,4,5].includes(parseInt(userLevelId)) &&\r\n                                    <Link className=\"active\" to=\"/quality-assurance-calls\">\r\n                                        <div className=\"nav-link\">\r\n                                            QA Calls\r\n                                        </div>\r\n                                    </Link>\r\n                                }\r\n                                {userLevelId && [1,2,4,5].includes(parseInt(userLevelId)) &&\r\n                                    <Link className=\"active\" to=\"/quality-assurance-report-summaries\">\r\n                                        <div className=\"nav-link\">\r\n                                            QA Report Summaries\r\n                                        </div>\r\n                                    </Link>\r\n                                }\r\n                            </nav>\r\n                        </div>\r\n                        {/* End of QA Group */}\r\n\r\n                        {/* Settings Group */}\r\n                        {userLevelId && [2,5].includes(parseInt(userLevelId)) && <>\r\n                            <NavLink onClick={() => setOpenSetting(!openSetting)} href=\"#\" data-toggle=\"collapse\">\r\n                                Settings\r\n                                <div className=\"sb-sidenav-collapse-arrow\">\r\n                                    <i className={`fas ${openSetting ? \"fa-angle-left\" : \"fa-angle-down\"}`} />\r\n                                </div>\r\n                            </NavLink>\r\n                            <div className={classnames('collapse', { 'show': openSetting })} data-parent=\"#sidenavAccordion\">\r\n                                <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                    <Link className=\"active\" to='/setting/users'>\r\n                                        <div className=\"nav-link\">\r\n                                            Users\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to='/setting/break-reason'>\r\n                                        <div className=\"nav-link\">\r\n                                            Break Reason\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to='/setting/checking-reason'>\r\n                                        <div className=\"nav-link\">\r\n                                            Checking Reason\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to='/setting/outbound-category'>\r\n                                        <div className=\"nav-link\">\r\n                                            Outbound Category\r\n                                        </div>\r\n                                    </Link>\r\n                                    <Link className=\"active\" to='/setting/outbound-category-detail'>\r\n                                        <div className=\"nav-link\">\r\n                                            Outbound Cat. Detail\r\n                                        </div>\r\n                                    </Link>\r\n                                </nav>\r\n                            </div>\r\n                        </>}\r\n                        {/* End of Settings Group */}\r\n\r\n                        \r\n    \r\n                        {/*\r\n                        // <div className=\"sb-sidenav-menu-heading\">Interface</div>\r\n                        // <div onClick={() => setOpen(!open)} className=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#collapseLayouts\" aria-expanded=\"false\" aria-controls=\"collapseLayouts\">\r\n                        //     <div className=\"sb-nav-link-icon\"><i className=\"fas fa-columns\"></i></div>\r\n                        //         Layouts\r\n                        //     <div className=\"sb-sidenav-collapse-arrow\"><i className=\"fas fa-angle-down\"></i></div>\r\n                        // </div>\r\n                        // <Collapse in={open}>\r\n                        // <div className=\"collapse\" id=\"collapseLayouts\" aria-labelledby=\"headingOne\" data-parent=\"#sidenavAccordion\">\r\n                        //     <nav className=\"sb-sidenav-menu-nested nav\">\r\n                        //         <div className=\"nav-link\" href=\"layout-static.html\">Static Navigation</div>\r\n                        //         <div className=\"nav-link\" href=\"layout-sidenav-light.html\">Light Sidenav</div>\r\n                        //     </nav>\r\n                        // </div>\r\n                        </Collapse>\r\n                        <div onClick={() => setOpen2(!open2)} className=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#collapsePages\" aria-expanded=\"false\" aria-controls=\"collapsePages\">\r\n                            <div className=\"sb-nav-link-icon\"><i className=\"fas fa-book-open\"></i></div>\r\n                                Pages\r\n                                <div className=\"sb-sidenav-collapse-arrow\"><i className=\"fas fa-angle-down\"></i></div>\r\n                        </div>\r\n                        <Collapse in={open2}>\r\n                        <div className=\"collapse\" id=\"collapsePages\" aria-labelledby=\"headingTwo\" data-parent=\"#sidenavAccordion\">\r\n                            <nav className=\"sb-sidenav-menu-nested nav accordion\" id=\"sidenavAccordionPages\">\r\n                                <div className=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#pagesCollapseAuth\" aria-expanded=\"false\" aria-controls=\"pagesCollapseAuth\">\r\n                                    Authentication\r\n                                        <div className=\"sb-sidenav-collapse-arrow\"><i className=\"fas fa-angle-down\"></i></div>\r\n                                </div>\r\n                                <div className=\"collapse\" id=\"pagesCollapseAuth\" aria-labelledby=\"headingOne\" data-parent=\"#sidenavAccordionPages\">\r\n                                    <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                        <div className=\"nav-link\" href=\"login.html\">Login</div>\r\n                                        <div className=\"nav-link\" href=\"register.html\">Register</div>\r\n                                        <div className=\"nav-link\" href=\"password.html\">Forgot Password</div>\r\n                                    </nav>\r\n                                </div>\r\n                                <div className=\"nav-link collapsed\" href=\"#\" data-toggle=\"collapse\" data-target=\"#pagesCollapseError\" aria-expanded=\"false\" aria-controls=\"pagesCollapseError\">\r\n                                    Error\r\n                                        <div className=\"sb-sidenav-collapse-arrow\"><i className=\"fas fa-angle-down\"></i></div>\r\n                                </div>\r\n                                <div className=\"collapse\" id=\"pagesCollapseError\" aria-labelledby=\"headingOne\" data-parent=\"#sidenavAccordionPages\">\r\n                                    <nav className=\"sb-sidenav-menu-nested nav\">\r\n                                        <div className=\"nav-link\" href=\"401.html\">401 Page</div>\r\n                                        <div className=\"nav-link\" href=\"404.html\">404 Page</div>\r\n                                        <div className=\"nav-link\" href=\"500.html\">500 Page</div>\r\n                                    </nav>\r\n                                </div>\r\n                            </nav>\r\n                        </div>\r\n                        </Collapse>\r\n                        */}\r\n                        {/*<div className=\"sb-sidenav-menu-heading\">Addons</div>\r\n                        <div className=\"nav-link\" href=\"charts.html\">\r\n                            <div className=\"sb-nav-link-icon\"><i className=\"fas fa-chart-area\"></i></div>\r\n                                Charts\r\n                            </div>\r\n                        <div className=\"nav-link\" href=\"tables.html\">\r\n                            <div className=\"sb-nav-link-icon\"><i className=\"fas fa-table\"></i></div>\r\n                                Tables\r\n    </div>*/}\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"sb-sidenav-footer\">\r\n                    <div className=\"small\">Logged in as: {user || 'user'}</div>\r\n                    <div className=\"small\">Logged in as: user</div>\r\n                    <Button variant=\"primary\"><i className=\"fas fa-phone-alt\"></i></Button>\r\n                </div> */}\r\n            </nav>\r\n        </div >\r\n    )\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\n// import { GeneralContext } from '../context/GeneralContext'\r\n\r\nconst Error = ({ title = \"\", message = \"\", show, showChange }) => {\r\n    const [showAlert, setShowAlert] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (show === false) return\r\n\r\n        setShowAlert(true)\r\n    }, [show])\r\n\r\n    const handleClose = () => {\r\n        setShowAlert(false)\r\n        if (typeof showChange === 'function') showChange()\r\n    }\r\n\r\n    return (\r\n        <Alert variant='danger' show={showAlert} onClose={handleClose} dismissible>\r\n            {!_.isEmpty(title) && <Alert.Heading  className=\"mb-0\">{title}</Alert.Heading>}\r\n            <p className=\"mb-0\">{!_.isEmpty(message) ? message : \"Error\"}</p>\r\n        </Alert>\r\n    )\r\n}\r\n\r\nconst Success = ({ title = \"\", message = \"\", show, showChange }) => {\r\n    const [showAlert, setShowAlert] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (show === false) return\r\n\r\n        setShowAlert(true)\r\n    }, [show])\r\n\r\n    const handleClose = () => {\r\n        setShowAlert(false)\r\n        if (typeof showChange === 'function') showChange()\r\n    }\r\n\r\n    return (\r\n        <Alert variant='info' show={showAlert} onClose={handleClose} dismissible>\r\n            {!_.isEmpty(title) && <Alert.Heading  className=\"mb-0\">{title}</Alert.Heading>}\r\n            <p className=\"mb-0\">{!_.isEmpty(message) ? message : \"Success\"}</p>\r\n        </Alert>\r\n    )\r\n}\r\n\r\nconst Warning = ({ title = \"\", message = \"\", show, showChange }) => {\r\n    const [showAlert, setShowAlert] = useState(true)\r\n\r\n    useEffect(() => {\r\n        if (show === false) return\r\n\r\n        setShowAlert(true)\r\n    }, [show])\r\n\r\n    const handleClose = () => {\r\n        setShowAlert(false)\r\n        if (typeof showChange === 'function') showChange()\r\n    }\r\n\r\n    return (\r\n        <Alert variant='warning' show={showAlert} onClose={handleClose} dismissible>\r\n            {!_.isEmpty(title) && <Alert.Heading  className=\"mb-0\">{title}</Alert.Heading>}\r\n            <p className=\"mb-0\">{!_.isEmpty(message) ? message : \"Warning\"}</p>\r\n        </Alert>\r\n    )\r\n}\r\n\r\nconst Notification = {\r\n    Error,\r\n    Success,\r\n    Warning\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport { paginationService } from './../utils/services'\r\n\r\nexport const Pagination = ({pageChange, total, limit, paging, sibling = 1 }) => {\r\n    let numDots = 0\r\n\r\n    const {\r\n        current,\r\n        first,\r\n        last,\r\n        previuos,\r\n        next\r\n    } = paging\r\n\r\n    const {\r\n        PaginationDots,\r\n        PaginationRange,\r\n        PaginationInfo\r\n    } = paginationService\r\n\r\n    const pageRange = PaginationRange({ total, limit, current, sibling })\r\n\r\n    const pagingInfo = PaginationInfo(total, limit, current)\r\n\r\n    // if (current === 0 || pageRange.length < 2) {\r\n    //     return null;\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <div key=\"pagingInfo\" className=\"py-2 border-top\">\r\n                Showing { pagingInfo.lowest } to { pagingInfo.highest } of { pagingInfo.total } entries\r\n            </div>\r\n            <nav className={ classnames('float-right', {'d-none': current === 0 || pageRange.length < 2}) }>\r\n                <ul className=\"pagination mb-0 pb-0\">\r\n                    <li key=\"previuos\" className={ classnames('page-item', {'d-none': current === first}) }>\r\n                        <button type=\"button\" className=\"page-link\" onClick={() => pageChange(previuos)}>Prev</button>\r\n                    </li>\r\n\r\n                    { pageRange.map(pageNumber => {\r\n                        if (pageNumber === PaginationDots) {\r\n                            numDots++\r\n\r\n                            return (\r\n                                <li key={`pageDots${numDots}`} className=\"page-item disabled\">\r\n                                    <span className=\"page-link\">&#8230;</span>\r\n                                </li>\r\n                            )\r\n                        }\r\n\r\n                        return (\r\n                            <li key={`pageNumber${pageNumber}`} className={ classnames('page-item', {'active': pageNumber === current}) }>\r\n                                {pageNumber == current ?\r\n                                    <span className=\"page-link asd\">{pageNumber}</span>\r\n                                    :\r\n                                    <button type=\"button\" className=\"page-link\" onClick={() => pageChange(pageNumber)}>{pageNumber}</button>\r\n                                }\r\n                            </li>\r\n                        )\r\n                    })}\r\n\r\n                    <li key=\"next\" className={ classnames('page-item', {'d-none': current === last}) }>\r\n                        <button type=\"button\" className=\"page-link\" onClick={() => pageChange(next)}>Next</button>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </>\r\n    )\r\n}","import React from \"react\";\r\nimport { Quill } from \"react-quill\";\r\n\r\n// Custom Undo button icon component for Quill editor. You can import it directly\r\n// from 'quill/assets/icons/undo.svg' but I found that a number of loaders do not\r\n// handle them correctly\r\nconst CustomUndo = () => (\r\n    <svg viewBox=\"0 0 18 18\">\r\n        <polygon className=\"ql-fill ql-stroke\" points=\"6 10 4 12 2 10 6 10\" />\r\n        <path\r\n            className=\"ql-stroke\"\r\n            d=\"M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9\"\r\n        />\r\n    </svg>\r\n);\r\n\r\n// Redo button icon component for Quill editor\r\nconst CustomRedo = () => (\r\n    <svg viewBox=\"0 0 18 18\">\r\n        <polygon className=\"ql-fill ql-stroke\" points=\"12 10 14 12 16 10 12 10\" />\r\n        <path\r\n            className=\"ql-stroke\"\r\n            d=\"M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5\"\r\n        />\r\n    </svg>\r\n);\r\n\r\n// Undo and redo functions for Custom Toolbar\r\nfunction undoChange() {\r\n    this.quill.history.undo();\r\n}\r\nfunction redoChange() {\r\n    this.quill.history.redo();\r\n}\r\n\r\n// Add sizes to whitelist and register them\r\nconst Size = Quill.import(\"formats/size\");\r\nSize.whitelist = [\"extra-small\", \"small\", \"medium\", \"large\"];\r\nQuill.register(Size, true);\r\n\r\n// Add fonts to whitelist and register them\r\nconst Font = Quill.import(\"formats/font\");\r\nFont.whitelist = [\r\n    \"arial\",\r\n    \"comic-sans\",\r\n    \"courier-new\",\r\n    \"georgia\",\r\n    \"helvetica\",\r\n    \"Inter\",\r\n    \"lucida\"\r\n];\r\nQuill.register(Font, true);\r\n\r\n\r\n// Modules object for setting up the Quill editor\r\nexport const modules = (props) => ({\r\n    toolbar: {\r\n        container: \"#\" + props,\r\n        handlers: {\r\n            undo: undoChange,\r\n            redo: redoChange\r\n        }\r\n    },\r\n    history: {\r\n        delay: 500,\r\n        maxStack: 100,\r\n        userOnly: true\r\n    }\r\n});\r\n\r\n// Formats objects for setting up the Quill editor\r\nexport const formats = [\r\n    \"header\",\r\n    \"font\",\r\n    \"size\",\r\n    \"bold\",\r\n    \"italic\",\r\n    \"underline\",\r\n    \"align\",\r\n    \"strike\",\r\n    \"script\",\r\n    \"blockquote\",\r\n    \"background\",\r\n    \"list\",\r\n    \"bullet\",\r\n    \"indent\",\r\n    \"link\",\r\n    \"image\",\r\n    \"video\",\r\n    \"color\",\r\n    \"code-block\"\r\n];\r\n\r\n\r\n// Quill Toolbar component\r\nexport const QuillToolbar = (props) => {\r\n    return (<>\r\n        {props.toolbarId !== undefined &&\r\n            <div id={props.toolbarId}>\r\n\r\n                <span className=\"ql-formats\">\r\n                    <button className=\"ql-bold\" />\r\n                    <button className=\"ql-italic\" />\r\n                    <button className=\"ql-underline\" />\r\n                    <button className=\"ql-strike\" />\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <select className=\"ql-font\">\r\n                        <option value=\"arial\" > Arial </option>\r\n                        <option value=\"comic-sans\">Comic Sans</option>\r\n                        <option value=\"courier-new\">Courier New</option>\r\n                        <option value=\"georgia\">Georgia</option>\r\n                        <option value=\"helvetica\">Helvetica</option>\r\n                        <option value=\"Inter\" selected>Inter</option>\r\n                        <option value=\"lucida\">Lucida</option>\r\n                    </select>\r\n                    {/* <select className=\"ql-size\">\r\n                        <option value=\"extra-small\">Extra Small</option>\r\n                        <option value=\"small\">Small</option>\r\n                        <option value=\"medium\" selected>Medium</option>\r\n                        <option value=\"large\">Large</option>\r\n                    </select> */}\r\n                    <select className=\"ql-header\">\r\n                        <option value=\"1\">Heading 1</option>\r\n                        <option value=\"2\">Heading 2</option>\r\n                        <option value=\"3\">Heading 3</option>\r\n                        <option value=\"4\">Heading 4</option>\r\n                        <option value=\"5\">Heading 5</option>\r\n                        <option value=\"6\">Heading 6</option>\r\n                        <option value=\"\" selected>Normal</option>\r\n                    </select>\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <button className=\"ql-list\" value=\"ordered\" />\r\n                    <button className=\"ql-list\" value=\"bullet\" />\r\n                    <button className=\"ql-indent\" value=\"-1\" />\r\n                    <button className=\"ql-indent\" value=\"+1\" />\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <button className=\"ql-script\" value=\"super\" />\r\n                    <button className=\"ql-script\" value=\"sub\" />\r\n                    <button className=\"ql-blockquote\" />\r\n                    <button className=\"ql-direction\" />\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <select className=\"ql-align\" />\r\n                    <select className=\"ql-color\" />\r\n                    <select className=\"ql-background\" />\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    {/* <button className=\"ql-link\" /> */}\r\n                    {/* <button className=\"ql-image\" /> */}\r\n                    {/* <button className=\"ql-video\" /> */}\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <button className=\"ql-formula\" />\r\n                    <button className=\"ql-code-block\" />\r\n                    <button className=\"ql-clean\" />\r\n                </span>\r\n                <span className=\"ql-formats\">\r\n                    <button className=\"ql-undo\">\r\n                        <CustomUndo />\r\n                    </button>\r\n                    <button className=\"ql-redo\">\r\n                        <CustomRedo />\r\n                    </button>\r\n                </span>\r\n            </div>\r\n        }\r\n    </>)\r\n}\r\nexport default QuillToolbar;","import ReactPlayer from 'react-player'\r\nimport { generalService } from '../utils/services/'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nconst Audio = ({url, loading, autoplay = false, size = \"md\"}) => {\r\n    if (loading) {\r\n        return (\r\n            <div className=\"react-player\" style={StyleAudio(size).playerMask}>Loading audio...</div>\r\n        )\r\n    }\r\n\r\n    if (isEmptyValue(url)) {\r\n        return (\r\n            <div className=\"react-player\" style={StyleAudio(size).playerMask}>No audio found</div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <ReactPlayer\r\n            url={url}\r\n            className=\"react-player\"\r\n            playing={autoplay}\r\n            controls={true}\r\n            height={StyleAudio(size).player['height']}\r\n            width={StyleAudio(size).player['width']}\r\n            style={StyleAudio(size).player}\r\n        />\r\n    )\r\n}\r\n\r\nconst StyleAudio = (size = \"md\") => {\r\n    let player = {\r\n        width: \"100%\",\r\n        color: \"495057\",\r\n        height: \"38px\",\r\n        border: \"1px solid #CED4DA\",\r\n        borderRadius: \"0.25rem\",\r\n        backgroundColor: \"#F5EEF8\"\r\n    }\r\n\r\n    let playerMask = {\r\n        width: \"100%\",\r\n        color: \"495057\",\r\n        border: \"1px solid #CED4DA\",\r\n        height: \"calc(1.5em + 0.75rem + 2px)\",\r\n        padding: \"0.375rem 0.75rem\",\r\n        fontSize: \"1rem\",\r\n        textAlign: \"center\",\r\n        fontWeight: \"400\",\r\n        lineHeight: \"1.5\",\r\n        borderRadius: \"0.25rem\",\r\n        backgroundColor: \"#F5EEF8\"\r\n    }\r\n\r\n    if (size === 'sm') {\r\n        player = {\r\n            ...player,\r\n            height: \"31px\"\r\n        }\r\n\r\n        playerMask = {\r\n            ...playerMask,\r\n            height: \"calc(1.5em + 0.5rem + 2px)\",\r\n            padding: \"0.25rem 0.5rem\",\r\n            fontSize: \"0.875rem\",\r\n            borderRadius: \"0.2rem\"\r\n        }\r\n    }\r\n\r\n    if (size === 'lg') {\r\n        player = {\r\n            ...player,\r\n            height: \"47px\"\r\n        }\r\n\r\n        playerMask = {\r\n            ...playerMask,\r\n            height: \"calc(1.5em + 1rem + 2px))\",\r\n            padding: \"0.5rem 1rem\",\r\n            fontSize: \"1.25rem\",\r\n            borderRadius: \"0.3rem\"\r\n        }\r\n    }\r\n\r\n    return { player, playerMask }\r\n}\r\n\r\nexport const CustomPlayer = {\r\n    Audio\r\n}","import Select from 'react-select'\r\nimport classnames from 'classnames'\r\n\r\nexport const SelectBox = ({ optionSelect, onChangeValue, value, isError = false, isSmall = false }) => {\r\n    return (\r\n        <Select\r\n            options={optionSelect}\r\n            onChange={(selected) => {\r\n                onChangeValue(selected.value)\r\n            }}\r\n            value={optionSelect.filter((opt) => {\r\n                return opt.value === value\r\n            })}\r\n            className={classnames({\r\n                \"is-invalid\": isError\r\n            })}\r\n            styles={StyleSelectBox(isSmall, isError)}\r\n            placeholder=\"Choose...\"\r\n        />\r\n    )\r\n}\r\n\r\nconst StyleSelectBox = (isSmall, isError) => {\r\n    if (isSmall) {\r\n        return {\r\n            container:  (provided, state) => ({\r\n                ...provided,\r\n                padding: \"0\",\r\n                border: \"0\",\r\n                fontSize: \"0.775rem\",\r\n            }),\r\n            control: (provided, state) => ({\r\n                ...provided,\r\n                padding: \"0.01rem 0.5rem\",\r\n                minHeight: \"calc(1.5em + (0.5rem + 2px))\",\r\n                fontSize: \"0.875rem\",\r\n                borderRadius: \"0.2rem\",\r\n                borderColor: isError ? \"#dc3545\" : \"#d8dbe0\",\r\n                boxShadow: \"inset 0 1px 1px rgba(0, 0, 0, 0.075)\",\r\n                transition: \"background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n                \":hover\": {\r\n                    borderColor: isError ? \"#dc3545\" : (state.isFocused ? \"#66afe9\" : \"#d8dbe0\"),\r\n                    boxShadow: isError ? \"0 0 0 0.2rem rgba(220, 53, 69, 0.25)\" : ( state.isFocused ?\r\n                        \"inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6)\" : \"inset 0 1px 1px rgba(0, 0, 0, 0.075)\"\r\n                    ),\r\n                }\r\n            }),\r\n            valueContainer: (provided, state) => ({\r\n                ...provided,\r\n                padding: \"0\"\r\n            }),\r\n            dropdownIndicator: (provided, state) => ({\r\n                ...provided,\r\n                width: \"16px\",\r\n                padding: \"0\",\r\n                marginLeft: \"5px\"\r\n            }),\r\n        }\r\n    }\r\n\r\n    return {\r\n        control: (provided, state) => ({\r\n            ...provided,\r\n            borderColor: isError ? \"#dc3545\" : \"#d8dbe0\",\r\n            boxShadow: \"inset 0 1px 1px rgba(0, 0, 0, 0.075)\",\r\n            transition: \"background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out\",\r\n            \":hover\": {\r\n                borderColor: isError ? \"#dc3545\" : (state.isFocused ? \"#66afe9\" : \"#d8dbe0\"),\r\n                boxShadow: isError ? \"0 0 0 0.2rem rgba(220, 53, 69, 0.25)\" : ( state.isFocused ?\r\n                    \"inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(102, 175, 233, 0.6)\" : \"inset 0 1px 1px rgba(0, 0, 0, 0.075)\"\r\n                ),\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const CustomSelect = {\r\n    SelectBox\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, InputGroup } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { AuthContext } from './../utils/context'\r\nimport { useUsers } from './../utils/functions'\r\nimport { cookieService } from './../utils/services'\r\nimport { Notification } from './../components'\r\n\r\nexport const ModalPasswordExpired = (props) => {\r\n    const fnUsers = useUsers()\r\n    const userId = cookieService.Get('user_id')\r\n    const [notifError, setNotifError] = useState(false)\r\n    const [modalSuccess, setModalSuccess] = useState(false)\r\n    const [passwordShow, setPasswordShow] = useState(false)\r\n    const { passwordExpired, setPasswordExpired } = useContext(AuthContext)\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, clearErrors } = useForm({\r\n        defaultValues: {\r\n            password: \"\",\r\n            password_confirm: \"\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            password: yup.string()\r\n                .required(\"This field is required.\")\r\n                .min(8, \"This field must be at least 8 characters in length.\")\r\n                .matches(\r\n                    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#@$!%*?&-])[A-Za-z\\d@#$!%*?&-]{8,}$/,\r\n                    \"This field must contain at least one uppercase letter, one lowercase letter, one number and one special character.\",\r\n                ),\r\n            password_confirm: yup.string()\r\n                .required(\"This field is required.\")\r\n                .oneOf([yup.ref('password'), \"\"], 'This field does not match to password.')\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n        setNotifError(false)\r\n        setModalSuccess(false)\r\n        setPasswordShow(false)\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnUsers.Update(userId, {password: data['password']}).then((res) => {\r\n            if (res.success) {\r\n                setModalSuccess(true)\r\n                setPasswordExpired(false)\r\n                localStorage.setItem('passwordExpired', false)\r\n            } else {\r\n                setNotifError(true)\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const togglePassword = () => {\r\n        setPasswordShow(!passwordShow)\r\n        document.getElementById('Password').focus()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal show={passwordExpired} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header>\r\n                    <Modal.Title>Password Expired</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                    <Modal.Body className=\"pb-1\">\r\n                        {notifError && <Notification.Error\r\n                            message=\"An error occured, please try again.\"\r\n                            show={true}\r\n                            showChange={() => { setNotifError(false) }}\r\n                        />}\r\n                        <p>Your current password has expired, please change your current password with a new password.</p>\r\n                        <Form.Group controlId=\"Password\">\r\n                            <Form.Label>Password <span className=\"text-danger\">*</span></Form.Label>\r\n                            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                                <Form.Control\r\n                                    // type=\"password\"\r\n                                    type={passwordShow ? 'text' : 'password'}\r\n                                    size=\"sm\"\r\n                                    isInvalid={!!errors.password}\r\n                                    {...register(\"password\")}\r\n                                />\r\n                                <InputGroup.Append>\r\n                                    <InputGroup.Text>\r\n                                        <i className={`far ${passwordShow ? \"fa-eye-slash\" : \"fa-eye\"} fa-fw`} onClick={togglePassword} />\r\n                                    </InputGroup.Text>\r\n                                </InputGroup.Append>\r\n                                <Form.Control.Feedback type=\"invalid\">{errors.password?.message}</Form.Control.Feedback>\r\n                            </InputGroup>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"PasswordConfirm\">\r\n                            <Form.Label>Password Confirm <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.password_confirm}\r\n                                {...register(\"password_confirm\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.password_confirm?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                            {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n            <ModalPasswordExpiredSuccess\r\n                modalShow={modalSuccess}\r\n                modalClose={() => setModalSuccess(false)}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nconst ModalPasswordExpiredSuccess = ({ modalShow, modalClose }) => {\r\n    return (\r\n        <Modal show={modalShow} onHide={modalClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Password Expired</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className=\"text-center\">\r\n                <i className=\"far fa-check-circle fa-3x d-block text-primary\"></i>\r\n                <h5 className=\"mt-2 mb-0\">Success</h5>\r\n                <span className=\"text-muted\">Your password has been updated.</span>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"\">\r\n                <Button variant=\"outline-primary\" onClick={modalClose}>Close</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}","import { Jumbotron, Container } from 'react-bootstrap'\r\n\r\nexport const Error404 = (props) => {\r\n    return (\r\n        <Jumbotron fluid>\r\n            <Container className=\"text-center\">\r\n                <h1 style={{fontSize: '80px'}}>404</h1>\r\n                <p style={{fontSize: '20px'}}>\r\n                    The page you are looking for was not found<br />\r\n                    Or you are unauthorized to access this page\r\n                </p>\r\n            </Container>\r\n        </Jumbotron>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Spinner } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { AuthContext } from '../utils/context'\r\nimport { generalService } from '../utils/services/'\r\nimport { useUsers } from '../utils/functions'\r\nimport { Notification } from '../components'\r\nimport '../public/assets/styles/login.css'\r\nimport { BriLogo } from '../public/assets'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const Login = (props) => {\r\n    const { location, history } = props\r\n    const { AuthLogin } = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n    const { isAuth } = useContext(AuthContext)\r\n    const userLevelId = localStorage.getItem('userLevelId')\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register } = useForm({\r\n        defaultValues: {\r\n            username: \"\",\r\n            password: \"\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            username: yup.string()\r\n                .required(\"Username is required.\"),\r\n            password: yup.string()\r\n                .required(\"Password is required.\"),\r\n        }))\r\n    })\r\n    const [notif, setNotif] = useState({\r\n        show: false,\r\n        type: null\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (isAuth) {\r\n            // console.log(userLevelId)\r\n            if (userLevelId && parseInt(userLevelId) === 3) {\r\n                return history.push(\"/quality-assurance-calls\")\r\n            }\r\n\r\n            if (userLevelId && parseInt(userLevelId) === 4) {\r\n                return history.push(\"/quality-assurance\")\r\n            }\r\n\r\n            return history.push(\"/\")\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isAuth])\r\n\r\n    useEffect(() => {\r\n        if (!isEmptyValue(location.state) && _.isObject(location.state)) {\r\n            if (!isEmptyValue(location.state.alert)) {\r\n                setNotif(location.state.alert)\r\n            }\r\n        }\r\n\r\n        return () => setNotif({\r\n            show: false,\r\n            type: null\r\n        })\r\n    }, [location.state])\r\n\r\n    const onSubmit = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        const authLogin = await AuthLogin(data)\r\n\r\n        if (!authLogin.success) {\r\n            setNotif({\r\n                show: true,\r\n                type: \"error\",\r\n                message: \"Your username or password is incorrect.\"\r\n            })\r\n\r\n            return history.replace(\"/login\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Login</h3>\r\n                    {notif.show && notif.type === 'error' && <Error\r\n                        title={notif.title}\r\n                        message={notif.message}\r\n                        show={notif.show}\r\n                        showChange={() => setNotif({\r\n                            show: false,\r\n                            type: null\r\n                        })}\r\n                    />}\r\n                    {notif.show && notif.type === 'success' && <Success\r\n                        title={notif.title}\r\n                        message={notif.message}\r\n                        show={notif.show}\r\n                        showChange={() => setNotif({\r\n                            show: false,\r\n                            type: null\r\n                        })}\r\n                    />}\r\n                    {notif.show && notif.type === 'warning' && <Warning\r\n                        title={notif.title}\r\n                        message={notif.message}\r\n                        show={notif.show}\r\n                        showChange={() => setNotif({\r\n                            show: false,\r\n                            type: null\r\n                        })}\r\n                    />}\r\n                    <Form onSubmit={handleSubmit(onSubmit)}>\r\n                        <Form.Group controlId=\"Username\">\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Username\"\r\n                                isInvalid={!!errors.username}\r\n                                {...register(\"username\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\" className=\"text-white\">\r\n                                {errors.username?.message}\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"Password\">\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                isInvalid={!!errors.password}\r\n                                {...register(\"password\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\" className=\"text-white\">\r\n                                {errors.password?.message}\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"Extension\">\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Extension\"\r\n                                isInvalid={!!errors.extension}\r\n                                {...register(\"extension\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\" className=\"text-white\">\r\n                                {errors.extension?.message}\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Button type=\"submit\" className=\"btnSubmit\" disabled={isSubmitting}>\r\n                                {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Login\r\n                            </Button>\r\n                        </Form.Group>\r\n                        {/* <Form.Group>\r\n                            <Link to=\"/forgot\" className=\"ForgetPwd\" value=\"Login\">Forget Password?</Link>\r\n                        </Form.Group> */}\r\n                    </Form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <img src={BriLogo} className=\"img-fluid\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","import React, { useEffect, useState, useContext } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { publicApi } from '../utils/services/'\r\nimport { Notification } from '../components';\r\nimport { useHistory, Redirect, Link } from 'react-router-dom'\r\nimport { AuthContext } from '../utils/context';\r\nimport '../public/assets/styles/login.css'\r\nimport { BriLogo } from '../public/assets';\r\n\r\nexport const ForgotPassword = () => {\r\n    const [showNotif, setShowNotif] = useState(false)\r\n    const { register, handleSubmit, formState: { errors } } = useForm()\r\n    const history = useHistory()\r\n    const { user, setUser, isAuth, setIsAuth } = useContext(AuthContext)\r\n    const onSubmit = async (data) => {\r\n        console.log(data)\r\n        const body = {\r\n            username: data.username,\r\n            password: data.password,\r\n            extension: data.extension\r\n        }\r\n        try {\r\n            const login = await publicApi('post', '/token', body)\r\n\r\n            if (login.data.token) {\r\n                localStorage.setItem('user', body.username)\r\n                localStorage.setItem('isAuth', true)\r\n                setUser(body.username)\r\n                setIsAuth(true)\r\n            }\r\n\r\n        } catch (error) {\r\n            setShowNotif(true)\r\n            setTimeout(() => {\r\n                setShowNotif(false)\r\n            }, 5000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <h1>forgot Password</h1>\r\n            {/* <div className=\"row\">\r\n                <div class=\"col-md-6 login-form-2\">\r\n                    <img src={BriLogo} />\r\n                </div>\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Forgot</h3>\r\n                    {showNotif && <Notification.Error title=\"\" message=\"Your username or password is incorrect.\" />}\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Email\" {...register(\"email\", { required: true })} />\r\n                            {errors.username && <span className=\"text-white\">*Email is required</span>}\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btnSubmit\">Submit</button>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <Link to=\"/login\" className=\"ForgetPwd\" value=\"Forgot\">Already have an account? Login!</Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect, useContext } from 'react'\r\nimport { Form, Col, Card } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport Highcharts from 'highcharts'\r\nimport HighchartsExporting from 'highcharts/modules/exporting'\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCampaigns } from './../../utils/functions'\r\nimport { CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nif (typeof Highcharts === 'object') {\r\n    HighchartsExporting(Highcharts)\r\n}\r\n\r\nexport const Dashboard = ({ socket }) => {\r\n    const fnCampaigns = useCampaigns()\r\n    const [highchartsAmount, setHighchartsAmount] = useState([])\r\n    const [highchartsCall, setHighchartsCall] = useState([])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"All Campaign\"\r\n    }])\r\n    const [selectedCampaign, setSelectedCampaign] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                media_id: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionCampaign([{\r\n            value: \"\",\r\n            label: \"All Campaign\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const socketEmit = () => {\r\n            socket.emit(\"amount-all-campaigns\")\r\n            socket.emit(\"call-all-campaigns\")\r\n        }\r\n\r\n        const socketEmitFilter = () => {\r\n            socket.emit(\"amount-campaigns\", {\r\n                campaign_id: selectedCampaign\r\n            })\r\n            socket.emit(\"call-campaigns\", {\r\n                campaign_id: selectedCampaign\r\n            })\r\n        }\r\n\r\n        isEmptyValue(selectedCampaign) ? socketEmit() : socketEmitFilter()\r\n    }, [socket, selectedCampaign])\r\n\r\n    useEffect(() => {\r\n        const socketEvent = () => {\r\n            socket.on(\"total-amount-all-campaigns\", (data) => {\r\n                data = JSON.parse(data)\r\n                let mapData = data.map((row) => {\r\n                    return {\r\n                        name: row.username,\r\n                        data: [row.amount]\r\n                    }\r\n                })\r\n                setHighchartsAmount(mapData)\r\n            })\r\n            socket.on(\"total-call-all-campaigns\", (data) => {\r\n                data = JSON.parse(data)\r\n                let mapData = data.map((row) => {\r\n                    return {\r\n                        name: row.username,\r\n                        data: [row.total_call]\r\n                    }\r\n                })\r\n                setHighchartsCall(mapData)\r\n            })\r\n            socket.on(\"total-amount-campaigns\", (data) => {\r\n                data = JSON.parse(data)\r\n                let mapData = data.filter(i => i.campaign_id === selectedCampaign).map((row) => {\r\n                    return {\r\n                        name: row.username,\r\n                        data: [row.amount]\r\n                    }\r\n                })\r\n                setHighchartsAmount(mapData)\r\n            })\r\n            socket.on(\"total-call-campaigns\", (data) => {\r\n                data = JSON.parse(data)\r\n                // console.log(data, 'total-call-campaings')\r\n                let mapData = data.filter(i => i.campaign_id === selectedCampaign).map((row) => {\r\n                    return {\r\n                        name: row.username,\r\n                        data: [row.total_call]\r\n                    }\r\n                })\r\n                setHighchartsCall(mapData)\r\n            })\r\n        }\r\n\r\n        socketEvent()\r\n        return () => {\r\n            setHighchartsAmount([])\r\n            setHighchartsCall([])\r\n        }\r\n    }, [socket, selectedCampaign])\r\n\r\n    const optionHighchartsAmount = {\r\n        chart: {\r\n            type: 'column'\r\n        },\r\n        title: {\r\n            text: ''\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            categories: [null],\r\n            crosshair: true,\r\n            labels: {\r\n                formatter: () => {\r\n                    return null\r\n                }\r\n            }\r\n        },\r\n        yAxis: {\r\n            min: 0,\r\n            title: {\r\n                text: 'Amount'\r\n            }\r\n        },\r\n        credits: false,\r\n        series: highchartsAmount\r\n    }\r\n\r\n    const optionHighchartsCall = {\r\n        chart: {\r\n            type: 'column'\r\n        },\r\n        title: {\r\n            text: ''\r\n        },\r\n        xAxis: {\r\n            type: 'category',\r\n            categories: [null],\r\n            crosshair: true,\r\n            labels: {\r\n                formatter: () => {\r\n                    return null\r\n                }\r\n            }\r\n        },\r\n        yAxis: {\r\n            min: 0,\r\n            title: {\r\n                text: 'Total Call'\r\n            }\r\n        },\r\n        credits: false,\r\n        series: highchartsCall\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Dashboard</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item active\">Dashboard</li>\r\n            </ol>\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form.Row>\r\n                        <Col md=\"3\">\r\n                            <Form.Label srOnly>Campaign</Form.Label>\r\n                            <CustomSelect.SelectBox\r\n                                optionSelect={optionCampaign}\r\n                                onChangeValue={(value) => setSelectedCampaign(value)}\r\n                                value={selectedCampaign}\r\n                            />\r\n                        </Col>\r\n                    </Form.Row>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-chart-bar mr-1\"></i> Outgoing Call\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <HighchartsReact\r\n                        highcharts={Highcharts}\r\n                        options={optionHighchartsCall}\r\n                    />\r\n                </Card.Body>\r\n            </Card>\r\n            <Card>\r\n                <Card.Header>\r\n                    <i className=\"fas fa-chart-bar mr-1\"></i> Nilai Transaksi\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <HighchartsReact\r\n                        highcharts={Highcharts}\r\n                        options={optionHighchartsAmount}\r\n                    />\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState, useCallback, useRef } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport DatePicker from \"react-datepicker\";\r\nimport classnames from 'classnames'\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport ReactQuill from 'react-quill';\r\nimport { generalService } from '../../utils/services';\r\nimport { useCustomerFields, useEmailContents, useCampaigns } from '../../utils/functions';\r\nimport { EditorToolbar, modules, formats } from '../../components';\r\nimport '../../public/assets/styles/editor.css'\r\n\r\nconst { formatDateTime, isEmptyValue } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const [campaignId, setCampaignId] = useState('')\r\n    const [step, setStep] = useState(1)\r\n\r\n    const handleModalClose = useCallback(() => {\r\n        modalChange({\r\n            show: false,\r\n            campaignId: ''\r\n        })\r\n    }, [modalChange])\r\n\r\n    return (\r\n        <>\r\n            {step === 1 &&\r\n                <FormCampaign setStep={setStep} setCampaignId={setCampaignId} dataChange={dataChange} notifChange={notifChange} />\r\n            }\r\n            {step === 2 &&\r\n                <FormCampaignContent step={step} campaignId={campaignId} handleModalClose={handleModalClose} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaign = ({ setStep, setCampaignId, dataChange, notifChange }) => {\r\n    const { Create } = useCampaigns()\r\n\r\n    const { handleSubmit, formState: { errors }, register, control, reset, clearErrors, setValue } = useForm({\r\n        defaultValues: initialCampaign,\r\n        resolver: validationSchemaCampaign\r\n    })\r\n    const [process, setProcess] = useState(false)\r\n    const [selectedStartDate, setSelectedStartDate] = useState(new Date())\r\n\r\n    // add campaign\r\n    const onSubmit = async (data) => {\r\n        await setProcess(true)\r\n        const body = {\r\n            name: data.name,\r\n            start_date: formatDateTime(data.start_date),\r\n            end_date: formatDateTime(data.end_date),\r\n            media_id: 2\r\n        }\r\n        await Create(body).then(async (res) => {\r\n            if (res.success) {\r\n                setStep(2)\r\n                setCampaignId(res.data.id)\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been added.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to add data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <Modal.Body>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Campaign Names</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Campaign Name\" {...register(\"name\")} isInvalid={!!errors.name} />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name ?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Start Campaign</Form.Label>\r\n                            <Controller\r\n                                name={\"start_date\"}\r\n                                control={control}\r\n                                render={({ field: { value, onChange } }) => {\r\n                                    return (\r\n                                        <DatePicker\r\n                                            className=\"form-control form-control-sm\"\r\n                                            dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                            showTimeInput\r\n                                            disabledKeyboardNavigation\r\n                                            selected={value}\r\n                                            onChange={(date) => {\r\n                                                onChange(date)\r\n                                                formatDateTime(date) === false ? setSelectedStartDate(new Date()) : setSelectedStartDate(date)\r\n                                                setValue('end_date', date)\r\n                                            }}\r\n                                            highlightDates={[new Date(), new Date()]}\r\n                                            minDate={new Date()}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Text className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.start_date\r\n                            })}>{errors.start_date ?.message}</Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>End Campaign</Form.Label>\r\n                            <Controller\r\n                                name={\"end_date\"}\r\n                                control={control}\r\n                                render={({ field: { value, onChange } }) => {\r\n                                    return (\r\n                                        <DatePicker\r\n                                            className=\"form-control form-control-sm\"\r\n                                            dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                            showTimeInput\r\n                                            disabledKeyboardNavigation\r\n                                            selected={value}\r\n                                            onChange={onChange}\r\n                                            highlightDates={[new Date(), new Date()]}\r\n                                            minDate={selectedStartDate}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Text className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.end_date\r\n                            })}>{errors.end_date ?.message}</Form.Text>\r\n                        </Form.Group>\r\n                    </Row>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button type=\"submit\" variant=\"primary\">{process ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Next'}</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaignContent = ({ step, campaignId, handleModalClose }) => {\r\n    const { control, register, reset, handleSubmit, setValue, formState: { errors } } = useForm({\r\n        defaultValues: initialEmailContent,\r\n        resolver: validationSchemaEmailContent\r\n    })\r\n    const [field, setField] = useState({})\r\n    const { Get } = useCustomerFields()\r\n    const { Create } = useEmailContents()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [process, setProcess] = useState(false)\r\n    const quillRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"100\",\r\n                order: \"field_name_display\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setField(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n    }, [step])\r\n\r\n    const handleInputField = e => {\r\n        if (!isEmptyValue(quillRef.current.getEditorContents())) {\r\n            let CurrentPosition = quillRef.current.getEditorSelection().index\r\n            quillRef.current.editor.insertText(CurrentPosition, `<<${e.target.value}>>`)\r\n        }\r\n    }\r\n\r\n\r\n    const onSubmit = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await setProcess(true)\r\n        await Create({ ...data, campaign_id: campaignId }).then((res) => {\r\n            if (res.success) {\r\n                handleModalClose()\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? (\r\n                <Modal.Body>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                    Loading data...\r\n                            </Modal.Body>\r\n            ) : (\r\n                    <>\r\n                        <Form onSubmit={handleSubmit(onSubmit)}>\r\n                            <Modal.Body>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Form.Group className=\"mb-3\">\r\n                                            <Form.Label>Subject</Form.Label>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                size=\"sm\"\r\n                                                isInvalid={!!errors.subject}\r\n                                                {...register(\"subject\")}\r\n                                            />\r\n                                            <Form.Control.Feedback type=\"invalid\">{errors.subject ?.message}</Form.Control.Feedback>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3\">\r\n                                            <Form.Label>Content</Form.Label>\r\n                                            <EditorToolbar toolbarId={'t1'} />\r\n                                            <Controller\r\n                                                name={\"content\"}\r\n                                                control={control}\r\n                                                render={({ field: { value, onChange } }) => {\r\n                                                    return (\r\n                                                        <ReactQuill\r\n                                                            ref={quillRef}\r\n                                                            theme=\"snow\"\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            modules={modules('t1')}\r\n                                                            formats={formats}\r\n                                                        />\r\n                                                    )\r\n                                                }}\r\n                                            />\r\n                                        </Form.Group>\r\n                                        <Form.Text className={classnames(\"text-danger\", {\r\n                                            \"d-none\": !errors.content\r\n                                        })}>{errors.content ?.message}</Form.Text>\r\n                                    </Col>\r\n                                    {/* <Col md=\"auto\">Variable width content</Col> */}\r\n                                    <Col xs lg=\"4\">\r\n                                        <Form.Group className=\"mb-3\" >\r\n                                            <Form.Label>Field Name</Form.Label>\r\n                                            <select className=\"form-control\" size=\"20\" onChange={handleInputField}>\r\n                                                {!isEmptyValue(field) > 0 && field.map(item => (\r\n                                                    <option key={item.id} value={item.field_name}>\r\n                                                        {item.field_display_name}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button type=\"submit\" variant=\"primary\">{process ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Next'}</Button>\r\n                            </Modal.Footer>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialCampaign = {\r\n    name: \"\",\r\n    start_date: new Date(),\r\n    end_date: new Date()\r\n}\r\n\r\nconst validationSchemaCampaign = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\"),\r\n    start_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    end_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n}))\r\n\r\n\r\nconst initialEmailContent = {\r\n    campaign_id: \"\",\r\n    subject: \"\",\r\n    content: \"\",\r\n    is_active: 1\r\n}\r\n\r\nconst validationSchemaEmailContent = yupResolver(yup.object().shape({\r\n    subject: yup.string()\r\n        .required(\"This field is required.\"),\r\n    content: yup.string()\r\n        .required(\"This field is required.\")\r\n}))","import React, { useEffect, useState, useRef } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col, Nav } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport DatePicker from \"react-datepicker\";\r\nimport _ from 'lodash'\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport classnames from 'classnames'\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport ReactQuill from 'react-quill';\r\nimport { useCampaigns, useCustomerFields, useEmailContents } from '../../utils/functions';\r\nimport { Notification } from '../../components'\r\nimport { generalService } from '../../utils/services';\r\nimport { EditorToolbar, modules, formats } from '../../components';\r\nimport '../../public/assets/styles/editor.css'\r\n\r\nconst { formatDateTime, isEmptyValue } = generalService\r\n\r\nexport const FormDetail = ({ dataId, modalChange, notifChange, dataChange }) => {\r\n    const [step, setStep] = useState(1)\r\n    const { Success, Error } = Notification\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Data has been updated.\" /> :\r\n                <Error message=\"Failed to update data.\" />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavTab setStep={setStep} step={step} />\r\n            {step === 1 &&\r\n                <FormCampaign dataId={dataId} setStep={setStep} step={step} dataChange={dataChange} campaignId={dataId} handleAlert={handleAlert} />\r\n            }\r\n            {step === 2 &&\r\n                <FormCampaignContent setStep={setStep} step={step} campaignId={dataId} handleAlert={handleAlert} handleAlert={handleAlert} />\r\n            }\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaign = ({ dataId, step, setStep, dataChange, campaignId, handleAlert }) => {\r\n    const { Get, Update } = useCampaigns()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [alert, setAlert] = useState(null)\r\n\r\n    const { register, handleSubmit, reset, control, formState: { errors }, setValue } = useForm({\r\n        defaultValues: initialCampaign,\r\n        resolver: validationSchemaCampaign\r\n    });\r\n    const [selectedStartDate, setSelectedStartDate] = useState(new Date())\r\n\r\n    // add campaign\r\n    const onSubmit = async (data) => {\r\n        await setIsLoading(true)\r\n\r\n        const body = {\r\n            name: data.name,\r\n            start_date: formatDateTime(data.start_date),\r\n            end_date: formatDateTime(data.end_date),\r\n        }\r\n        await Update(campaignId, body).then(async (res) => {\r\n            if (res.success) {\r\n                await setIsLoading(false)\r\n                dataChange()\r\n                setAlert(1)\r\n            } else {\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({ id: dataId }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        start_date: new Date(res.data.start_date) || null,\r\n                        end_date: new Date(res.data.end_date) || null,\r\n                    }, { keepErrors: false })\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n    }, [reset]);\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <Modal.Body>\r\n                    {\r\n                        alert && handleAlert(alert)\r\n                    }\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Campaign Name</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Campaign Name\" {...register(\"name\")} isInvalid={!!errors.name} />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name ?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Start Campaign</Form.Label>\r\n                            <Controller\r\n                                control={control}\r\n                                name='start_date'\r\n                                className=\"form-control\"\r\n                                render={({ field: { value, onChange } }) => (\r\n                                    <DatePicker\r\n                                        className=\"form-control form-control-sm\"\r\n                                        dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                        showTimeInput\r\n                                        disabledKeyboardNavigation\r\n                                        selected={value}\r\n                                        onChange={(date) => {\r\n                                            onChange(date)\r\n                                            formatDateTime(date) === false ? setSelectedStartDate(new Date()) : setSelectedStartDate(date)\r\n                                            setValue('end_date', date)\r\n                                        }}\r\n                                        highlightDates={[new Date(), new Date()]}\r\n                                        minDate={new Date()}\r\n                                    />\r\n                                )}\r\n                            />\r\n\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>End Campaign</Form.Label>\r\n                            <Controller\r\n                                control={control}\r\n                                name='end_date'\r\n                                className=\"form-control\"\r\n                                render={({ field: { value, onChange } }) => (\r\n                                    <DatePicker\r\n                                        className=\"form-control form-control-sm\"\r\n                                        dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                        showTimeInput\r\n                                        disabledKeyboardNavigation\r\n                                        selected={value}\r\n                                        onChange={onChange}\r\n                                        highlightDates={[new Date(), new Date()]}\r\n                                        minDate={selectedStartDate}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Form.Group>\r\n                    </Row>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\">{isLoading ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaignContent = ({ step, campaignId, handleModalClose, handleAlert }) => {\r\n    const [field, setField] = useState({})\r\n    const { Get } = useCustomerFields()\r\n    const fnEmailContents = useEmailContents()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [process, setProcess] = useState(false)\r\n    const [emailId, setEmailId] = useState(null)\r\n    const [alert, setAlert] = useState(null)\r\n    const quillRef = useRef();\r\n\r\n    const { control, register, reset, handleSubmit, setValue, formState: { errors } } = useForm({\r\n        defaultValues: initialEmailContent,\r\n        resolver: validationSchemaEmailContent\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"100\",\r\n                order: \"field_name_display\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setField(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n            await fnEmailContents.Get({\r\n                campaign_id: campaignId,\r\n                limit: \"100\",\r\n                order: \"field_name_display\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        ...initialEmailContent,\r\n                        campaign_id: res.data.campaign_id || \"\",\r\n                        subject: res.data[0].subject || \"\",\r\n                        content: res.data[0].content || \"\",\r\n                    }, { keepErrors: false })\r\n                    setEmailId(res.data[0].id)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n    }, [step])\r\n\r\n    const handleInputField = e => {\r\n        if (!isEmptyValue(quillRef.current.getEditorContents())) {\r\n            let CurrentPosition = quillRef.current.getEditorSelection().index\r\n            quillRef.current.editor.insertText(CurrentPosition, `<<${e.target.value}>>`)\r\n        }\r\n    }\r\n\r\n    const onSubmit = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await setProcess(true)\r\n        await fnEmailContents.Update(emailId, data).then((res) => {\r\n            if (res.success) {\r\n                setAlert(1)\r\n                setProcess(false)\r\n            } else {\r\n                setAlert(2)\r\n                setProcess(false)\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading ? (\r\n                <Modal.Body>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                    Loading data...\r\n                            </Modal.Body>\r\n            ) : (\r\n                    <>\r\n                        <Form onSubmit={handleSubmit(onSubmit)}>\r\n                            <Modal.Body>\r\n                                {\r\n                                    alert && handleAlert(alert)\r\n                                }\r\n                                <Row>\r\n                                    <Col>\r\n                                        <Form.Group className=\"mb-3\">\r\n                                            <Form.Label>Subject</Form.Label>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                size=\"sm\"\r\n                                                isInvalid={!!errors.subject}\r\n                                                {...register(\"subject\")}\r\n                                            />\r\n                                            <Form.Control.Feedback type=\"invalid\">{errors.subject ?.message}</Form.Control.Feedback>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3\">\r\n                                            <Form.Label>Content</Form.Label>\r\n                                            <EditorToolbar toolbarId={'t1'} />\r\n                                            <Controller\r\n                                                name={\"content\"}\r\n                                                control={control}\r\n                                                render={({ field: { value, onChange } }) => {\r\n                                                    return (\r\n                                                        <ReactQuill\r\n                                                            ref={quillRef}\r\n                                                            theme=\"snow\"\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            modules={modules('t1')}\r\n                                                            formats={formats}\r\n                                                        />\r\n                                                    )\r\n                                                }}\r\n                                            />\r\n                                        </Form.Group>\r\n                                        <Form.Text className={classnames(\"text-danger\", {\r\n                                            \"d-none\": !errors.content\r\n                                        })}>{errors.content ?.message}</Form.Text>\r\n                                    </Col>\r\n                                    {/* <Col md=\"auto\">Variable width content</Col> */}\r\n                                    <Col xs lg=\"4\">\r\n                                        <Form.Group className=\"mb-3\" >\r\n                                            <Form.Label>Field Name</Form.Label>\r\n                                            <select className=\"form-control\" size=\"20\" onChange={handleInputField}>\r\n                                                {field && field.map(item => (\r\n                                                    <option key={item.id} value={item.field_name}>\r\n                                                        {item.field_display_name}\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button type=\"submit\" variant=\"primary\">{process ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                            </Modal.Footer>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nconst NavTab = ({ setStep, step }) => {\r\n    return (\r\n        <Nav variant=\"tabs\" defaultActiveKey={`link-${step}`}>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-1\" onClick={() => setStep(1)}>Campaign</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-2\" onClick={() => setStep(2)}>Campain Email</Nav.Link>\r\n            </Nav.Item>\r\n        </Nav>\r\n    )\r\n\r\n}\r\n\r\nconst initialCampaign = {\r\n    name: \"\",\r\n    start_date: new Date(),\r\n    end_date: new Date()\r\n}\r\n\r\nconst validationSchemaCampaign = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\"),\r\n    start_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    end_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n}))\r\n\r\nconst initialEmailContent = {\r\n    campaign_id: \"\",\r\n    subject: \"\",\r\n    content: \"\",\r\n    is_active: 1\r\n}\r\n\r\nconst validationSchemaEmailContent = yupResolver(yup.object().shape({\r\n    subject: yup.string()\r\n        .required(\"This field is required.\"),\r\n    content: yup.string()\r\n        .required(\"This field is required.\")\r\n}))","import { Button, Form, Modal, Spinner, Table, Row } from \"react-bootstrap\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport DatePicker from 'react-datepicker'\r\nimport _ from \"lodash\";\r\nimport { Pagination, Notification } from \"./../../components\";\r\nimport { useFileUploads, useCampaigns } from \"../../utils/functions\";\r\nimport { generalService } from \"../../utils/services\";\r\n\r\nconst { formatDate } = generalService\r\n\r\nexport const Rollback = ({ campaignId, dataChange }) => {\r\n    const { Get } = useFileUploads()\r\n    const fnCampaign = useCampaigns()\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalConfirm, setModalConfirm] = useState(initialModal)\r\n    const [disableDate, setDisableDate] = useState(true)\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const [formFilter, setFormFilter] = useState({\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: true,\r\n        campaign_id: campaignId,\r\n        is_active: 1,\r\n        limit: 5,\r\n    })\r\n\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    });\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start', 'end'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalConfirm = async (id) => {\r\n        setModalConfirm({\r\n            ...modalConfirm,\r\n            show: !modalConfirm.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalRollback = async (id) => {\r\n        setAlert(null)\r\n        await fnCampaign.Rollback(id)\r\n            .then(async res => {\r\n                console.log(res)\r\n                if (res.success) {\r\n                    setAlert(1)\r\n                    setIsLoading(true)\r\n                } else {\r\n                    setAlert(2)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                return\r\n            })\r\n        handleModalClose()\r\n        dataChange()\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        setModalConfirm(initialModal)\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Rollback successed.\" /> :\r\n                <Error message=\"Failed to rollback this file.\" />\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter)\r\n                .then(res => {\r\n                    setTableData(res);\r\n                    setIsLoading(false);\r\n                })\r\n                .catch(err => {\r\n                    return;\r\n                });\r\n        };\r\n        fetchData();\r\n    }, [isLoading, currentFilter]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {\r\n                        alert && handleAlert(alert)\r\n                    }\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" defaultChecked={formFilter.disable_date} className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-3\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-3\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end) >= new Date(formFilter.start) ? new Date(formFilter.end) : new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end\"\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n                        </Row>\r\n                        <button type=\"submit\" className=\"btn btn-primary mt-4\">Search</button>\r\n                    </form>\r\n                    <hr />\r\n                    <div className=\"table-responsive\">\r\n                        <Table\r\n                            striped\r\n                            hover\r\n                            responsive\r\n                            width=\"100%\"\r\n                            cellSpacing=\"0\"\r\n                            cellPadding=\"0\"\r\n                        >\r\n                            <thead className=\"thead-dark text-nowrap\">\r\n                                <tr>\r\n                                    <th>File Name</th>\r\n                                    <th>Uploaded Date</th>\r\n                                    <th>Uploaded By</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody className=\"text-nowrap\">\r\n                                {isLoading ? (\r\n                                    <tr>\r\n                                        <td colSpan=\"9\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                    </td>\r\n                                    </tr>\r\n                                ) : tableData.total_data > 0 ? (\r\n                                    tableData.data.map((item, i) => (\r\n                                        <tr key={item.id}>\r\n                                            <td>{item.original_filename}</td>\r\n                                            <td>{item.created_at}</td>\r\n                                            <td>{item.upload_by}</td>\r\n                                            <td>\r\n                                                <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => { handleModalConfirm(item.id) }}>\r\n                                                    Rollback\r\n                                                </Button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                ) : (\r\n                                            <>\r\n                                                <tr>\r\n                                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                                        <span className=\"text-danger\">No data found</span>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </>\r\n                                        )}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                    {isLoading === false && !_.isEmpty(tableData) && (\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async pageNumber => {\r\n                                await setIsLoading(true);\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                });\r\n                            }}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <Modal show={modalConfirm.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Confirm Rollback File</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure want to rollback this file?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={handleModalClose}>No</Button>\r\n                    <Button variant=\"primary\" onClick={e => { handleModalRollback(modalConfirm.dataId) }}>\r\n                        Yes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useFileUploads = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/file_uploads'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n        // console.log(params)\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (paramObject.disable_date) {\r\n                ['disable_date', 'end', 'start'].forEach(e => delete paramObject[e]);\r\n            }\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport DatePicker from \"react-datepicker\";\r\nimport _ from 'lodash'\r\nimport { FormAdd } from './FormAdd';\r\nimport { FormDetail } from './FormDetail';\r\nimport { Pagination, Notification } from './../../components'\r\nimport { generalService } from '../../utils/services';\r\nimport { useCampaigns } from './../../utils/functions'\r\nimport { Rollback } from '../CampaignCalls/Rollback';\r\nimport { AuthContext } from '../../utils/context';\r\n\r\nconst { formatDate } = generalService\r\n\r\nexport const CampaignEmails = (props) => {\r\n    const { GetEmail } = useCampaigns()\r\n    const { userLevelId } = useContext(AuthContext)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [notif, setNotif] = useState(false)\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [modalRollback, setModalRollback] = useState(initialModal)\r\n    const [tableData, setTableData] = useState({})\r\n    const { Error, Success, Warning } = Notification\r\n    const [disableDate, setDisableDate] = useState(false)\r\n    const [formFilter, setFormFilter] = useState({\r\n        start_date_list: formatDate(),\r\n        end_date_list: formatDate(),\r\n        name: \"\",\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalRollback = (id, name) => {\r\n        setModalRollback({\r\n            ...modalRollback,\r\n            show: !modalRollback.show,\r\n            dataId: id,\r\n            campaigName: name\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start_date_list', 'end_date_list'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        await GetEmail()\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n        setModalRollback(initialModal)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await GetEmail(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                console.log(res)\r\n                setIsLoading(false)\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (isLoading) fetchData()\r\n        return () => fnAbort.abort()\r\n    }, [isLoading, currentFilter])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Campaign Email</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item active\">Campaign Email</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start_date_list)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start_date\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start_date_list\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end_date_list) >= new Date(formFilter.start_date_list) ? new Date(formFilter.end_date_list) : new Date(formFilter.start_date_list)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end_date\"\r\n                                    minDate={new Date(formFilter.start_date_list)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end_date_list\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n                            <div className=\"form-group col-md-2\">\r\n                                <label htmlFor=\"inputState\">Name</label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"name\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    {(userLevelId == 2 || userLevelId == 5) &&\r\n                        <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Campaign</Button>\r\n                    }\r\n                    <hr />\r\n                    <div className=\"table-responsive\">\r\n                        <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                            <thead className=\"thead-dark\">\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Name</th>\r\n                                    <th>Start Date</th>\r\n                                    <th>End Date</th>\r\n                                    <th>Total Recepients</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tfoot>\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Name</th>\r\n                                    <th>Start Date</th>\r\n                                    <th>End Date</th>\r\n                                    <th>Total Recepients</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </tfoot>\r\n                            <tbody>\r\n                                {isLoading ? (\r\n                                    <tr>\r\n                                        <td colSpan=\"9\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                                        </td>\r\n                                    </tr>\r\n                                ) : (\r\n                                    tableData.total_data > 0 ? (\r\n                                        tableData.data.map((item, i) => (\r\n                                            <tr key={item.id} className=\"text-center\">\r\n                                                <td>{tableData.paging.index[i]}</td>\r\n                                                <td>{item.name}</td>\r\n                                                <td>{item.start_date.substring(0, 10)}</td>\r\n                                                <td>{item.end_date.substring(0, 10)}</td>\r\n                                                <td>{item.total_receptients}</td>\r\n\r\n                                                <td >\r\n                                                    {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                        <Button variant=\"primary\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => {\r\n                                                            handleModalDetail(item.id)\r\n                                                        }}>\r\n                                                            <i className=\"fas fa-edit fa-fw\"></i>\r\n                                                        </Button>\r\n                                                    }\r\n                                                    {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                        <Link to={`emails/${item.id}/${item.name}`} variant=\"warning\" size=\"sm\" className=\"m-1\">\r\n                                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\">\r\n                                                                <i className=\"fas fa-envelope fa-fw\"></i>\r\n                                                            </Button>\r\n                                                        </Link>\r\n                                                    }\r\n                                                    {/* {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                            <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Rollback Campign Call\" onClick={(e) => { handleModalRollback(item.id, item.name) }}>\r\n                                                                <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                            </Button>\r\n                                                        } */}\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    ) : (\r\n                                        <>\r\n                                            <tr>\r\n                                                <td colSpan=\"7\" className=\"text-center\"><span className=\"text-danger\">No data found</span></td>\r\n                                            </tr>\r\n                                        </>\r\n                                    )\r\n                                )}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                    {isLoading === false && !_.isEmpty(tableData) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async (pageNumber) => {\r\n                                await setIsLoading(true)\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" size=\"lg\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>New Campaign Email</Modal.Title>\r\n                </Modal.Header>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                    isLoading={isLoading}\r\n                    setIsLoading={setIsLoading}\r\n                />\r\n            </Modal>\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" size=\"lg\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Detail Campaign Email</Modal.Title>\r\n                </Modal.Header>\r\n                <FormDetail\r\n                    dataId={modalDetail.dataId}\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalRollback.show} onHide={handleModalClose} backdrop=\"static\" size=\"lg\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Rollback Campaign {modalRollback.campaigName}</Modal.Title>\r\n                </Modal.Header>\r\n                <Rollback\r\n                    modalChange={(params) => {\r\n                        setModalRollback({\r\n                            ...modalRollback,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={() => {\r\n                        setIsLoading(true)\r\n                    }}\r\n                    campaignId={modalRollback.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    campaignId: \"\"\r\n}","import React, { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Row, Table, Spinner, Collapse } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport classnames from 'classnames'\r\nimport { generalService } from '../../utils/services'\r\nimport { useCampaignInfos } from '../../utils/functions'\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { EditorToolbar, modules, formats } from '../../components';\r\nimport '../../public/assets/styles/editor.css'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const CampaignInfo = ({ modalClose, campaignId }) => {\r\n    const { Get, Delete } = useCampaignInfos()\r\n    const [tableData, setTableData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        limit: 5,\r\n        is_active: 1,\r\n        order: \"name\",\r\n        campaign_id: campaignId\r\n    })\r\n    const [toggle, setToggle] = useState({\r\n        showTableData: true,\r\n        showFormData: false,\r\n        campaignInfoId: \"\"\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => fnAbort.abort()\r\n    }, [loading])\r\n\r\n    const handleDeleteData = async (id) => {\r\n        await Delete(id).then((res) => {\r\n            if (res.success) {\r\n                setLoading(true)\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleToggle = (id) => {\r\n        setToggle({\r\n            ...toggle,\r\n            showTableData: !toggle.showTableData,\r\n            showFormData: !toggle.showFormData,\r\n            campaignInfoId: !isEmptyValue(id) ? id : \"\"\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Collapse in={toggle.showTableData} unmountOnExit={false} mountOnEnter={true}>\r\n                <div className=\"collapse-wrapper\">\r\n                    <Modal.Body className=\"pb-1\">\r\n                        <div className=\"mb-2\">\r\n                            <Button variant=\"success\" size=\"sm\" onClick={() => handleToggle()}>Add New</Button>\r\n                        </div>\r\n                        <Table striped bordered hover responsive width=\"100%\" className=\"mb-2\" size=\"sm\">\r\n                            <thead className=\"thead-dark\">\r\n                                <tr>\r\n                                    <th width=\"75%\">Name</th>\r\n                                    <th width=\"25%\" className=\"text-center\">Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {loading &&\r\n                                    <tr>\r\n                                        <td colSpan=\"2\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                                        </td>\r\n                                    </tr>\r\n                                    || !loading && isEmptyValue(tableData.data) &&\r\n                                    <tr>\r\n                                        <td colSpan=\"2\" className=\"text-center\">\r\n                                            <span className=\"text-danger\">No data found</span>\r\n                                        </td>\r\n                                    </tr>\r\n                                    || !loading && !isEmptyValue(tableData.data) &&\r\n                                    tableData.data.map((row, i) => (\r\n                                        <tr key={row.id}>\r\n                                            <td>{row.name}</td>\r\n                                            <td className=\"text-center\">\r\n                                                <Button variant=\"warning\" className=\"m-1\" title=\"Detail Data\" size=\"sm\" onClick={(e) => { handleToggle(row.id) }}>\r\n                                                    <i className=\"fas fa-edit fa-fw\"></i>\r\n                                                </Button>\r\n                                                <Button variant=\"danger\" className=\"m-1\" title=\"Delete Data\" size=\"sm\" onClick={(e) => { handleDeleteData(row.id) }}>\r\n                                                    <i className=\"fas fa-trash-alt fa-fw\"></i>\r\n                                                </Button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </Table>\r\n                        {!loading && !isEmptyValue(tableData.paging) &&\r\n                            <div className=\"d-flex justify-content-between pb-2\">\r\n                                <Button variant=\"info\" size=\"sm\" onClick={() => {\r\n                                    setCurrentFilter({\r\n                                        ...currentFilter,\r\n                                        page: tableData.paging.previuos\r\n                                    })\r\n                                    setLoading(true)\r\n                                }} className={classnames('mr-auto', {\r\n                                    'd-none': tableData.paging.current === tableData.paging.previuos\r\n                                })}>Prev</Button>\r\n                                <Button variant=\"info\" size=\"sm\" onClick={() => {\r\n                                    setCurrentFilter({\r\n                                        ...currentFilter,\r\n                                        page: tableData.paging.next\r\n                                    })\r\n                                    setLoading(true)\r\n                                }} className={classnames('ml-auto', {\r\n                                    'd-none': tableData.paging.current === tableData.paging.next\r\n                                })}>Next</Button>\r\n                            </div>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" onClick={modalClose}>Close</Button>\r\n                    </Modal.Footer>\r\n                </div>\r\n            </Collapse>\r\n            <FormData\r\n                showFormData={toggle.showFormData}\r\n                toggleChange={(params) => {\r\n                    setToggle({\r\n                        ...toggle,\r\n                        ...params\r\n                    })\r\n                }}\r\n                dataChange={() => {\r\n                    setLoading(true)\r\n                }}\r\n                campaignId={campaignId}\r\n                campaignInfoId={toggle.campaignInfoId}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormData = ({ showFormData, toggleChange, dataChange, campaignId, campaignInfoId }) => {\r\n    const { Get, Create, Update } = useCampaignInfos()\r\n    const { control, register, reset, handleSubmit, formState: { errors } } = useForm({\r\n        defaultValues: initialDataCampaignInfo,\r\n        resolver: validationSchemaCampaignInfo\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            if (isEmptyValue(campaignInfoId)) {\r\n                return reset({\r\n                    ...initialDataCampaignInfo,\r\n                    campaign_id: String(campaignId)\r\n                }, { keepErrors: false })\r\n            }\r\n\r\n            await Get({ id: campaignInfoId }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        ...initialDataCampaignInfo,\r\n                        campaign_id: res.data.campaign_id || \"\",\r\n                        name: res.data.name || \"\",\r\n                        info: res.data.info || \"\",\r\n                    }, { keepErrors: false })\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => fnAbort.abort()\r\n    }, [campaignInfoId])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        if (isEmptyValue(campaignInfoId)) {\r\n            await Create(data).then((res) => {\r\n                if (res.success) {\r\n                    dataChange()\r\n                }\r\n\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        } else {\r\n            await Update(campaignInfoId, data).then((res) => {\r\n                if (res.success) {\r\n                    dataChange()\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        handleToggleChange()\r\n    }\r\n\r\n    const handleToggleChange = useCallback(() => {\r\n        toggleChange({\r\n            showFormData: false,\r\n            showTableData: true,\r\n            isDisabled: false,\r\n            campaignInfoId: null\r\n        })\r\n    }, [toggleChange])\r\n\r\n    return (\r\n        <>\r\n            <Collapse in={showFormData} unmountOnExit={false} mountOnEnter={true}>\r\n                <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                    <Modal.Body className=\"pb-1\">\r\n                        <Form.Group controlId=\"Name\">\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.name}\r\n                                {...register(\"name\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.name ?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <EditorToolbar toolbarId={'t1'} />\r\n                            <Controller\r\n                                name={\"info\"}\r\n                                control={control}\r\n                                render={({ field: { value, onChange } }) => {\r\n                                    return (\r\n                                        <ReactQuill\r\n                                            theme=\"snow\"\r\n                                            value={value}\r\n                                            onChange={onChange}\r\n                                            modules={modules('t1')}\r\n                                            formats={formats}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Text className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.info\r\n                            })}>{errors.info ?.message}</Form.Text>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"success\" type=\"submit\">Save</Button>\r\n                        <Button variant=\"light\" onClick={handleToggleChange}>Cancel</Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n                {/* <Form onSubmit={handleSubmitInfo}>\r\n                    <Modal.Body className=\"pb-1\">\r\n\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control type=\"text\" required value={newInfo.name} onChange={(e) => setNewInfo({\r\n                                ...newInfo,\r\n                                name: e.target.value\r\n                            })} />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <EditorToolbar toolbarId={'t1'} />\r\n                            <ReactQuill theme=\"snow\"\r\n                                value={newInfo.info}\r\n                                onChange={(value) => setNewInfo({\r\n                                    ...newInfo,\r\n                                    info: value\r\n                                })}\r\n                                modules={modules('t1')}\r\n                                formats={formats}\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body >\r\n\r\n                    <Modal.Footer>\r\n                        <Button variant=\"success\" type=\"submit\">Save</Button>\r\n                        <Button variant=\"light\" onClick={handleToggleChange}>Cancel</Button>\r\n                    </Modal.Footer>\r\n                </Form> */}\r\n            </Collapse>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialDataCampaignInfo = {\r\n    campaign_id: \"\",\r\n    name: \"\",\r\n    info: \"\"\r\n}\r\n\r\nconst validationSchemaCampaignInfo = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\"),\r\n    info: yup.string()\r\n        .required(\"This field is required.\")\r\n}))","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Nav } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport Select from 'react-select'\r\nimport DatePicker from 'react-datepicker'\r\nimport classnames from 'classnames'\r\nimport { generalService } from '../../utils/services'\r\nimport { useCampaignFields, useCampaigns, useCampaignUsers, useCustomerFields, useUsers } from '../../utils/functions'\r\nimport { CampaignInfo } from './CampaignInfo'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnCampaigns = useCampaigns()\r\n    const fnCampaignFields = useCampaignFields()\r\n    const fnCampaignUsers = useCampaignUsers()\r\n    const [step, setStep] = useState(1)\r\n    const [savingData, setSavingData] = useState(null)\r\n    const [campaignId, setCampaignId] = useState(null)\r\n    const [dataCampaign, setDataCampaign] = useState({})\r\n    const [dataCampaignField, setDataCampaignField] = useState({})\r\n    const [dataCampaignUser, setDataCampaignUser] = useState({})\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (savingData) return handleSubmit()\r\n    }, [savingData])\r\n\r\n    const handleSubmit = async () => {\r\n        Object.keys(dataCampaign).forEach((key) => {\r\n            if (['is_active'].indexOf(key) >= 0 && dataCampaign[key] === false) {\r\n                dataCampaign[key] = \"0\"\r\n            }\r\n        })\r\n\r\n        let saveCampaign = true\r\n        let saveCampaignField = true\r\n        let saveCampaignUser = true\r\n        let dataCampaignId = null\r\n\r\n        await fnCampaigns.Create(dataCampaign).then(async (resCampaign) => {\r\n            saveCampaign = resCampaign.success\r\n            if (resCampaign.success) dataCampaignId = resCampaign.data.id\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        if (saveCampaign) {\r\n            if ('customer_field_id' in dataCampaignField) {\r\n                const customerFieldId = dataCampaignField.customer_field_id\r\n                let mapDataCampaignField = customerFieldId.map((row) => {\r\n                    return {\r\n                        campaign_id: String(dataCampaignId),\r\n                        customer_field_id: String(row.value),\r\n                        is_active: \"1\"\r\n                    }\r\n                })\r\n\r\n                await fnCampaignFields.Create(mapDataCampaignField).then((resCampaignField) => {\r\n                    saveCampaignField = resCampaignField.success\r\n                }).catch((err) => { return }) //do nothing, let it go back to login\r\n            }\r\n\r\n            if ('user_id' in dataCampaignUser) {\r\n                const userId = dataCampaignUser.user_id\r\n                let mapDataCampaignUser = userId.map((row) => {\r\n                    return {\r\n                        campaign_id: String(dataCampaignId),\r\n                        user_id: String(row.value),\r\n                        is_active: \"1\"\r\n                    }\r\n                })\r\n\r\n                await fnCampaignUsers.Create(mapDataCampaignUser).then((resCampaignUser) => {\r\n                    saveCampaignUser = resCampaignUser.success\r\n                }).catch((err) => { return }) //do nothing, let it go back to login\r\n            }\r\n\r\n            if (saveCampaignField && saveCampaignUser) {\r\n                setCampaignId(dataCampaignId)\r\n                setStep(step => (step + 1))\r\n            } else {\r\n                let messageNotif = \"Campaign has been saved.\"\r\n                if (!saveCampaignField) messageNotif += \" An error occured while save Campaign Field.\"\r\n                if (!saveCampaignUser) messageNotif += \" An error occured while save Campaign User.\"\r\n\r\n                notifChange({\r\n                    title: \"Warning\",\r\n                    message: messageNotif,\r\n                    show: true,\r\n                    type: \"warning\"\r\n                })\r\n                dataChange()\r\n                handleModalClose()\r\n            }\r\n        } else {\r\n            notifChange({\r\n                title: \"Error\",\r\n                message: \"Failed to save data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n            handleModalClose()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavTab step={step} />\r\n            {step === 1 && <FormCampaign\r\n                step={step}\r\n                stepChange={setStep}\r\n                currentData={dataCampaign}\r\n                currentDataChange={setDataCampaign}\r\n                modalClose={handleModalClose}\r\n            />}\r\n            {step === 2 && <FormCampaignField\r\n                step={step}\r\n                stepChange={setStep}\r\n                currentData={dataCampaignField}\r\n                currentDataChange={setDataCampaignField}\r\n            />}\r\n            {step === 3 && <FormCampaignUser\r\n                step={step}\r\n                stepChange={setStep}\r\n                currentData={dataCampaignUser}\r\n                currentDataChange={setDataCampaignUser}\r\n                saveData={setSavingData}\r\n            />}\r\n            {step === 4 && <CampaignInfo\r\n                modalClose={() => {\r\n                    notifChange({\r\n                        title: \"Success\",\r\n                        message: \"Data has been saved.\",\r\n                        show: true,\r\n                        type: \"success\"\r\n                    })\r\n                    dataChange()\r\n                    handleModalClose()\r\n                }}\r\n                campaignId={campaignId}\r\n            />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst NavTab = ({ step }) => {\r\n    return (\r\n        <Nav fill variant=\"tabs\">\r\n            <Nav.Item>\r\n                <Nav.Link className={classnames(\"disabled\", {\r\n                    \"active text-primary\": step === 1\r\n                })}>General</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link className={classnames(\"disabled\", {\r\n                    \"active text-primary\": step === 2\r\n                })}>Field</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link className={classnames(\"disabled\", {\r\n                    \"active text-primary\": step === 3\r\n                })}>Agent</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link className={classnames(\"disabled\", {\r\n                    \"active text-primary\": step === 4\r\n                })}>Product</Nav.Link>\r\n            </Nav.Item>\r\n        </Nav>\r\n    )\r\n\r\n}\r\n\r\nconst FormCampaign = ({ step, stepChange, currentData, currentDataChange, modalClose }) => {\r\n    const { handleSubmit, formState: { errors }, register, control, reset, clearErrors, setValue } = useForm({\r\n        defaultValues: initialDataCampaign,\r\n        resolver: validationSchemaCampaign\r\n    })\r\n    const [selectedStartDate, setSelectedStartDate] = useState(new Date())\r\n\r\n    useEffect(() => {\r\n        const fetchData = () => {\r\n            clearErrors()\r\n\r\n            if (!isEmptyValue(currentData) && _.isObject(currentData)) {\r\n                reset({\r\n                    ...initialDataCampaign,\r\n                    name: currentData.name || \"\",\r\n                    start_date: new Date(currentData.start_date) || null,\r\n                    end_date: new Date(currentData.end_date) || null,\r\n                    is_active: currentData.is_active === \"1\" ? \"1\" : false\r\n                })\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n    }, [currentData])\r\n\r\n    const onSubmitForm = (data, e) => {\r\n        e.preventDefault()\r\n\r\n        Object.keys(data).map((key) => {\r\n            if (['start_date', 'end_date'].indexOf(key) >= 0) {\r\n                let date = new Date(data[key]).setSeconds(0)\r\n                data[key] = formatDateTime(date)\r\n            }\r\n        })\r\n\r\n        // Object.keys(data).map((key) => {\r\n        //     if (['is_active'].indexOf(key) >= 0 && data[key] === false) {\r\n        //         data[key] = \"0\"\r\n        //     }\r\n        // })\r\n\r\n        currentDataChange(data)\r\n        handleStepNext()\r\n    }\r\n\r\n    const handleStepNext = useCallback(() => {\r\n        stepChange(step => (step + 1))\r\n    }, [stepChange])\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n            <Modal.Body className=\"pb-1\">\r\n                <Form.Group>\r\n                    <Form.Label>Campaign Name</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        size=\"sm\"\r\n                        {...register(\"name\")}\r\n                    />\r\n                    <Form.Text className={classnames(\"text-danger\", {\r\n                        \"d-none\": !errors.name\r\n                    })}>{errors.name ?.message}</Form.Text>\r\n                </Form.Group>\r\n                <Row>\r\n                    <Form.Group className=\"col-md-6\">\r\n                        <Form.Label>Start Campaign</Form.Label>\r\n                        <Controller\r\n                            name={\"start_date\"}\r\n                            control={control}\r\n                            render={({ field: { value, onChange } }) => {\r\n                                return (\r\n                                    <DatePicker\r\n                                        className=\"form-control form-control-sm\"\r\n                                        dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                        showTimeInput\r\n                                        disabledKeyboardNavigation\r\n                                        selected={value}\r\n                                        onChange={(date) => {\r\n                                            onChange(date)\r\n                                            formatDateTime(date) === false ? setSelectedStartDate(new Date()) : setSelectedStartDate(date)\r\n                                            setValue('end_date', date)\r\n                                        }}\r\n                                        highlightDates={[new Date(), new Date()]}\r\n                                        minDate={new Date()}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Text className={classnames(\"text-danger\", {\r\n                            \"d-none\": !errors.start_date\r\n                        })}>{errors.start_date ?.message}</Form.Text>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-6\">\r\n                        <Form.Label>End Campaign</Form.Label>\r\n                        <Controller\r\n                            name={\"end_date\"}\r\n                            control={control}\r\n                            render={({ field: { value, onChange } }) => {\r\n                                return (\r\n                                    <DatePicker\r\n                                        className=\"form-control form-control-sm\"\r\n                                        dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                        showTimeInput\r\n                                        disabledKeyboardNavigation\r\n                                        selected={value}\r\n                                        onChange={onChange}\r\n                                        highlightDates={[new Date(), new Date()]}\r\n                                        minDate={selectedStartDate}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Text className={classnames(\"text-danger\", {\r\n                            \"d-none\": !errors.end_date\r\n                        })}>{errors.end_date ?.message}</Form.Text>\r\n                    </Form.Group>\r\n                </Row>\r\n                <Form.Group controlId=\"IsActive\">\r\n                    <Form.Check\r\n                        className=\"text-center\"\r\n                        type=\"checkbox\"\r\n                        label=\"Active\"\r\n                        value=\"1\"\r\n                        // isInvalid={!!errors.is_active}\r\n                        // feedback={errors.is_active?.message}\r\n                        {...register(\"is_active\")}\r\n                    />\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"light\" onClick={modalClose}>Cancel</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Next</Button>\r\n            </Modal.Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst FormCampaignField = ({ step, stepChange, currentData, currentDataChange }) => {\r\n    const { handleSubmit, formState: { errors }, control, reset, clearErrors, getValues } = useForm({\r\n        defaultValues: initialDataCampaignField,\r\n        resolver: validationSchemaCampaignField\r\n    })\r\n    const { Get } = useCustomerFields()\r\n    const [optionField, setOptionField] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: 100,\r\n                is_active: 1,\r\n                order: \"field_name_display\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionField = res.data.map((row) => {\r\n                        return { value: row.id, label: row.field_display_name }\r\n                    })\r\n\r\n                    setOptionField([\r\n                        ...mapOptionField\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionField([])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = () => {\r\n            clearErrors()\r\n\r\n            if (!isEmptyValue(currentData) && _.isObject(currentData)) {\r\n                reset({\r\n                    ...initialDataCampaignField,\r\n                    customer_field_id: currentData.customer_field_id || null\r\n                })\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n    }, [currentData])\r\n\r\n    const onSubmitForm = (data, e) => {\r\n        e.preventDefault()\r\n\r\n        currentDataChange(data)\r\n        handleStepNext()\r\n    }\r\n\r\n    const handleStepNext = useCallback(() => {\r\n        stepChange(step => (step + 1))\r\n    }, [stepChange])\r\n\r\n    const handleStepPrev = useCallback(() => {\r\n        stepChange(step => (step - 1))\r\n    }, [stepChange])\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n            <Modal.Body className=\"pb-1\">\r\n                <Form.Group>\r\n                    <Form.Label>Select Campaign Field</Form.Label>\r\n                    <Controller\r\n                        name={\"customer_field_id\"}\r\n                        control={control}\r\n                        render={({ field: { value, onChange } }) => {\r\n                            return (\r\n                                <Select\r\n                                    isMulti\r\n                                    options={optionField}\r\n                                    onChange={(selected) => {\r\n                                        let mapSelected = selected.map((row) => {\r\n                                            return { value: row.value, label: row.label }\r\n                                        })\r\n                                        onChange(mapSelected)\r\n                                    }}\r\n                                    value={getValues('customer_field_id')}\r\n                                    getOptionValue={field => field.value}\r\n                                    getOptionLabel={field => field.label}\r\n                                />\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Form.Text className={classnames(\"text-danger\", {\r\n                        \"d-none\": !errors.customer_field_id\r\n                    })}>{errors.customer_field_id ?.message}</Form.Text>\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"outline-primary\" onClick={handleStepPrev}>Prev</Button>\r\n                <Button variant=\"primary\" type=\"submit\">Next</Button>\r\n            </Modal.Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst FormCampaignUser = ({ step, stepChange, currentData, currentDataChange, saveData }) => {\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, reset, clearErrors, getValues } = useForm({\r\n        defaultValues: initialDataCampaignUser,\r\n        resolver: validationSchemaCampaignUser\r\n    })\r\n    const { Get } = useUsers()\r\n    const [optionField, setOptionField] = useState([])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1,\r\n                user_level_id: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionField = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionField([\r\n                        ...mapOptionField\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionField([])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = () => {\r\n            clearErrors()\r\n\r\n            if (!isEmptyValue(currentData) && _.isObject(currentData)) {\r\n                reset({\r\n                    ...initialDataCampaignUser,\r\n                    user_id: currentData.user_id || null\r\n                })\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n    }, [currentData])\r\n\r\n    const onSubmitForm = (data, e) => {\r\n        e.preventDefault()\r\n\r\n        currentDataChange(data)\r\n        handleStepSave()\r\n    }\r\n\r\n    const handleStepSave = useCallback(() => {\r\n        saveData(true)\r\n    }, [saveData])\r\n\r\n    const handleStepNext = useCallback(() => {\r\n        stepChange(step => (step + 1))\r\n    }, [stepChange])\r\n\r\n    const handleStepPrev = useCallback(() => {\r\n        stepChange(step => (step - 1))\r\n    }, [stepChange])\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n            <Modal.Body className=\"pb-1\">\r\n                <Form.Group>\r\n                    <Form.Label>Select Campaign User</Form.Label>\r\n                    <Controller\r\n                        name={\"user_id\"}\r\n                        control={control}\r\n                        render={({ field: { value, onChange } }) => {\r\n                            return (\r\n                                <Select\r\n                                    isMulti\r\n                                    options={optionField}\r\n                                    onChange={(selected) => {\r\n                                        let mapSelected = selected.map((row) => {\r\n                                            return { value: row.value, label: row.label }\r\n                                        })\r\n                                        onChange(mapSelected)\r\n                                    }}\r\n                                    value={getValues('user_id')}\r\n                                    getOptionValue={field => field.value}\r\n                                    getOptionLabel={field => field.label}\r\n                                />\r\n                            )\r\n                        }}\r\n                    />\r\n                    <Form.Text className={classnames(\"text-danger\", {\r\n                        \"d-none\": !errors.user_id\r\n                    })}>{errors.user_id ?.message}</Form.Text>\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"outline-primary\" onClick={handleStepPrev} disabled={isSubmitting}>Prev</Button>\r\n                <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                    {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save & Next\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\nconst initialDataCampaign = {\r\n    name: \"\",\r\n    start_date: null,\r\n    end_date: null,\r\n    media_id: \"1\",\r\n    is_active: false\r\n}\r\n\r\nconst validationSchemaCampaign = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\"),\r\n    start_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    end_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n}))\r\n\r\nconst initialDataCampaignField = {\r\n    customer_field_id: null\r\n}\r\n\r\nconst validationSchemaCampaignField = yupResolver(yup.object().shape({\r\n    customer_field_id: yup.array().nullable()\r\n        .required(\"This field is required.\")\r\n        .min(1, \"This field is required.\")\r\n}))\r\n\r\nconst initialDataCampaignUser = {\r\n    user_id: null\r\n}\r\n\r\nconst validationSchemaCampaignUser = yupResolver(yup.object().shape({\r\n    user_id: yup.array().nullable()\r\n        .required(\"This field is required.\")\r\n        .min(1, \"This field is required.\")\r\n}))","import React, { useEffect, useState, useRef } from 'react'\r\nimport { Button, Form, Modal, Spinner, Nav } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { useCampaignFields, useCampaigns, useCampaignUsers, useCustomerFields, useUsers } from '../../utils/functions'\r\nimport { Notification } from '../../components'\r\nimport { generalService } from '../../utils/services';\r\nimport _ from 'lodash'\r\nimport { CampaignInfo } from './CampaignInfo';\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\nexport const FormDetail = ({ dataId, modalChange, notifChange, dataChange }) => {\r\n    const [step, setStep] = useState(1)\r\n    const { Success, Error } = Notification\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Data has been updated.\" /> :\r\n                <Error message=\"Failed to update data.\" />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavTab setStep={setStep} step={step} />\r\n            {step === 1 &&\r\n                <FormCampaign dataId={dataId} setStep={setStep} step={step} dataChange={dataChange} campaignId={dataId} handleAlert={handleAlert} />\r\n            }\r\n            {step === 2 &&\r\n                <FormCampaignField setStep={setStep} step={step} campaignId={dataId} handleAlert={handleAlert} />\r\n            }\r\n\r\n            {step === 3 &&\r\n                <FormCampaignUser setStep={setStep} step={step} campaignId={dataId} handleAlert={handleAlert} />\r\n            }\r\n            {step === 4 &&\r\n                <CampaignInfo setStep={setStep} step={step} campaignId={dataId} handleAlert={handleAlert} modalClose={handleModalClose} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaign = ({ dataId, step, setStep, dataChange, campaignId, handleAlert }) => {\r\n    const { Get, Update } = useCampaigns()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [alert, setAlert] = useState(null)\r\n    const initialValue = {\r\n        name: \"\",\r\n        start_date: new Date(),\r\n        end_date: new Date(),\r\n        is_active: 1\r\n    }\r\n    const { register, handleSubmit, reset, control, formState: { errors }, setValue } = useForm({\r\n        defaultValues: initialValue,\r\n    });\r\n    const [selectedStartDate, setSelectedStartDate] = useState(new Date())\r\n\r\n    // add campaign\r\n    const onSubmit = async (data) => {\r\n        await setIsLoading(true)\r\n\r\n        const body = {\r\n            name: data.name,\r\n            start_date: formatDateTime(data.start_date),\r\n            end_date: formatDateTime(data.end_date),\r\n            is_active: data.is_active ? 1 : 0,\r\n        }\r\n\r\n        await Update(campaignId, body).then(async (res) => {\r\n            if (res.success) {\r\n                await setIsLoading(false)\r\n                dataChange()\r\n                setAlert(1)\r\n            } else {\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n        // const update = await Update(campaignId, body)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({ id: dataId }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        start_date: new Date(res.data.start_date) || null,\r\n                        end_date: new Date(res.data.end_date) || null,\r\n                        is_active: String(res.data.is_active) === \"1\" ? \"1\" : false\r\n                    }, { keepErrors: false })\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n        return () => fnAbort.abort()\r\n    }, [reset]);\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={handleSubmit(onSubmit)}>\r\n                <Modal.Body>\r\n                    {\r\n                        alert && handleAlert(alert)\r\n                    }\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Campaign Name</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Campaign Name\" {...register(\"name\")} required />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>Start Campaign</Form.Label>\r\n                        <Controller\r\n                            control={control}\r\n                            name='start_date'\r\n                            className=\"form-control\"\r\n                            render={({ field: { value, onChange } }) => (\r\n                                <DatePicker\r\n                                    className=\"form-control form-control-sm\"\r\n                                    dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                    showTimeInput\r\n                                    disabledKeyboardNavigation\r\n                                    selected={value}\r\n                                    onChange={(date) => {\r\n                                        onChange(date)\r\n                                        formatDateTime(date) === false ? setSelectedStartDate(new Date()) : setSelectedStartDate(date)\r\n                                        setValue('end_date', date)\r\n                                    }}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date()}\r\n                                />\r\n                            )}\r\n                        />\r\n\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Label>End Campaign</Form.Label>\r\n                        <Controller\r\n                            control={control}\r\n                            name='end_date'\r\n                            className=\"form-control\"\r\n                            render={({ field: { value, onChange } }) => (\r\n                                <DatePicker\r\n                                    className=\"form-control form-control-sm\"\r\n                                    dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                                    showTimeInput\r\n                                    disabledKeyboardNavigation\r\n                                    selected={value}\r\n                                    onChange={onChange}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={selectedStartDate}\r\n                                />\r\n                            )}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\" controlId=\"Predictive\">\r\n                        <Form.Check type=\"checkbox\" {...register(\"is_active\")} className=\"text-center\" label=\"Active\" />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\">{isLoading ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaignField = ({ setStep, step, campaignId, handleAlert }) => {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const { Get } = useCustomerFields()\r\n    const fnCampaignFields = useCampaignFields()\r\n    const [field, setField] = useState({})\r\n    const [fieldList, setFieldList] = useState({})\r\n    const [fieldDetail, setFieldDetail] = useState({})\r\n    const [alert, setAlert] = useState(null)\r\n    const [require, setRequire] = useState(false)\r\n    const inputRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"100\",\r\n                order: \"field_name_display\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setField(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n            await fnCampaignFields.Get({\r\n                campaign_id: campaignId,\r\n                limit: \"100\",\r\n                order: \"field_name_display\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setFieldDetail(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n    }, [step])\r\n\r\n\r\n    // Add campaign field\r\n    const handleStep2 = async (e) => {\r\n        e.preventDefault(e)\r\n\r\n        if (!isEmptyValue(fieldDetail) && _.isObject(fieldDetail)) {\r\n            if (!isEmptyValue(fieldList) && _.isObject(fieldList)) {\r\n                await setIsUpdate(true)\r\n\r\n                let data_field = fieldList.map(item => {\r\n                    return {\r\n                        'campaign_id': campaignId,\r\n                        'customer_field_id': item.id,\r\n                        'is_active': 1\r\n                    }\r\n                })\r\n                let new_field = data_field\r\n                let remove_field\r\n\r\n                new_field = data_field.filter(e => {\r\n                    return !fieldDetail.some(item => item.customer_field_id === e.customer_field_id); // take the ! out and you're done\r\n                })\r\n                remove_field = fieldDetail.filter(e => {\r\n                    return !data_field.some(item => item.customer_field_id === e.customer_field_id); // take the ! out and you're done\r\n                })\r\n\r\n                if (new_field) {\r\n                    await fnCampaignFields.Create(new_field).then((resCampaignFieldCreate) => {\r\n                        return resCampaignFieldCreate.success\r\n                    }).catch((err) => { return })\r\n                }\r\n\r\n                if (remove_field) {\r\n                    remove_field = remove_field.map((row) => {\r\n                        return {\r\n                            id: row.id,\r\n                            is_active: \"0\"\r\n                        }\r\n                    })\r\n                    await fnCampaignFields.Create(remove_field).then((resCampaignFieldUpdate) => {\r\n                        return resCampaignFieldUpdate.success\r\n                    }).catch((err) => { return })\r\n                }\r\n\r\n                setIsUpdate(false)\r\n                setAlert(1)\r\n            }\r\n        } else {\r\n            inputRef.current.focus();\r\n            setRequire(true)\r\n            await setIsUpdate(false)\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            {isLoading ? (\r\n                <Modal.Body>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                    Loading data...\r\n                        </Modal.Body>\r\n            ) : (\r\n                    <>\r\n                        <Form validated=\"true\" onSubmit={handleStep2}>\r\n                            <Modal.Body>\r\n                                {\r\n                                    alert && handleAlert(alert)\r\n                                }\r\n                                <Form.Group className=\"mb-3\" >\r\n                                    <Select\r\n                                        defaultValue={\r\n                                            !isEmptyValue(fieldDetail) && fieldDetail.filter(i => i.is_active === 1).map(item => {\r\n                                                return {\r\n                                                    'id': item.customer_field_id,\r\n                                                    'field_display_name': item.field_display_name,\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                        isMulti\r\n                                        name=\"colors\"\r\n                                        options={field}\r\n                                        getOptionValue={(field) => field.id}\r\n                                        getOptionLabel={(field) => field.field_display_name}\r\n                                        className=\"basic-multi-select\"\r\n                                        classNamePrefix=\"select\"\r\n                                        onChange={(item) => (setFieldList(item), setRequire(false))}\r\n                                        placeholder=\"Select Field\"\r\n                                        ref={inputRef}\r\n                                    />\r\n                                    {require &&\r\n                                        <span className=\"text-danger\">\r\n                                            {\"Field Type is required\"}\r\n                                        </span>\r\n                                    }\r\n                                </Form.Group>\r\n\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"primary\" type=\"submit\">{isUpdate ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                            </Modal.Footer>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormCampaignUser = ({ setStep, step, campaignId, handleAlert }) => {\r\n    const { Get } = useUsers()\r\n    const fnCampaignUsers = useCampaignUsers()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [user, setUser] = useState({})\r\n    const [userList, setUserList] = useState({})\r\n    const [fieldDetail, setFieldDetail] = useState({})\r\n    const [alert, setAlert] = useState(null)\r\n    const [isUpdate, setIsUpdate] = useState(false)\r\n    const [require, setRequire] = useState(false)\r\n    const inputRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"0\",\r\n                order: \"username\",\r\n                user_level_id: 1,\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setUser(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n            await fnCampaignUsers.Get({\r\n                campaign_id: campaignId,\r\n                limit: \"0\",\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setFieldDetail(res.data)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n            setIsLoading(false)\r\n        }\r\n        fetchData()\r\n    }, [step])\r\n\r\n    // add campaign user\r\n    const handleStep3 = async (e) => {\r\n        e.preventDefault(e)\r\n        await setIsUpdate(true)\r\n\r\n        if (!isEmptyValue(userList) && _.isObject(userList)) {\r\n            if (userList) {\r\n                let data_user = userList.map(item => {\r\n                    return {\r\n                        'campaign_id': campaignId,\r\n                        'user_id': item.id\r\n                    }\r\n                })\r\n\r\n                let new_field = data_user\r\n                let remove_field\r\n                if (!isEmptyValue(fieldDetail) && _.isObject(fieldDetail)) {\r\n                    new_field = data_user.filter(e => {\r\n                        return !fieldDetail.some(item => item.user_id === e.user_id); // take the ! out and you're done\r\n                    })\r\n                    remove_field = fieldDetail.filter(e => {\r\n                        return !data_user.some(item => item.user_id === e.user_id); // take the ! out and you're done\r\n                    })\r\n                }\r\n\r\n                if (new_field) {\r\n                    await fnCampaignUsers.Create(new_field).then((resCampaignUserCreate) => {\r\n                        return resCampaignUserCreate.success\r\n                    }).catch((err) => { return })\r\n                }\r\n\r\n                if (remove_field) {\r\n                    remove_field = remove_field.map((row) => {\r\n                        return {\r\n                            id: row.id,\r\n                            is_active: \"0\"\r\n                        }\r\n                    })\r\n                    await fnCampaignUsers.Create(remove_field).then((resCampaignUserUpdate) => {\r\n                        return resCampaignUserUpdate.success\r\n                    }).catch((err) => { return })\r\n\r\n                }\r\n\r\n                setIsUpdate(false)\r\n                setAlert(1)\r\n            } else {\r\n                await setIsUpdate(false)\r\n            }\r\n        } else {\r\n            inputRef.current.focus();\r\n            setRequire(true)\r\n            await setIsUpdate(false)\r\n        }\r\n\r\n    }\r\n    return (\r\n        <>\r\n            {isLoading ? (\r\n                <Modal.Body>\r\n                    <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                    Loading data...\r\n                        </Modal.Body>\r\n            ) : (\r\n                    <>\r\n                        <Form onSubmit={handleStep3}>\r\n                            <Modal.Body>\r\n                                {\r\n                                    alert && handleAlert(alert)\r\n                                }\r\n                                <Form.Group className=\"mb-3\" >\r\n                                    <Select\r\n                                        defaultValue={\r\n                                            !isEmptyValue(fieldDetail) && fieldDetail.filter(i => i.is_active === 1).map(item => {\r\n                                                return {\r\n                                                    'id': item.user_id,\r\n                                                    'username': item.username,\r\n                                                }\r\n                                            })\r\n                                        }\r\n                                        isMulti\r\n                                        name=\"colors\"\r\n                                        options={user}\r\n                                        getOptionValue={(user) => user.id}\r\n                                        getOptionLabel={(user) => user.username}\r\n                                        className=\"basic-multi-select\"\r\n                                        classNamePrefix=\"select\"\r\n                                        onChange={(item) => (setUserList(item), setRequire(false))}\r\n                                        placeholder=\"Select User\"\r\n                                        ref={inputRef}\r\n                                    />\r\n                                    {require &&\r\n                                        <span className=\"text-danger\">\r\n                                            {\"Field Type is required\"}\r\n                                        </span>\r\n                                    }\r\n                                </Form.Group>\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"primary\" type=\"submit\">{isUpdate ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                            </Modal.Footer>\r\n                        </Form>\r\n                    </>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nconst NavTab = ({ setStep, step }) => {\r\n    return (\r\n        <Nav variant=\"tabs\" defaultActiveKey={`link-${step}`}>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-1\" onClick={() => setStep(1)}>Campaign</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-2\" onClick={() => setStep(2)}>Field</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-3\" onClick={() => setStep(3)}>User</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n                <Nav.Link eventKey=\"link-4\" onClick={() => setStep(4)}>Product</Nav.Link>\r\n            </Nav.Item>\r\n        </Nav>\r\n    )\r\n\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport DatePicker from 'react-datepicker'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCampaigns } from './../../utils/functions'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\nimport { Rollback } from './Rollback';\r\nimport { AuthContext } from '../../utils/context';\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const CampaignCalls = (props) => {\r\n    const { GetCall } = useCampaigns()\r\n    const { Error, Success, Warning } = Notification\r\n    const { userLevelId } = useContext(AuthContext)\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [modalRollback, setModalRollback] = useState(initialModal)\r\n    const [disableDate, setDisableDate] = useState(false)\r\n    const [formFilter, setFormFilter] = useState({\r\n        start_date_list: formatDate(),\r\n        end_date_list: formatDate(),\r\n        name: \"\",\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalRollback = (id, name) => {\r\n        setModalRollback({\r\n            ...modalRollback,\r\n            show: !modalRollback.show,\r\n            dataId: id,\r\n            campaigName: name\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start_date_list', 'end_date_list'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n        setModalRollback(initialModal)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await GetCall(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Campaign Call</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item active\">Campaign Call</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start_date_list)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start_date\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start_date_list\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end_date_list) >= new Date(formFilter.start_date_list) ? new Date(formFilter.end_date_list) : new Date(formFilter.start_date_list)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end_date\"\r\n                                    minDate={new Date(formFilter.start_date_list)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end_date_list\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n                            <div className=\"form-group col-md-2\">\r\n                                <label htmlFor=\"inputState\">Name</label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"name\", e.target.value)} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    {(userLevelId == 2 || userLevelId == 5) &&\r\n                        <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Campaign</Button>\r\n                    }\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\" >\r\n                        <thead className=\"thead-dark text-nowrap\">\r\n                            <tr >\r\n                                <th width=\"\">No.</th>\r\n                                <th width=\"250\">Name</th>\r\n                                <th width=\"150\">Start Date</th>\r\n                                <th width=\"150\">End Date</th>\r\n                                <th width=\"\">Total Agents</th>\r\n                                <th width=\"\">Total Customers</th>\r\n                                <th width=\"\">Total Calls</th>\r\n                                <th width=\"\">Status</th>\r\n                                <th width=\"180\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Name</th>\r\n                                <th>Start Date</th>\r\n                                <th>End Date</th>\r\n                                <th>Total Agents</th>\r\n                                <th>Total Customers</th>\r\n                                <th>Total Calls</th>\r\n                                <th>Status</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                        <tbody className=\"text-nowrap\">\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                        </td>\r\n                                </tr>\r\n                                || !loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                                || !loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((item, i) => (\r\n                                    <tr key={item.id}>\r\n                                        <td>{tableData.paging.index[i]}</td>\r\n                                        <td>{item.name}</td>\r\n                                        <td>{item.start_date && item.start_date.substring(0, 10)}</td>\r\n                                        <td>{item.end_date && item.end_date.substring(0, 10)}</td>\r\n                                        <td>{item.total_agent}</td>\r\n                                        <td>{item.total_customer}</td>\r\n                                        <td>{item.total_call}</td>\r\n                                        <td>{item.is_active_campaign ? 'Active' : 'Inactive'}</td>\r\n                                        <td>\r\n                                            {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                <Button variant=\"primary\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Edit Campign Call\" onClick={(e) => { handleModalDetail(item.id) }}>\r\n                                                    <i className=\"fas fa-edit fa-fw\"></i>\r\n                                                </Button>\r\n                                            }\r\n                                            {(userLevelId == 2 || userLevelId == 5 || userLevelId == 1) &&\r\n                                                <Link to={`customer-calls/${item.id}/${item.name}`} variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Customer List\">\r\n                                                    <Button variant=\"warning\" size=\"sm\" className=\"m-1\">\r\n                                                        <i className=\"fas fa-users fa-fw\"></i>\r\n                                                    </Button>\r\n                                                </Link>\r\n                                            }\r\n                                            <Link to={`calls/${item.id}/${item.name}`} variant=\"info\" size=\"sm\" className=\"m-1\" title=\"Call List\">\r\n                                                <Button variant=\"info\" size=\"sm\" className=\"m-1\">\r\n                                                    <i className=\"fas fa-phone fa-fw\"></i>\r\n                                                </Button>\r\n                                            </Link>\r\n                                            {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                item.total_call == 0\r\n                                                ?\r\n                                                <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Rollback Campign Call\" onClick={(e) => { handleModalRollback(item.id, item.name) }}>\r\n                                                    <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                </Button>\r\n                                                :\r\n                                                <Button variant=\"danger\" disabled size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Rollback Campign Call\" onClick={(e) => { handleModalRollback(item.id, item.name) }}>\r\n                                                    <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                </Button>\r\n                                            }\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(pageNumber) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>New Campaign Call</Modal.Title>\r\n                </Modal.Header>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Detail Campaign Call</Modal.Title>\r\n                </Modal.Header>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalRollback.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Rollback Campaign {modalRollback.campaigName}</Modal.Title>\r\n                </Modal.Header>\r\n                <Rollback\r\n                    modalChange={(params) => {\r\n                        setModalRollback({\r\n                            ...modalRollback,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    campaignId={modalRollback.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: \"\"\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Button, Form, Modal, InputGroup, Collapse, Spinner, Row, Col, Card } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport Select from \"react-select\";\r\nimport { Notification } from '../../components'\r\nimport { campaignController, campaignFieldController } from '../../utils/controllers';\r\nimport { useCampaigns, useCampaignFields, useCustomerFields } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const { Upload, ImportCampaignCall } = useCampaigns()\r\n    const { Get } = useCampaignFields()\r\n    const { register, handleSubmit } = useForm();\r\n    const { register: register2, handleSubmit: handleSubmit2 } = useForm();\r\n    const [processUpload, setProcessUpload] = useState(false)\r\n    const [process, setProcess] = useState(false)\r\n    const [field, setField] = useState({})\r\n    const [column, setColumn] = useState({})\r\n    const [mapping, setMapping] = useState(false)\r\n    const [uploadId, setUploadId] = useState('')\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const handleModalClose = useCallback(() => {\r\n        modalChange({\r\n            show: false,\r\n            dataId: ''\r\n        })\r\n    }, [modalChange])\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"File has been uploaded.\" /> :\r\n                <Error message=\"Failed to upload file or File Duplicated.\" />\r\n        )\r\n    }\r\n\r\n    // add upload excel\r\n    const onSubmit = async (data) => {\r\n        const formData = new FormData()\r\n        formData.append(\"file\", data.file[0])\r\n        setProcessUpload(true)\r\n        setAlert(null)\r\n        await Upload(dataId, formData).then((res) => {\r\n            if (res.success) {\r\n                setUploadId(res.data.id)\r\n                setMapping(true)\r\n                setColumn(res)\r\n                setProcessUpload(false)\r\n                setAlert(1)\r\n            } else {\r\n                setProcessUpload(false)\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n\r\n    }\r\n\r\n    const onSubmitMapping = async (data) => {\r\n        setProcess(true)\r\n\r\n        await ImportCampaignCall(dataId, { ...data, file_upload_id: uploadId }).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been added.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n                setProcess(false)\r\n            } else {\r\n                setProcess(false)\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to mapping data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n            handleModalClose()\r\n        }).catch((err) => { return })\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (mapping) {\r\n            const fnAbort = new AbortController()\r\n            const fetchData = async () => {\r\n                await Get({\r\n                    limit: \"100\",\r\n                    order: \"field_name_display\",\r\n                    campaign_id: dataId,\r\n                    is_active: 1\r\n                }).then((res) => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        setField(res)\r\n                    }\r\n                }).catch((err) => { return () => fnAbort.abort() })\r\n            }\r\n            fetchData()\r\n        }\r\n    }, [mapping])\r\n\r\n    return (\r\n        <>\r\n            <Modal.Body>\r\n                {\r\n                    alert && handleAlert(alert)\r\n                }\r\n                <Card className=\"mb-3\">\r\n                    <Card.Header>Import Customer</Card.Header>\r\n                    <Card.Body>\r\n                        <Form className=\"mb-3\" onSubmit={handleSubmit(onSubmit)}>\r\n                            <label className=\"btn btn-default\">\r\n                                <input type=\"file\" {...register(\"file\")} required />\r\n                            </label>\r\n\r\n                            <button\r\n                                className=\"btn btn-info\"\r\n                            >\r\n                                {processUpload ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Upload'}\r\n                            </button>\r\n                        </Form>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Collapse in={mapping}>\r\n                    <Card>\r\n                        <Card.Header>Mapping Column</Card.Header>\r\n                        <Card.Body>\r\n                            <Form onSubmit={handleSubmit2(onSubmitMapping)}>\r\n                                <Form.Group as={Row} className=\"mb-3 ml-1 mr-1\" style={{ overflowY: \"scroll\", maxHeight: \"20rem\" }}>\r\n                                    {\r\n                                        field.total_data > 0 && field.data.map((item, index) =>\r\n                                            <>\r\n                                                <Col sm=\"6\" key={index}>\r\n                                                    <InputGroup className=\"mb-3\">\r\n                                                        <InputGroup.Text id=\"basic-addon2\" style={{ width: '11rem' }}>\r\n                                                            {item.field_display_name}\r\n                                                        </InputGroup.Text>\r\n                                                        <select className=\"form-control\"  {...register2(item.field_name)} >\r\n                                                            <option value=\"\">Select Field</option>\r\n                                                            {column.total_data > 0 && column.data.header.map(item => (\r\n                                                                <option key={item.index} value={item.index}>\r\n                                                                    {item.field}\r\n                                                                </option>\r\n                                                            ))}\r\n                                                        </select>\r\n                                                    </InputGroup>\r\n                                                </Col>\r\n                                            </>\r\n                                        )\r\n                                    }\r\n                                </Form.Group >\r\n                                <Form.Group as={Row} className=\"mb-3 mr-4 float-right\" >\r\n                                    <Button type=\"submit\" variant=\"primary\">{process ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Save'}</Button>\r\n                                </Form.Group >\r\n                            </Form>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Collapse>\r\n            </Modal.Body>\r\n            {/* <Modal.Footer>\r\n            </Modal.Footer> */}\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Button, Form, Modal, Spinner, Table, Row } from \"react-bootstrap\";\r\nimport _ from \"lodash\";\r\nimport { Pagination, Notification, CustomPlayer } from \"./../../components\";\r\nimport { useCalls, useVoices } from \"../../utils/functions\";\r\nimport { generalService } from \"../../utils/services\";\r\nimport { AuthContext } from \"../../utils/context\";\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const CallHistories = ({ CustomerId }) => {\r\n  const { userLevelId } = useContext(AuthContext)\r\n  const { Get } = useCalls();\r\n  const fnVoices = useVoices()\r\n  const { Error, Success, Warning } = Notification\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [tableData, setTableData] = useState({});\r\n  const [notif, setNotif] = useState(initialNotif)\r\n\r\n\r\n  const [currentFilter, setCurrentFilter] = useState({\r\n    customer_id: CustomerId,\r\n    page: 1,\r\n    order: \"call_date\",\r\n    limit: 5\r\n  });\r\n\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [voiceCall, setVoiceCall] = useState({\r\n    url: null,\r\n    loading: false\r\n  })\r\n\r\n  const handleVoiceCall = async (data = null) => {\r\n    setShowModal(true)\r\n    setVoiceCall({\r\n      ...voiceCall,\r\n      loading: true\r\n    })\r\n\r\n    let audioUrl = false\r\n\r\n    if (!isEmptyValue(data) && _.isObject(data)) {\r\n      if (data.hasOwnProperty('filename') && data.hasOwnProperty('filedate')) {\r\n        let { filename, filedate } = data\r\n\r\n        await fnVoices.Get({ filename, filedate }).then((res) => {\r\n          if (!isEmptyValue(res.data)) {\r\n            audioUrl = res.data.url\r\n          }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n      }\r\n    }\r\n\r\n    if (audioUrl) {\r\n      setVoiceCall({\r\n        ...voiceCall,\r\n        url: audioUrl,\r\n        loading: false\r\n      })\r\n    } else {\r\n      handleModalClose()\r\n      setNotif({\r\n        ...notif,\r\n        title: \"Error\",\r\n        message: \"Failed to load audio call.\",\r\n        show: true,\r\n        type: \"error\"\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setShowModal(false)\r\n    setVoiceCall({\r\n      ...voiceCall,\r\n      url: null,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await Get(currentFilter)\r\n        .then(res => {\r\n          setTableData(res);\r\n          setIsLoading(false);\r\n        })\r\n        .catch(err => {\r\n          return;\r\n        });\r\n    };\r\n    fetchData();\r\n  }, [isLoading, currentFilter]);\r\n\r\n  return (\r\n    <>\r\n      {notif.show && notif.type === 'error' && <Error\r\n        title={notif.title}\r\n        message={notif.message}\r\n        show={notif.show}\r\n        showChange={() => { setNotif(initialNotif) }}\r\n      />}\r\n      {notif.show && notif.type === 'success' && <Success\r\n        title={notif.title}\r\n        message={notif.message}\r\n        show={notif.show}\r\n        showChange={() => { setNotif(initialNotif) }}\r\n      />}\r\n      {notif.show && notif.type === 'warning' && <Warning\r\n        title={notif.title}\r\n        message={notif.message}\r\n        show={notif.show}\r\n        showChange={() => { setNotif(initialNotif) }}\r\n      />}\r\n      <div className=\"card mb-4\">\r\n        <div className=\"card-body\">\r\n          <hr />\r\n          <div className=\"table-responsive\">\r\n            <Table\r\n              striped\r\n              hover\r\n              responsive\r\n              width=\"100%\"\r\n              cellSpacing=\"0\"\r\n              cellPadding=\"0\"\r\n            >\r\n              <thead className=\"thead-dark text-nowrap\">\r\n                <tr>\r\n                  <th>Call Date</th>\r\n                  <th>Campaing Name</th>\r\n                  <th>Customer Name</th>\r\n                  <th>Agent</th>\r\n                  <th>Call Duration</th>\r\n                  <th>Phone Number</th>\r\n                  <th>Outbound Status</th>\r\n                  <th>Outbound Category</th>\r\n                  <th>Outbound Category Detail</th>\r\n                  {\r\n                    (userLevelId == 2 || userLevelId == 5) &&\r\n                    <th>Voice Call</th>\r\n                  }\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody className=\"text-nowrap\">\r\n                {isLoading ? (\r\n                  <tr>\r\n                    <td colSpan=\"9\" className=\"text-center\">\r\n                      <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                      Loading data...\r\n                    </td>\r\n                  </tr>\r\n                ) : tableData.total_data > 0 ? (\r\n                  tableData.data.map((item, i) => (\r\n                    <tr key={item.id} className=\"text-center\">\r\n                      <td>{item.call_date}</td>\r\n                      <td>{item.campaigns}</td>\r\n                      <td width=\"500\">{item.customer_name}</td>\r\n                      <td>{item.pickup_by}</td>\r\n                      <td>{item.call_duration}</td>\r\n                      <td>{item.phone_number}</td>\r\n                      <td>{item.outbound_status}</td>\r\n                      <td>{item.outbound_categories}</td>\r\n                      <td>{item.outbound_category_details}</td>\r\n                      {\r\n                        (userLevelId == 2 || userLevelId == 5) &&\r\n                        <td className=\"text-nowrap\">\r\n                          <Button variant=\"info\" size=\"sm\" className=\"m-1\" onClick={(e) => handleVoiceCall({\r\n                            filename: item.filename,\r\n                            filedate: item.filedate\r\n                          })} disabled={!isEmptyValue(item.filename) && !isEmptyValue(item.filedate) ? false : true}>\r\n                            <i className=\"fas fa-play fa-fw\" /> Audio\r\n                        </Button>\r\n                        </td>}\r\n\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                      <>\r\n                        <tr>\r\n                          <td colSpan=\"9\" className=\"text-center\">\r\n                            <span className=\"text-danger\">No data found</span>\r\n                          </td>\r\n                        </tr>\r\n                      </>\r\n                    )}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n          {isLoading === false && !_.isEmpty(tableData) && (\r\n            <Pagination\r\n              total={tableData.total_data}\r\n              limit={tableData.limit}\r\n              paging={tableData.paging}\r\n              pageChange={async pageNumber => {\r\n                await setIsLoading(true);\r\n                setCurrentFilter({\r\n                  ...currentFilter,\r\n                  page: pageNumber\r\n                });\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <Modal show={showModal} onHide={handleModalClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Play Voice Call</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"text-center\">\r\n          <CustomPlayer.Audio url={voiceCall.url} loading={voiceCall.loading} autoplay={true} size=\"lg\" />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"light\" onClick={handleModalClose}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst initialNotif = {\r\n  title: \"\",\r\n  message: \"\",\r\n  show: false,\r\n  type: null\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Button, Form, Row, Col } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from \"@hookform/resolvers/yup\"\r\nimport * as yup from \"yup\"\r\nimport classnames from \"classnames\"\r\nimport { useCampaignFields, useCustomers } from '../../utils/functions';\r\nimport { Notification } from '../../components'\r\nimport { generalService } from '../../utils/services';\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const CustomerField = ({ CampaignId, Customer }) => {\r\n    const { Get } = useCampaignFields()\r\n    const { Update } = useCustomers()\r\n    const [field, setField] = useState({})\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const { register, handleSubmit, clearErrors, reset, formState: { errors } } = useForm({\r\n        // defaultValues: initialCustomer,\r\n        resolver: validationSchemaCustomer\r\n    })\r\n\r\n    const onSubmitCustomer = async (data, e) => {\r\n        e.preventDefault(e)\r\n        setAlert(null)\r\n        await Update(Customer.id, data).then((res) => {\r\n            if (res.success) {\r\n                setAlert(1)\r\n            } else {\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Data has been updated.\" /> :\r\n                <Error message=\"Failed to update data.\" />\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            if (!isEmptyValue(CampaignId)) {\r\n                await Get({\r\n                    campaign_id: CampaignId,\r\n                    limit: \"0\",\r\n                    order: \"field_name_display\",\r\n                    is_active: 1\r\n                }).then((res) => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        setField(res.data)\r\n                    }\r\n                }).catch((err) => { return })\r\n                clearErrors()\r\n                // let default_field = field.map((item) => (\r\n                //     item: isEmptyValue(Customer[item.name])\r\n                // )\r\n\r\n\r\n                // reset({\r\n                //     ...initialCustomer,\r\n                // })\r\n            }\r\n        }\r\n        fetchData()\r\n    }, [CampaignId])\r\n    return (\r\n        <>\r\n            {/* <Card className=\"mb-3\" >\r\n                <Card.Header>Customer Field</Card.Header>\r\n                <Card.Body> */}\r\n            {\r\n                alert && handleAlert(alert)\r\n            }\r\n            <Form onSubmit={handleSubmit(onSubmitCustomer)} >\r\n                <Form.Group as={Row} className=\"mb-3 ml-1 mr-1\" style={{ overflowY: \"scroll\", maxHeight: \"10.8rem\" }} >\r\n                    {!isEmptyValue(field) && field.map((item, index) =>\r\n                        <Col sm=\"6\" key={index}>\r\n                            <Form.Group className=\"mb-3\">\r\n                                <Form.Label>{item.field_display_name}</Form.Label>\r\n                                <Form.Control type=\"text\" size=\"sm\" defaultValue={!isEmptyValue(Customer[item.field_name]) ? Customer[item.field_name] : ''} {...register(item.field_name)} />\r\n                                <Form.Text\r\n                                    className={classnames(\"text-danger\", {\r\n                                        \"d-none\": !errors[item.field_name]\r\n                                    })}\r\n                                >\r\n                                    {errors[item.field_name] ?.message}\r\n                                </Form.Text>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    )}\r\n                </Form.Group >\r\n\r\n                <div className=\"col-md-12 mb-4 text-center\">\r\n                    <Button variant=\"primary\" type=\"submit\" >Update</Button>\r\n                </div>\r\n            </Form>\r\n            {/* </Card.Body>\r\n            </Card> */}\r\n        </>\r\n    )\r\n}\r\n\r\n// const initialCustomer = {\r\n//     fullname: '',\r\n//     phone_1: '',\r\n//     phone_2: '',\r\n//     email: '',\r\n//     card_number: '',\r\n//     card_type: '',\r\n//     limit: '',\r\n//     card_since_year: '',\r\n//     card_since_month: '',\r\n//     card_exp_date: '',\r\n//     card_emboss_name: '',\r\n//     amount: '',\r\n//     account_no: '',\r\n//     bank_interest: '',\r\n//     mother_name: '',\r\n//     age: '',\r\n//     gender: '',\r\n//     birth_place: '',\r\n//     birth_date: '',\r\n//     merchant: '',\r\n//     transaction_date: '',\r\n//     home_address: '',\r\n//     home_city: '',\r\n//     home_zip: '',\r\n//     office_address: '',\r\n//     office_city: '',\r\n//     office_zip: '',\r\n//     income: '',\r\n//     business_type: '',\r\n//     occupation: '',\r\n//     ktp: '',\r\n//     npwp: '',\r\n//     tenor: '',\r\n// }\r\n\r\nconst validationSchemaCustomer = yupResolver(\r\n    yup.object().shape({\r\n        fullname: yup.string(),\r\n        phone_1: yup.string(),\r\n        phone_2: yup.string(),\r\n        email: yup.string(),\r\n        card_number: yup.string(),\r\n        card_type: yup.string(),\r\n        limit: yup.string(),\r\n        card_since_year: yup.string(),\r\n        card_since_month: yup.string(),\r\n        card_exp_date: yup.string(),\r\n        card_emboss_name: yup.string(),\r\n        amount: yup.string(),\r\n        account_no: yup.number().transform(cv => isNaN(cv) ? undefined : cv).positive().integer(),\r\n        bank_interest: yup.string(),\r\n        mother_name: yup.string(),\r\n        age: yup.number().transform(cv => isNaN(cv) ? undefined : cv).positive().integer(),\r\n        gender: yup.string(),\r\n        birth_place: yup.string(),\r\n        birth_date: yup.string(),\r\n        merchant: yup.string(),\r\n        transaction_date: yup.string(),\r\n        home_address: yup.string(),\r\n        home_city: yup.string(),\r\n        home_zip: yup.string(),\r\n        office_address: yup.string(),\r\n        office_city: yup.string(),\r\n        office_zip: yup.string(),\r\n        income: yup.string(),\r\n        business_type: yup.string(),\r\n        occupation: yup.string(),\r\n        ktp: yup.string(),\r\n        npwp: yup.string(),\r\n        tenor: yup.string(),\r\n    })\r\n)","import React, { useEffect, useState, useContext } from 'react'\r\nimport { useCampaignInfos } from '../../utils/functions';\r\nimport { Form } from 'react-bootstrap'\r\nimport ReactQuill from 'react-quill';\r\nimport Select from \"react-select\";\r\nimport { generalService } from '../../utils/services';\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const CampaignInfo = ({ CampaignId, CurrentData, CurrentDataChange }) => {\r\n    const { Get } = useCampaignInfos()\r\n    const [info, setInfo] = useState({})\r\n    const [detail, setDetail] = useState(null)\r\n\r\n    const handleChange = async (id) => {\r\n\r\n        await Get({ id: id }).then((res) => {\r\n            if (!isEmptyValue(res.data)) {\r\n                setDetail(res.data.info)\r\n                CurrentDataChange({ campaign_info: id, detail: res.data.info })\r\n            }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n\r\n            await Get({\r\n                campaign_id: CampaignId,\r\n                limit: \"100\",\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let infoOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n                    setInfo([\r\n                        ...initialOption,\r\n                        ...infoOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return })\r\n            CurrentData.detail && setDetail(CurrentData.detail)\r\n        }\r\n        fetchData()\r\n    }, [CampaignId, CurrentData])\r\n    return (\r\n        <>\r\n            {/* <Card className=\"mb-3\" >\r\n                <Card.Header>Campaign Info</Card.Header>\r\n                <Card.Body> */}\r\n            <Form.Group className=\"mb-3\">\r\n                <Form.Label>Name</Form.Label>\r\n                <Select\r\n                    options={info}\r\n                    onChange={(selected) => handleChange(selected.value)}\r\n                    value={!isEmptyValue(info) && info.filter((opt) => {\r\n                        return opt.value === CurrentData.campaign_info;\r\n                    })}\r\n                />\r\n            </Form.Group>\r\n            <Form.Group  >\r\n                <ReactQuill\r\n                    theme=\"snow\"\r\n                    value={detail}\r\n                />\r\n            </Form.Group >\r\n            {/* </Card.Body>\r\n            </Card> */}\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]","import React, { useEffect, useState, useContext, useCallback } from \"react\"\r\nimport { Button, Form, Modal, Row, Col, Card, Collapse, Nav } from \"react-bootstrap\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useStopwatch } from \"react-timer-hook\"\r\nimport classnames from 'classnames'\r\nimport \"react-quill/dist/quill.snow.css\"\r\nimport \"../../public/assets/styles/editor.css\"\r\nimport { generalService } from \"../../utils/services\"\r\nimport { CallContext, AuthContext } from \"../../utils/context\"\r\nimport _ from \"lodash\"\r\nimport { useCustomers, useOutboundCategories, useHangUp, useOutboundCategoryDetails, useMute, useCalls, useUsers } from \"../../utils/functions\"\r\nimport { CallHistories } from \"../CallHistories\"\r\nimport { CustomerField } from \"../Elements/CustomerField\"\r\nimport { CampaignInfo } from \"../Elements/CampaignInfo\"\r\nimport Select from 'react-select'\r\n\r\nconst { isEmptyValue, formatDateTime, diffDate } = generalService\r\n\r\nexport const FormDetail = ({ handleModalClose, dataId, campaignId, handleScheduleCall, handleChecking }) => {\r\n  const { incomingCall, pickUpCall } = useContext(CallContext)\r\n  const { userId, setUserActivityId, userLevelId } = useContext(AuthContext)\r\n  const { channel } = pickUpCall\r\n  const { phone_no, call_id } = incomingCall\r\n  const [tab, setTab] = useState(1)\r\n  const { Get } = useCustomers()\r\n  const { Update } = useCalls()\r\n  const { HangUp } = useHangUp()\r\n  const { Mute } = useMute()\r\n  const fnOutboundCategories = useOutboundCategories()\r\n  const fnOutboundCategoryDetails = useOutboundCategoryDetails()\r\n  const fnUsers = useUsers()\r\n  const [outboundCategory, setOutboundCategory] = useState(initialOption)\r\n  const [outboundCategoryDetail, setOutboundCategoryDetail] = useState(initialOption)\r\n  const [customer, setCustomer] = useState({})\r\n  const [campaignInfo, setCampaignInfo] = useState({ campaign_info: '' })\r\n  const [mute, setMute] = useState(false)\r\n  const start_call = localStorage.getItem(\"startCall\")\r\n  const diff = diffDate(formatDateTime(), start_call) / 700\r\n\r\n  const { handleSubmit, formState: { errors }, register, control, reset, clearErrors, watch } = useForm({\r\n    defaultValues: initialCall,\r\n    resolver: validationSchemaCall\r\n  })\r\n\r\n  const outbound_category_id = watch(\"outbound_category_id\")\r\n  const outbound_category_detail_id = watch(\"outbound_category_detail_id\")\r\n\r\n  const stopwatchOffset = new Date()\r\n  const { seconds, minutes, hours, start } = useStopwatch({\r\n    autoStart: false,\r\n    offsetTimestamp: stopwatchOffset.setSeconds(\r\n      stopwatchOffset.getSeconds() + diff\r\n    )\r\n  })\r\n\r\n  const hourTime = hours < 10 ? `0${hours}` : `${hours}`\r\n  const minuteTime = minutes < 10 ? `0${minutes}` : `${minutes}`\r\n  const secondTime = seconds < 10 ? `0${seconds}` : `${seconds}`\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault(e)\r\n    const data_hangup = {\r\n      channel: channel\r\n    }\r\n\r\n    await HangUp(data_hangup)\r\n      .then(async res => {\r\n        if (res.success) {\r\n          await Update(call_id, {\r\n            ...data,\r\n            dropcall_date: formatDateTime(),\r\n            updated_at: formatDateTime(),\r\n            updated_by: userId\r\n          }).then(async res => {\r\n            if (res.success) {\r\n              // localStorage.setItem('userActivityId', 2)\r\n              // setUserActivityId(2)\r\n\r\n              await fnUsers.Update(userId, { user_activity_id: 8 }).then(async (res) => {\r\n                if (res.success) {\r\n                  localStorage.setItem('userActivityId', 8)\r\n                  setUserActivityId(8)\r\n                  // socket.emit('escorts')\r\n                  handleModalClose()\r\n                }\r\n              }).catch((err) => { return })\r\n              handleModalClose()\r\n            }\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return\r\n      })\r\n  }\r\n\r\n  const handleMute = async () => {\r\n    const data = {\r\n      channel: channel,\r\n      direction: \"all\",\r\n      state: \"on\"\r\n    }\r\n    await Mute(data)\r\n      .then(async res => {\r\n        if (res.success) {\r\n          setMute(true)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return\r\n      })\r\n  }\r\n\r\n  const handleUnMute = async () => {\r\n    const data = {\r\n      channel: channel,\r\n      direction: \"all\",\r\n      state: \"off\"\r\n    }\r\n    await Mute(data)\r\n      .then(async res => {\r\n        if (res.success) {\r\n          setMute(false)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await Get({ id: dataId })\r\n        .then(res => {\r\n          if (!isEmptyValue(res.data)) {\r\n            setCustomer(res.data)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          return\r\n        })\r\n      await fnOutboundCategories\r\n        .Get()\r\n        .then(res => {\r\n          if (!isEmptyValue(res.data)) {\r\n            let outboundOption = res.data.map(row => {\r\n              return { value: row.id, label: row.name }\r\n            })\r\n\r\n            setOutboundCategory([...initialOption, ...outboundOption])\r\n          } else {\r\n            setOutboundCategory(initialOption)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          return\r\n        })\r\n    }\r\n    if (!isEmptyValue(channel)) {\r\n      start()\r\n    }\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (outbound_category_id) {\r\n      const fetchDataDetail = async () => {\r\n        await fnOutboundCategoryDetails\r\n          .Get({ outbound_category_id: outbound_category_id })\r\n          .then(res => {\r\n            if (!isEmptyValue(res.data)) {\r\n              let outboundDetailOption = res.data.map(row => {\r\n                return { value: row.id, label: row.name }\r\n              })\r\n\r\n              setOutboundCategoryDetail([\r\n                ...initialOption,\r\n                ...outboundDetailOption\r\n              ])\r\n            } else {\r\n              setOutboundCategoryDetail(initialOption)\r\n            }\r\n          })\r\n          .catch(err => {\r\n            return\r\n          })\r\n      }\r\n      fetchDataDetail()\r\n    }\r\n  }, [outbound_category_id])\r\n\r\n  return (\r\n    <>\r\n      <Modal.Body>\r\n        <Card>\r\n          <Card.Body>\r\n            <NavTab setTab={setTab} tab={tab} channel={channel} />\r\n            {tab === 1 && (\r\n              <Row>\r\n                <Col sm=\"12\">\r\n                  <Card className=\"mb-3\">\r\n                    {/* <Card.Header>Customer Detail</Card.Header> */}\r\n                    <Form onSubmit={handleSubmit(onSubmit)}>\r\n                      <Card.Body>\r\n                        <Form.Group as={Row}>\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Customer Name</Form.Label>\r\n                              <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                value={customer.fullname}\r\n                                disabled\r\n                              />\r\n                            </Form.Group>\r\n                          </Col>\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Campaign</Form.Label>\r\n                              <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                value={customer.campaign_name}\r\n                                disabled\r\n                              />\r\n                            </Form.Group>\r\n                          </Col>\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Dial Phone No</Form.Label>\r\n                              <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                value={phone_no}\r\n                                disabled\r\n                              />\r\n                            </Form.Group>\r\n                          </Col>\r\n\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Duration</Form.Label>\r\n                              <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                disabled\r\n                                value={\r\n                                  !isEmptyValue(channel)\r\n                                    ? `${hourTime}:${minuteTime}:${secondTime}`\r\n                                    : \"\"\r\n                                }\r\n                              />\r\n                            </Form.Group>\r\n                          </Col>\r\n                          <Col sm=\"12\">\r\n                            {!isEmptyValue(channel) ? (\r\n                              <>\r\n                                <Form.Group className=\"mb-3\">\r\n                                  <Form.Label>Note</Form.Label>\r\n                                  <Form.Control\r\n                                    as=\"textarea\"\r\n                                    rows={3}\r\n                                    size=\"sm\"\r\n                                    {...register(\"note\")}\r\n                                  />\r\n                                </Form.Group>\r\n                                <Form.Text\r\n                                  className={classnames(\"text-danger\", {\r\n                                    \"d-none\": !errors.note\r\n                                  })}\r\n                                >\r\n                                  {errors.note?.message}\r\n                                </Form.Text>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <Form.Group className=\"mb-3\">\r\n                                  <Form.Label>Note</Form.Label>\r\n                                  <Form.Control\r\n                                    as=\"textarea\"\r\n                                    rows={3}\r\n                                    size=\"sm\"\r\n                                    value={customer.note}\r\n                                  />\r\n                                </Form.Group>\r\n                              </>\r\n                            )}\r\n                          </Col>\r\n\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Outbound Category</Form.Label>\r\n                              {!isEmptyValue(channel) ? (\r\n                                <Controller\r\n                                  name={\"outbound_category_id\"}\r\n                                  control={control}\r\n                                  render={({ field: { value, onChange } }) => {\r\n                                    return (\r\n                                      <Select\r\n                                        options={outboundCategory}\r\n                                        onChange={val => {\r\n                                          onChange(val.value)\r\n                                        }}\r\n                                        value={!isEmptyValue(outboundCategory) && outboundCategory.filter((opt) => {\r\n                                          return opt.value === outbound_category_id;\r\n                                        })}\r\n                                      />\r\n                                    )\r\n                                  }}\r\n                                />) : (\r\n                                <Form.Control\r\n                                  type=\"text\"\r\n                                  size=\"sm\"\r\n                                  value={customer.outbound_category_name}\r\n                                  disabled\r\n                                />\r\n                              )}\r\n\r\n                            </Form.Group>\r\n                            <Form.Text\r\n                              className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.outbound_category_id\r\n                              })}\r\n                            >\r\n                              {errors.outbound_category_id?.message}\r\n                            </Form.Text>\r\n                          </Col>\r\n                          <Col sm=\"6\">\r\n                            <Form.Group className=\"mb-3\">\r\n                              <Form.Label>Outbound Category Detail</Form.Label>\r\n                              {!isEmptyValue(channel) ? (\r\n                                <Controller\r\n                                  name={\"outbound_category_detail_id\"}\r\n                                  control={control}\r\n                                  render={({ field: { value, onChange } }) => {\r\n                                    return (\r\n                                      <Select\r\n                                        options={outboundCategoryDetail}\r\n                                        onChange={\r\n                                          val =>\r\n                                            onChange(val.value)\r\n                                        }\r\n                                        value={!isEmptyValue(outboundCategoryDetail) && outboundCategoryDetail.filter((opt) => {\r\n                                          return opt.value === outbound_category_detail_id;\r\n                                        })}\r\n                                      />\r\n                                    )\r\n                                  }}\r\n                                />\r\n                              ) : (\r\n                                <Form.Control\r\n                                  type=\"text\"\r\n                                  size=\"sm\"\r\n                                  value={customer.outbound_category_detail_name}\r\n                                  disabled\r\n                                />\r\n                              )}\r\n                            </Form.Group>\r\n                            <Form.Text\r\n                              className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.outbound_category_detail_id\r\n                              })}\r\n                            >\r\n                              {errors.outbound_category_detail_id?.message}\r\n                            </Form.Text>\r\n                          </Col>\r\n                        </Form.Group>\r\n                      </Card.Body>\r\n                      <Modal.Footer>\r\n                        {!isEmptyValue(channel) && (\r\n                          <>\r\n                            {mute ? (\r\n                              <Button\r\n                                variant=\"success\"\r\n                                onClick={handleUnMute}\r\n                              >\r\n                                Unmute\r\n                              </Button>\r\n                            ) : (\r\n                              <Button variant=\"warning\" onClick={handleMute}>\r\n                                Mute\r\n                              </Button>\r\n                            )}\r\n                            <Button variant=\"danger\" type=\"submit\">\r\n                              Hang Up\r\n                            </Button>\r\n                          </>\r\n                        )}\r\n                      </Modal.Footer>\r\n                    </Form>\r\n                  </Card>\r\n                </Col>\r\n              </Row>\r\n            )}\r\n            {tab === 2 && (\r\n              <CustomerField CampaignId={campaignId} Customer={customer} />\r\n            )}\r\n            {tab === 3 && <CampaignInfo CampaignId={campaignId} CurrentData={campaignInfo} CurrentDataChange={setCampaignInfo} />}\r\n            {tab === 4 && <CallHistories CustomerId={dataId} />}\r\n          </Card.Body>\r\n        </Card>\r\n\r\n        {/* <Collapse in={schedule}>\r\n          <Card>\r\n            <Card.Body> */}\r\n        {/* customer status muncul ketika online, ketika klik detail customer hanya ada schedule call */}\r\n        {/* {customerStatus ? (\r\n                <CustomerStatus handleModalClose={handleModalClose} customerId={dataId} setCustomerStatus={setCustomerStatus} />\r\n              ) : (\r\n                  <FormAdd customerId={dataId} campaignId={campaignId} phoneNo={phone_no} afterEffect={handleModalClose} />\r\n                )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Collapse> */}\r\n      </Modal.Body>\r\n\r\n      {/* <Row> */}\r\n\r\n      {isEmptyValue(channel) && (\r\n        <>\r\n          <Modal.Footer>\r\n            {(customer.customer_status_id == 4 && (userLevelId == 2 || userLevelId == 5)) && (\r\n              <Button variant=\"info\" onClick={handleChecking}>\r\n                Checking\r\n              </Button>\r\n            )}\r\n            {(userLevelId == 1) && (\r\n              <Button variant=\"warning\" onClick={handleScheduleCall}>\r\n                Schedule Call\r\n              </Button>\r\n            )}\r\n          </Modal.Footer>\r\n        </>\r\n      )}\r\n      {/* </Row> */}\r\n    </>\r\n  )\r\n}\r\n\r\nconst NavTab = ({ setTab, tab, channel }) => {\r\n  return (\r\n    <Nav variant=\"tabs\" defaultActiveKey={`link-${tab}`} className=\"mb-3\">\r\n      <Nav.Item>\r\n        <Nav.Link eventKey=\"link-1\" onClick={() => setTab(1)}>\r\n          Call\r\n        </Nav.Link>\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        <Nav.Link eventKey=\"link-2\" onClick={() => setTab(2)}>\r\n          Customer\r\n        </Nav.Link>\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        <Nav.Link eventKey=\"link-3\" onClick={() => setTab(3)}>\r\n          Campain Info\r\n        </Nav.Link>\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        <Nav.Link eventKey=\"link-4\" onClick={() => setTab(4)}>\r\n          Call Histories\r\n        </Nav.Link>\r\n      </Nav.Item>\r\n    </Nav>\r\n  )\r\n}\r\n\r\n\r\nconst initialOption = [\r\n  {\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n  }\r\n]\r\n\r\nconst initialCall = {\r\n  note: \"\",\r\n  outbound_category_id: \"\",\r\n  outbound_category_detail_id: \"\"\r\n}\r\n\r\nconst validationSchemaCall = yupResolver(\r\n  yup.object().shape({\r\n    note: yup.string().required(\"This field is required.\"),\r\n    outbound_category_id: yup.string().required(\"This field is required.\"),\r\n    outbound_category_detail_id: yup.string().required(\"This field is required.\"),\r\n  })\r\n)","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useMute = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/mute'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Mute = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Mute\r\n    }\r\n}","import React, { useEffect, useState, useContext } from \"react\"\r\nimport { Button, Form, Modal, Card, Spinner } from \"react-bootstrap\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport DatePicker from \"react-datepicker\"\r\nimport classnames from \"classnames\"\r\nimport { yupResolver } from \"@hookform/resolvers/yup\"\r\nimport * as yup from \"yup\"\r\nimport _ from \"lodash\"\r\nimport { Notification } from \"../../components\"\r\nimport { useCallbacks, useCallbackReasons } from \"../../utils/functions\"\r\nimport { generalService } from \"../../utils/services\"\r\nimport { AuthContext } from \"../../utils/context\"\r\n\r\nconst { formatDateTime, isEmptyValue } = generalService\r\n\r\nexport const FormAdd = ({ dataChange, handleModalClose, customerId, campaignId, phoneNo }) => {\r\n  const { userId } = useContext(AuthContext)\r\n  const { Create } = useCallbacks()\r\n  const { Get } = useCallbackReasons()\r\n  const { handleSubmit, formState: { errors }, register, control, reset, clearErrors } = useForm({\r\n    defaultValues: initialCallback,\r\n    resolver: validationSchemaCallback\r\n  })\r\n  const [callbackReason, setCallbackReason] = useState({})\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [alert, setAlert] = useState(null)\r\n  const { Success, Error } = Notification\r\n\r\n  const handleAlert = value => {\r\n    return value && value === 1 ? (\r\n      <Success message=\"Data has been created.\" />\r\n    ) : (\r\n        <Error message=\"Failed to create data.\" />\r\n      )\r\n  }\r\n\r\n  const onSubmit = async data => {\r\n    setAlert(null)\r\n    setIsLoading(true)\r\n    await Create({\r\n      ...data,\r\n      callback_time: formatDateTime(data.callback_time),\r\n      created_at: formatDateTime()\r\n    })\r\n      .then(res => {\r\n        if (res.success) {\r\n          setAlert(1)\r\n          setIsLoading(false)\r\n          dataChange()\r\n        } else {\r\n          setAlert(2)\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      clearErrors()\r\n      reset({\r\n        ...initialCallback,\r\n        customer_id: customerId,\r\n        campaign_id: campaignId,\r\n        user_id: userId,\r\n        callback_time: new Date(),\r\n        phone_no: phoneNo\r\n      })\r\n      await Get()\r\n        .then(res => {\r\n          if (!isEmptyValue(res.data)) {\r\n            setCallbackReason(res.data)\r\n            setIsLoading(false)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          return\r\n        })\r\n    }\r\n    fetchData()\r\n  }, [])\r\n  return (\r\n    <>\r\n      <Form className=\"mb-3\" onSubmit={handleSubmit(onSubmit)}>\r\n        <Modal.Body>\r\n          {alert && handleAlert(alert)}\r\n          <Card className=\"mb-3\">\r\n            {/* <Card.Header>Import Customer</Card.Header> */}\r\n            <Card.Body>\r\n              <Form.Group className=\"col-md-12\">\r\n                <Form.Label>Phone No</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  size=\"sm\"\r\n                  {...register(\"phone_no\")}\r\n                />\r\n                <Form.Text className={classnames(\"text-danger\", {\r\n                  \"d-none\": !errors.phone_no\r\n                })}>{errors.phone_no ?.message}</Form.Text>\r\n              </Form.Group>\r\n              <Form.Group className=\"col-md-12\">\r\n                <Form.Label>Schedule Call At</Form.Label>\r\n                <Controller\r\n                  name={\"callback_time\"}\r\n                  control={control}\r\n                  render={({ field: { value, onChange } }) => {\r\n                    return (\r\n                      <DatePicker\r\n                        className=\"form-control form-control-sm\"\r\n                        dateFormat=\"yyyy-MM-dd HH:mm\"\r\n                        showTimeInput\r\n                        disabledKeyboardNavigation\r\n                        selected={value}\r\n                        onChange={date => {\r\n                          onChange(date)\r\n                          // formatDateTime(date) === false ? setSelectedStartDate(new Date()) : setSelectedStartDate(date)\r\n                          // setValue('end_date', date)\r\n                        }}\r\n                        minDate={new Date()}\r\n                      />\r\n                    )\r\n                  }}\r\n                />\r\n                <Form.Text\r\n                  className={classnames(\"text-danger\", {\r\n                    \"d-none\": !errors.callback_time\r\n                  })}\r\n                >\r\n                  {errors.callback_time ?.message}\r\n                </Form.Text>\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"col-md-12\">\r\n                <Form.Label>Callback Reason</Form.Label>\r\n                <select\r\n                  className=\"form-control\"\r\n                  {...register(\"callback_reason_id\")}\r\n                >\r\n                  <option value=\"\">--Please Select --</option>\r\n                  {!isEmptyValue(callbackReason) > 0 &&\r\n                    callbackReason.map(item => (\r\n                      <option key={item.id} value={item.id}>\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n                <Form.Text\r\n                  className={classnames(\"text-danger\", {\r\n                    \"d-none\": !errors.callback_reason_id\r\n                  })}\r\n                >\r\n                  {errors.callback_reason_id ?.message}\r\n                </Form.Text>\r\n              </Form.Group>\r\n            </Card.Body>\r\n          </Card>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={handleModalClose}>Close</Button>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {isLoading ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Save'}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nconst initialCallback = {\r\n  customer_id: null,\r\n  callback_reason_id: null,\r\n  campaign_id: null,\r\n  user_id: null,\r\n  callback_time: null,\r\n  phone_no: null,\r\n  created_at: null\r\n}\r\n\r\nconst validationSchemaCallback = yupResolver(\r\n  yup.object().shape({\r\n    callback_reason_id: yup.string().required(\"This field is required.\"),\r\n    phone_no: yup.string().required(\"This field is required.\"),\r\n    callback_time: yup\r\n      .date()\r\n      .nullable()\r\n      .required(\"This field is required.\")\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n  })\r\n)\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCallbackReasons = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/callback_reasons'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import React, { useEffect, useState, useContext } from \"react\"\r\nimport { Button, Form, Modal, Card, } from \"react-bootstrap\"\r\nimport { useForm, Controller } from \"react-hook-form\"\r\nimport classnames from \"classnames\"\r\nimport { yupResolver } from \"@hookform/resolvers/yup\"\r\nimport * as yup from \"yup\"\r\nimport _ from \"lodash\"\r\nimport { Notification } from \"../../components\"\r\nimport { useCheckingSatuses, useCheckingReasons, useCustomers } from \"../../utils/functions\"\r\nimport { generalService } from \"../../utils/services\"\r\nimport { AuthContext } from \"../../utils/context\"\r\n\r\nconst { formatDateTime, isEmptyValue } = generalService\r\n\r\nexport const Checking = ({ customerId, handleModalClose }) => {\r\n    const { userId } = useContext(AuthContext)\r\n    const { Get, Update } = useCustomers()\r\n    const fnCheckingStatus = useCheckingSatuses()\r\n    const fnCheckingReason = useCheckingReasons()\r\n    const [customer, setCustomer] = useState({})\r\n    const { handleSubmit, formState: { errors }, register, reset, clearErrors } = useForm({\r\n        defaultValues: initialChecking,\r\n        resolver: validationSchemaChecking\r\n    })\r\n    const [checkingStatus, setCheckingStatus] = useState({})\r\n    const [checkingReason, setCheckingReason] = useState({})\r\n\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const handleAlert = value => {\r\n        return value && value === 1 ? (\r\n            <Success message=\"Data has been updated.\" />\r\n        ) : (\r\n                <Error message=\"Failed to updated data.\" />\r\n            )\r\n    }\r\n\r\n    const onSubmit = async data => {\r\n        if (data.checking_status_id == 2) {\r\n            data = {\r\n                ...data,\r\n                customer_status_id: 3\r\n            }\r\n        }\r\n        await Update(customerId, data)\r\n            .then(res => {\r\n                if (res.success) {\r\n                    console.log(res)\r\n                    setAlert(1)\r\n                    handleModalClose()\r\n                } else {\r\n                    setAlert(2)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                return\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            clearErrors()\r\n            reset({\r\n                ...initialChecking,\r\n                updated_by: userId,\r\n                checker_user_id: userId\r\n            })\r\n            await Get({ id: customerId })\r\n                .then(res => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        setCustomer(res.data)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    return\r\n                })\r\n            await fnCheckingStatus.Get()\r\n                .then(res => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        setCheckingStatus(res.data)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    return\r\n                })\r\n            await fnCheckingReason.Get()\r\n                .then(res => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        setCheckingReason(res.data)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    return\r\n                })\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Form className=\"mb-3\" onSubmit={handleSubmit(onSubmit)}>\r\n                <Modal.Body>\r\n                    {alert && handleAlert(alert)}\r\n                    <Card className=\"mb-3\">\r\n                        {/* <Card.Header>Import Customer</Card.Header> */}\r\n                        <Card.Body>\r\n                            <Form.Group className=\"col-md-12\">\r\n                                <Form.Label>Checking Status</Form.Label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    {...register(\"checking_status_id\")}\r\n                                >\r\n                                    <option value=\"\">--Please Select --</option>\r\n                                    {!isEmptyValue(checkingStatus) > 0 &&\r\n                                        checkingStatus.map(item => (\r\n                                            <option key={item.id} value={item.id} selected={item.id === customer.checking_reason_id && \"true\"}>\r\n                                                {item.name}\r\n                                            </option>\r\n                                        ))}\r\n                                </select>\r\n                                <Form.Text\r\n                                    className={classnames(\"text-danger\", {\r\n                                        \"d-none\": !errors.checking_status_id\r\n                                    })}\r\n                                >\r\n                                    {errors.checking_status_id ?.message}\r\n                                </Form.Text>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-12\">\r\n                                <Form.Label>Checking Reason</Form.Label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    {...register(\"checking_reason_id\")}\r\n                                >\r\n                                    <option value=\"\">--Please Select --</option>\r\n                                    {!isEmptyValue(checkingReason) > 0 &&\r\n                                        checkingReason.map(item => (\r\n                                            <option key={item.id} value={item.id} selected={item.id === customer.checking_reason_id && \"true\"} >\r\n                                                {item.name}\r\n                                            </option>\r\n                                        ))}\r\n                                </select>\r\n                                <Form.Text\r\n                                    className={classnames(\"text-danger\", {\r\n                                        \"d-none\": !errors.checking_reason_id\r\n                                    })}\r\n                                >\r\n                                    {errors.checking_reason_id ?.message}\r\n                                </Form.Text>\r\n                            </Form.Group>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {customer.checking_status_id != 1 &&\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Save\r\n                  </Button>\r\n                    }\r\n\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialChecking = {\r\n    checking_status_id: null,\r\n    checking_reason_id: null,\r\n    updated_by: null,\r\n}\r\n\r\nconst validationSchemaChecking = yupResolver(\r\n    yup.object().shape({\r\n        checking_status_id: yup.string().required(\"This field is required.\"),\r\n        checking_reason_id: yup.string().required(\"This field is required.\"),\r\n        // updated_by: yup.string().required(\"This field is required.\"),\r\n    })\r\n)\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCheckingSatuses = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/checking_statuses'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport Select from 'react-select'\r\nimport _ from 'lodash'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd';\r\nimport { FormDetail } from './FormDetail';\r\nimport { FormAdd as ScheduleCall } from '../Callback/FormAdd';\r\nimport { useOutboundCategories, useOutboundCategoryDetails, useCustomers, useCustomerStatuses } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\nimport { Checking } from '../Elements/Checking';\r\nimport { AuthContext } from '../../utils/context';\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const CustomerCalls = (props) => {\r\n    const { Get, Update } = useCustomers()\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const fnOutboundCategoryDetails = useOutboundCategoryDetails()\r\n    const fnCustomerStatuses = useCustomerStatuses()\r\n    const { userLevelId } = useContext(AuthContext)\r\n    const { Error, Success, Warning } = Notification\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [modalScheduleCall, setModalScheduleCall] = useState(initialModalScheduleCall)\r\n    const [modalChecking, setModalChecking] = useState(initialModalChecking)\r\n    const [modalConfirm, setModalConfirm] = useState(initialModal)\r\n    const [tableData, setTableData] = useState({})\r\n    const [outboundCategory, setOutboundCategory] = useState({})\r\n    const [customerStatus, setCustomerStatus] = useState({})\r\n    const [outboundCategoryDetail, setOutboundCategoryDetail] = useState({})\r\n    const [alert, setAlert] = useState(null)\r\n    const { campaignId } = useParams();\r\n\r\n    const [formFilter, setFormFilter] = useState({\r\n        fullname: \"\",\r\n        phone_1: \"\",\r\n        filename: \"\",\r\n        outbound_category_id: \"\",\r\n        outbound_category_detail_id: \"\",\r\n        customer_status_id: \"\",\r\n        is_active: 1,\r\n        campaign_id: campaignId\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n            dataId: campaignId\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalScheduleCall = () => {\r\n        setModalScheduleCall({\r\n            ...modalScheduleCall,\r\n            show: !modalScheduleCall.show\r\n        })\r\n    }\r\n\r\n    const handleModalChecking = () => {\r\n        setModalChecking({\r\n            ...modalChecking,\r\n            show: !modalChecking.show\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n        setModalConfirm(initialModal)\r\n    }\r\n\r\n    const handleModalCloseSchedule = () => {\r\n        setModalScheduleCall(initialModalScheduleCall)\r\n    }\r\n\r\n    const handleModalCloseChecking = () => {\r\n        setModalChecking(initialModalChecking)\r\n    }\r\n\r\n    const handleModalConfirm = async (id) => {\r\n        setModalConfirm({\r\n            ...modalConfirm,\r\n            show: !modalConfirm.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalRevoke = async (id) => {\r\n        setAlert(null)\r\n        await Update(id, { is_active: 0 })\r\n            .then(async res => {\r\n                console.log(res)\r\n                if (res.success) {\r\n                    setAlert(1)\r\n                    setIsLoading(true)\r\n                } else {\r\n                    setAlert(2)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                return\r\n            })\r\n        handleModalClose()\r\n        setIsLoading(true)\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Revoke successed.\" /> :\r\n                <Error message=\"Failed to revoke this customer.\" />\r\n        )\r\n    }\r\n\r\n    const fnAbort = new AbortController()\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then(res => {\r\n                setTableData(res)\r\n                // console.log(res)\r\n                setIsLoading(false)\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n        }\r\n        fetchData()\r\n    }, [isLoading, currentFilter])\r\n\r\n    useEffect(() => {\r\n        if (formFilter.outbound_category_id) {\r\n            const fetchDataDetail = async () => {\r\n                await fnOutboundCategoryDetails.Get({ outbound_category_id: formFilter.outbound_category_id }).then(res => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        let outboundDetailOption = res.data.map((row) => {\r\n                            return { value: row.id, label: row.name }\r\n                        })\r\n\r\n                        setOutboundCategoryDetail([\r\n                            ...initialOption,\r\n                            ...outboundDetailOption\r\n                        ])\r\n                    } else {\r\n                        setOutboundCategoryDetail(initialOption)\r\n                    }\r\n                }).catch((err) => { return () => fnAbort.abort() })\r\n            }\r\n            fetchDataDetail()\r\n        }\r\n    }, [formFilter])\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get().then(res => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let outboundOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOutboundCategory([\r\n                        ...initialOption,\r\n                        ...outboundOption\r\n                    ])\r\n                } else {\r\n                    setOutboundCategory(initialOption)\r\n                }\r\n            }).catch((err) => { return })\r\n\r\n        }\r\n        const fetchDataStatus = async () => {\r\n            await fnCustomerStatuses.Get().then(res => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let statusOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setCustomerStatus([\r\n                        ...initialOption,\r\n                        ...statusOption\r\n                    ])\r\n                } else {\r\n                    setCustomerStatus(initialOption)\r\n                }\r\n            }).catch((err) => { return })\r\n\r\n        }\r\n        fetchData()\r\n        fetchDataStatus()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Customer Call</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\"><Link to=\"/campaign-calls\">Campaign Call</Link></li>\r\n                <li className=\"breadcrumb-item active\">Customer Call</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Name</label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"fullname\", e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Phone Number 1</label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"phone_1\", e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Filename</label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"filename\", e.target.value)} />\r\n                            </div>\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Customer Status</label>\r\n                                <Select\r\n                                    options={customerStatus}\r\n                                    onChange={(selected) => handleChangeFormFilter(\"customer_status_id\", selected.value)}\r\n                                    value={!isEmptyValue(customerStatus) && customerStatus.filter((opt) => {\r\n                                        return opt.value === formFilter.customer_status_id;\r\n                                    })}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Outbound Category</label>\r\n                                <Select\r\n                                    options={outboundCategory}\r\n                                    onChange={(selected) => handleChangeFormFilter(\"outbound_category_id\", selected.value)}\r\n                                    value={!isEmptyValue(outboundCategory) && outboundCategory.filter((opt) => {\r\n                                        return opt.value === formFilter.outbound_category_id;\r\n                                    })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group col-md-3\">\r\n                                <label htmlFor=\"inputState\">Outbound Category Detail</label>\r\n                                <Select\r\n                                    options={outboundCategoryDetail}\r\n                                    onChange={(selected) => handleChangeFormFilter(\"outbound_category_detail_id\", selected.value)}\r\n                                    value={!isEmptyValue(outboundCategoryDetail) && outboundCategoryDetail.filter((opt) => {\r\n                                        return opt.value === formFilter.outbound_category_detail_id;\r\n                                    })}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    {\r\n                        alert && handleAlert(alert)\r\n                    }\r\n                    {(userLevelId == 2 || userLevelId == 5) &&\r\n\r\n                        <Button variant=\"outline-primary\" onClick={handleModalAdd}>Upload Customer</Button>\r\n                    }\r\n                    <hr />\r\n                    <div className=\"table-responsive\">\r\n                        <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                            <thead className=\"thead-dark text-nowrap\">\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th >Customer Name</th>\r\n                                    <th>Phone 1</th>\r\n                                    <th>Attempt Call</th>\r\n                                    <th>Last Call Date</th>\r\n                                    <th>Outbound Category</th>\r\n                                    <th>Outbound Category Detail</th>\r\n                                    <th>Status Customer</th>\r\n                                    <th>Filename</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tfoot>\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Customer Name</th>\r\n                                    <th>Phone 1</th>\r\n                                    <th>Attempt Call</th>\r\n                                    <th>Last Call Date</th>\r\n                                    <th>Outbound Category</th>\r\n                                    <th>Outbound Category Detail</th>\r\n                                    <th>Status Customer</th>\r\n                                    <th>Filename</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </tfoot>\r\n                            <tbody className=\" text-nowrap\">\r\n                                {isLoading ? (\r\n                                    <tr>\r\n                                        <td colSpan=\"9\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                                        </td>\r\n                                    </tr>\r\n                                ) : (\r\n                                        tableData.total_data > 0 ? (\r\n                                            tableData.data.map((item, i) => (\r\n                                                <tr key={item.id} className=\"text-center\">\r\n                                                    <td>{tableData.paging.index[i]}</td>\r\n                                                    <td>{item.fullname}</td>\r\n                                                    <td>{item.phone_1}</td>\r\n                                                    <td>{item.total_call_attempt}</td>\r\n                                                    <td>{item.last_call_date && item.last_call_date.substring(0, 10)}</td>\r\n                                                    <td>{item.outbound_category_name}</td>\r\n                                                    <td>{item.outbound_category_detail_name}</td>\r\n                                                    <td>{item.customer_status_name}</td>\r\n                                                    <td>{item.filename}</td>\r\n                                                    <td>\r\n                                                        {(userLevelId == 2 || userLevelId == 5 || userLevelId == 1) &&\r\n                                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => { handleModalDetail(item.id) }}>\r\n                                                                <i className=\"fas fa-search fa-fw\"></i>\r\n                                                            </Button>\r\n                                                        }\r\n                                                        {(userLevelId == 2 || userLevelId == 5) &&\r\n                                                            item.customer_status_id == 1 ?\r\n                                                            <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Revoke\" onClick={(e) => { handleModalConfirm(item.id, item.name) }}>\r\n                                                                <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                            </Button>\r\n                                                            :\r\n                                                            <Button variant=\"danger\" disabled size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Revoke\" onClick={(e) => { handleModalConfirm(item.id, item.name) }}>\r\n                                                                <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                            </Button>\r\n                                                        }\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        ) : (\r\n                                                <>\r\n                                                    <tr>\r\n                                                        <td colSpan=\"8\" className=\"text-center\"><span className=\"text-danger\">No data found</span></td>\r\n                                                    </tr>\r\n                                                </>\r\n                                            )\r\n                                    )}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                    {isLoading === false && !_.isEmpty(tableData) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async (pageNumber) => {\r\n                                await setIsLoading(true)\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Import Campaign</Modal.Title>\r\n                </Modal.Header>\r\n                <FormAdd\r\n                    dataId={modalAdd.dataId}\r\n\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                    isLoading={isLoading}\r\n                    setIsLoading={setIsLoading}\r\n                />\r\n            </Modal>\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Customer Detail</Modal.Title>\r\n                </Modal.Header>\r\n                <FormDetail\r\n                    dataId={modalDetail.dataId}\r\n                    campaignId={campaignId}\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                    handleModalClose={handleModalClose}\r\n                    handleScheduleCall={handleModalScheduleCall}\r\n                    handleChecking={handleModalChecking}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalScheduleCall.show} onHide={handleModalCloseSchedule} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Schedule Call</Modal.Title>\r\n                </Modal.Header>\r\n                <ScheduleCall\r\n                    handleModalClose={handleModalCloseSchedule}\r\n                    dataChange={() => { }}\r\n                    customerId={modalDetail.dataId}\r\n                    campaignId={campaignId}\r\n                    phoneNo={''} />\r\n            </Modal>\r\n\r\n            <Modal show={modalChecking.show} onHide={handleModalCloseChecking} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Checking</Modal.Title>\r\n                </Modal.Header>\r\n                <Checking\r\n                    handleModalClose={handleModalCloseChecking}\r\n                    customerId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalConfirm.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Confirm Revoke</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure want to revoke this customer?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={handleModalClose}>No</Button>\r\n                    <Button variant=\"primary\" onClick={e => { handleModalRevoke(modalConfirm.dataId) }}>\r\n                        Yes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}\r\n\r\nconst initialModalScheduleCall = {\r\n    show: false,\r\n    dataId: \"\"\r\n}\r\n\r\nconst initialModalChecking = {\r\n    show: false,\r\n    dataId: \"\"\r\n}\r\n\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useCustomerStatuses = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/customer_statuses'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { Button, Form, Modal, Spinner, Table, Row } from 'react-bootstrap'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker'\r\nimport Select from 'react-select'\r\nimport _ from 'lodash'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd';\r\nimport { FormDetail } from './FormDetail';\r\nimport { useCalls, useUsers } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const Calls = (props) => {\r\n    const { Get } = useCalls()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [tableData, setTableData] = useState({})\r\n    const [disableDate, setDisableDate] = useState(false)\r\n    const { campaignId, campaignName } = useParams();\r\n    const [user, setUser] = useState({})\r\n\r\n\r\n    const [formFilter, setFormFilter] = useState({\r\n        customer_name: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        campaign_id: campaignId,\r\n        user_id: \"\"\r\n    })\r\n\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"created_at\",\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n            dataId: campaignId\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start', 'end'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        await Get()\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then(res => {\r\n                setTableData(res)\r\n                setIsLoading(false)\r\n            }).catch((err) => { return })\r\n        }\r\n        fetchData()\r\n    }, [isLoading, currentFilter])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({ user_level_id: 1 }).then(res => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let userOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n                    setUser([\r\n                        ...initialOption,\r\n                        ...userOption\r\n                    ])\r\n                } else {\r\n                    setUser(initialOption)\r\n                }\r\n            }).catch((err) => { return })\r\n\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Call ({campaignName})</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\"><Link to=\"/campaign-calls\">Campaign Call</Link></li>\r\n                <li className=\"breadcrumb-item active\">Call</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end) >= new Date(formFilter.start) ? new Date(formFilter.end) : new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end\"\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"form-group col-md-3\">\r\n                                <Form.Label>Agent Name</Form.Label>\r\n                                <Select\r\n                                    options={user}\r\n                                    onChange={(selected) => handleChangeFormFilter(\"user_id\", selected.value)}\r\n                                    value={!isEmptyValue(user) && user.filter((opt) => {\r\n                                        return opt.value === formFilter.user_id;\r\n                                    })}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Customer Name</Form.Label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"customer_name\", e.target.value)} />\r\n                            </Form.Group>\r\n                        </Row>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    <hr />\r\n                    <div className=\"table-responsive\">\r\n                        <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                            <thead className=\"thead-dark\">\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Customer Name</th>\r\n                                    <th>Call Date</th>\r\n                                    <th>Phone Number</th>\r\n                                    <th>Call Duration</th>\r\n                                    <th>Call Status</th>\r\n                                    <th>Pickup By</th>\r\n                                    <th>Notes</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tfoot>\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Customer Name</th>\r\n                                    <th>Call Date</th>\r\n                                    <th>Phone Number</th>\r\n                                    <th>Call Duration</th>\r\n                                    <th>Call Status</th>\r\n                                    <th>Pickup By</th>\r\n                                    <th>Notes</th>\r\n                                </tr>\r\n                            </tfoot>\r\n                            <tbody>\r\n                                {isLoading ? (\r\n                                    <tr>\r\n                                        <td colSpan=\"9\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                                        </td>\r\n                                    </tr>\r\n                                ) : (\r\n                                        tableData.total_data > 0 ? (\r\n                                            tableData.data.map((item, i) => (\r\n                                                <tr key={item.id} className=\"text-center\">\r\n                                                    <td>{tableData.paging.index[i]}</td>\r\n                                                    <td>{item.customer_name}</td>\r\n                                                    <td>{item.call_date && item.call_date.substring(0, 10)}</td>\r\n                                                    <td>{item.phone_number}</td>\r\n                                                    <td>{item.call_duration}</td>\r\n                                                    <td>{item.outbound_status}</td>\r\n                                                    <td>{item.pickup_by}</td>\r\n                                                    <td>{item.note}</td>\r\n\r\n                                                </tr>\r\n                                            ))\r\n                                        ) : (\r\n                                                <>\r\n                                                    <tr>\r\n                                                        <td colSpan=\"8\" className=\"text-center\"><span className=\"text-danger\">No data found</span></td>\r\n                                                    </tr>\r\n                                                </>\r\n                                            )\r\n                                    )}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                    {isLoading === false && !_.isEmpty(tableData) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async (pageNumber) => {\r\n                                await setIsLoading(true)\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Button, Form, Modal, InputGroup, Spinner, Row, Col, Card, Collapse } from 'react-bootstrap'\r\nimport { useForm } from 'react-hook-form'\r\nimport Select from \"react-select\";\r\nimport { Notification } from '../../components'\r\nimport { campaignController, campaignFieldController } from '../../utils/controllers';\r\nimport { useCampaigns, useCampaignFields, useCustomerFields } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const { Upload, ImportCampaignEmail } = useCampaigns()\r\n    const { Get } = useCustomerFields()\r\n    const { register, handleSubmit } = useForm();\r\n    const { register: register2, handleSubmit: handleSubmit2 } = useForm();\r\n    const [processUpload, setProcessUpload] = useState(false)\r\n    const [process, setProcess] = useState(false)\r\n    const [field, setField] = useState({})\r\n    const [column, setColumn] = useState({})\r\n    const [mapping, setMapping] = useState(false)\r\n    const [uploadId, setUploadId] = useState('')\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const handleModalClose = useCallback(() => {\r\n        modalChange({\r\n            show: false,\r\n            dataId: ''\r\n        })\r\n    }, [modalChange])\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"File has been uploaded.\" /> :\r\n                <Error message=\"Failed to upload file or File Duplicated.\" />\r\n        )\r\n    }\r\n\r\n    // add upload excel\r\n    const onSubmit = async (data) => {\r\n        const formData = new FormData()\r\n        formData.append(\"file\", data.file[0])\r\n        setProcessUpload(true)\r\n        setAlert(null)\r\n        await Upload(dataId, formData).then((res) => {\r\n            if (res.success) {\r\n                setUploadId(res.data.id)\r\n                setMapping(true)\r\n                setColumn(res)\r\n                setProcessUpload(false)\r\n                setAlert(1)\r\n            } else {\r\n                setProcessUpload(false)\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n\r\n    }\r\n\r\n    const onSubmitMapping = async (data) => {\r\n        setProcess(true)\r\n\r\n        await ImportCampaignEmail(dataId, { ...data, file_upload_id: uploadId }).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been added.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n                setProcess(false)\r\n            } else {\r\n                setProcess(false)\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to mapping data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n            handleModalClose()\r\n        }).catch((err) => { return })\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"0\",\r\n                order: \"field_name_display\",\r\n                limit: 100,\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setField(res)\r\n                }\r\n            }).catch((err) => { return })\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Modal.Body>\r\n                {\r\n                    alert && handleAlert(alert)\r\n                }\r\n                <Card className=\"mb-3\">\r\n                    <Card.Header>Import Customer</Card.Header>\r\n                    <Card.Body>\r\n                        <Form className=\"mb-3\" onSubmit={handleSubmit(onSubmit)}>\r\n                            <label className=\"btn btn-default\">\r\n                                <input type=\"file\" {...register(\"file\")} required />\r\n                            </label>\r\n\r\n                            <button\r\n                                className=\"btn btn-info\"\r\n                            >\r\n                                {processUpload ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Upload'}\r\n                            </button>\r\n                        </Form>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Collapse in={mapping}>\r\n                    <Card >\r\n                        <Card.Header>Mapping Column</Card.Header>\r\n                        <Card.Body>\r\n                            <Form onSubmit={handleSubmit2(onSubmitMapping)}>\r\n                                <Form.Group as={Row} className=\"mb-3 ml-1 mr-1\" style={{ overflowY: \"scroll\", height: \"20rem\" }} >\r\n                                    {\r\n                                        field.total_data > 0 && field.data.map((item, index) =>\r\n                                            <>\r\n                                                <Col sm=\"6\" key={index}>\r\n                                                    <InputGroup className=\"mb-3\">\r\n                                                        <InputGroup.Text id=\"basic-addon2\" style={{ width: '11rem' }}>\r\n                                                            {item.field_display_name}\r\n                                                        </InputGroup.Text>\r\n                                                        <select className=\"form-control\"  {...register2(item.field_name)} >\r\n                                                            <option value=\"\">Select Field</option>\r\n                                                            {column.total_data > 0 && column.data.header.map(item => (\r\n                                                                <option key={item.index} value={item.index}>\r\n                                                                    {item.field}\r\n                                                                </option>\r\n                                                            ))}\r\n                                                        </select>\r\n                                                    </InputGroup>\r\n                                                </Col>\r\n                                            </>\r\n                                        )\r\n                                    }\r\n                                </Form.Group >\r\n                                <Form.Group as={Row} className=\"mb-3 mr-4 float-right\" >\r\n                                    <Button type=\"submit\" variant=\"primary\">{process ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Save'}</Button>\r\n                                </Form.Group >\r\n                            </Form>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </Collapse>\r\n            </Modal.Body>\r\n            {/* <Modal.Footer>\r\n            </Modal.Footer> */}\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Form, Modal } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from '../../utils/services';\r\nimport { useEmails } from '../../utils/functions';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport '../../public/assets/styles/editor.css'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormDetail = ({ dataId }) => {\r\n    const { Get } = useEmails()\r\n    const [email, setEmail] = useState({\r\n        email_to: \"\",\r\n        email_cc: \"\",\r\n        subject: \"\",\r\n        content: \"\"\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await Get({ id: dataId }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setEmail({\r\n                        email_to: `Send To: ${res.data.email_to}`,\r\n                        email_cc: isEmptyValue(res.data.email_cc) ? 'CC To:' : `CC To: ${res.data.email_cc}`,\r\n                        subject: `Subject: ${res.data.subject}`,\r\n                        content: res.data.content\r\n                    })\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() }) //do nothing, let it go back to login\r\n        }\r\n        fetchData()\r\n        return () => fnAbort.abort()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Form>\r\n                <Modal.Body>\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Control type=\"text\" defaultValue={email.email_to} />\r\n                    </Form.Group>\r\n                    {/* <Form.Group className=\"mb-3\">\r\n                        <Form.Control type=\"text\" defaultValue={email.email_cc} />\r\n                    </Form.Group> */}\r\n                    <Form.Group className=\"mb-3\">\r\n                        <Form.Control type=\"text\" defaultValue={email.subject} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"mb-3\">\r\n                        <ReactQuill\r\n                            theme=\"snow\"\r\n                            value={email.content}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                </Modal.Body>\r\n                {/* <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\">{isLoading ? <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" /> : 'Update'}</Button>\r\n                </Modal.Footer> */}\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n","import { Button, Form, Modal, Spinner, Table, Row } from 'react-bootstrap'\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport DatePicker from 'react-datepicker'\r\nimport Select from 'react-select'\r\nimport _ from 'lodash'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd';\r\nimport { FormDetail } from './FormDetail';\r\nimport { useEmails, useEmailStatuses, useCustomers } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\nimport { AuthContext } from '../../utils/context';\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const Emails = (props) => {\r\n    const { userLevelId } = useContext(AuthContext)\r\n    const { Get } = useEmails()\r\n    const fnEmailStatuses = useEmailStatuses()\r\n    const { Update } = useCustomers()\r\n    const { Error, Success, Warning } = Notification\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [modalConfirm, setModalConfirm] = useState(initialModal)\r\n    const [tableData, setTableData] = useState({})\r\n    const [emailStatus, setEmailStatus] = useState({})\r\n    const [disableDate, setDisableDate] = useState(false)\r\n    const [alert, setAlert] = useState(null)\r\n    const { campaignId } = useParams();\r\n\r\n    const [formFilter, setFormFilter] = useState({\r\n        customer_name: \"\",\r\n        filename: \"\",\r\n        start_date: formatDate(),\r\n        end_date: formatDate(),\r\n        email_status_id: \"\",\r\n        campaign_id: campaignId\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"created_at\",\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n            dataId: campaignId\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start_date', 'end_date'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        await Get()\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n        setModalConfirm(initialModal)\r\n    }\r\n\r\n    const handleModalConfirm = async (id) => {\r\n        setModalConfirm({\r\n            ...modalConfirm,\r\n            show: !modalConfirm.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalRevoke = async (id) => {\r\n        setAlert(null)\r\n        await Update(id, { is_active: 0 })\r\n            .then(async res => {\r\n                console.log(res)\r\n                if (res.success) {\r\n                    setAlert(1)\r\n                    setIsLoading(true)\r\n                } else {\r\n                    setAlert(2)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                return\r\n            })\r\n        handleModalClose()\r\n        setIsLoading(true)\r\n    }\r\n\r\n    const handleAlert = (value) => {\r\n        return (\r\n            value && value === 1 ?\r\n                <Success message=\"Revoke successed.\" /> :\r\n                <Error message=\"Failed to revoke this customer.\" />\r\n        )\r\n    }\r\n\r\n    const fnAbort = new AbortController()\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then(res => {\r\n                setTableData(res)\r\n                setIsLoading(false)\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n        }\r\n        fetchData()\r\n    }, [isLoading, currentFilter])\r\n\r\n    useEffect(() => {\r\n        const fnAbort = new AbortController()\r\n        const fetchData = async () => {\r\n            await fnEmailStatuses.Get().then(res => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let emailStatusOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n                    setEmailStatus([\r\n                        ...initialOption,\r\n                        ...emailStatusOption\r\n                    ])\r\n                } else {\r\n                    setEmailStatus(initialOption)\r\n                }\r\n            }).catch((err) => { return () => fnAbort.abort() })\r\n\r\n        }\r\n        fetchData()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Email</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Email</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start_date)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start_date\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start_date\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end_date) >= new Date(formFilter.start_date) ? new Date(formFilter.end_date) : new Date(formFilter.start_date)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end_date\"\r\n                                    minDate={new Date(formFilter.start_date)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end_date\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Customer Name</Form.Label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"customer_name\", e.target.value)} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Filename</Form.Label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"filename\", e.target.value)} />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Email Status</Form.Label>\r\n                                <Select\r\n                                    options={emailStatus}\r\n                                    onChange={(selected) => handleChangeFormFilter(\"email_status_id\", selected.value)}\r\n                                    value={!isEmptyValue(emailStatus) && emailStatus.filter((opt) => {\r\n                                        return opt.value === formFilter.email_status_id;\r\n                                    })}\r\n                                />\r\n                            </Form.Group>\r\n                        </Row>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {\r\n                        alert && handleAlert(alert)\r\n                    }\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    {(userLevelId == 2 || userLevelId == 5 || userLevelId == 1) &&\r\n                        <Button variant=\"outline-primary\" onClick={handleModalAdd}>Upload Customer</Button>\r\n                    }\r\n                    <hr />\r\n                    <div className=\"table-responsive\">\r\n                        <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                            <thead className=\"thead-dark\">\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Customer Name</th>\r\n                                    <th>Email</th>\r\n                                    <th>Send Date</th>\r\n                                    <th>Filename</th>\r\n                                    <th>Email Status</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tfoot>\r\n                                <tr className=\"text-center\">\r\n                                    <th>No.</th>\r\n                                    <th>Customer Name</th>\r\n                                    <th>Email</th>\r\n                                    <th>Send Date</th>\r\n                                    <th>Filename</th>\r\n                                    <th>Email Status</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </tfoot>\r\n                            <tbody>\r\n                                {isLoading ? (\r\n                                    <tr>\r\n                                        <td colSpan=\"9\" className=\"text-center\">\r\n                                            <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                            Loading data...\r\n                                        </td>\r\n                                    </tr>\r\n                                ) : (\r\n                                        tableData.total_data > 0 ? (\r\n                                            tableData.data.map((item, i) => (\r\n                                                <tr key={item.id} className=\"text-center\">\r\n                                                    <td>{tableData.paging.index[i]}</td>\r\n                                                    <td>{item.customer_name}</td>\r\n                                                    <td>{item.content && item.content.replace(/<[^>]+>/g, ' ').substring(0, 30)}...</td>\r\n                                                    <td>{item.created_at && item.created_at.substring(0, 10)}</td>\r\n                                                    <td>{item.filename}</td>\r\n                                                    <td>{item.email_status}</td>\r\n                                                    <td>\r\n                                                        <Button variant=\"warning\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => { handleModalDetail(item.id) }}>\r\n                                                            <i className=\"fas fa-search fa-fw\"></i>\r\n                                                        </Button>\r\n\r\n                                                        {item.email_status_id == 2 ?\r\n                                                            (\r\n                                                                <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Revoke\" disabled onClick={(e) => { handleModalConfirm(item.customer_id, item.name) }}>\r\n                                                                    <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                                </Button>\r\n                                                            ) : (\r\n                                                                <Button variant=\"danger\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" title=\"Revoke\" onClick={(e) => { handleModalConfirm(item.customer_id, item.name) }}>\r\n                                                                    <i className=\"fas fa-undo fa-fw\"></i>\r\n                                                                </Button>\r\n                                                            )\r\n                                                        }\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))\r\n                                        ) : (\r\n                                                <>\r\n                                                    <tr>\r\n                                                        <td colSpan=\"7\" className=\"text-center\"><span className=\"text-danger\">No data found</span></td>\r\n                                                    </tr>\r\n                                                </>\r\n                                            )\r\n                                    )}\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n                    {isLoading === false && !_.isEmpty(tableData) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async (pageNumber) => {\r\n                                await setIsLoading(true)\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Import Customer</Modal.Title>\r\n                </Modal.Header>\r\n                <FormAdd\r\n                    dataId={modalAdd.dataId}\r\n\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                    isLoading={isLoading}\r\n                    setIsLoading={setIsLoading}\r\n                />\r\n            </Modal>\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Detail Email</Modal.Title>\r\n                </Modal.Header>\r\n                <FormDetail\r\n                    dataId={modalDetail.dataId}\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalConfirm.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Confirm Revoke</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure want to revoke this customer?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={handleModalClose}>No</Button>\r\n                    <Button variant=\"primary\" onClick={e => { handleModalRevoke(modalConfirm.dataId) }}>\r\n                        Yes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useEmailStatuses = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/email_statuses'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = { ...paramObject, ...params }\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { Row, Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport DatePicker from 'react-datepicker'\r\nimport _ from 'lodash'\r\nimport { FormAdd } from './FormAdd';\r\nimport { useCallbacks } from '../../utils/functions';\r\nimport { Pagination, Notification } from '../../components';\r\nimport { generalService } from '../../utils/services';\r\nimport { AuthContext } from '../../utils/context';\r\n\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const Callback = (props) => {\r\n    const { userId, userLevelId } = useContext(AuthContext)\r\n    const { Get } = useCallbacks()\r\n    const { Error, Success, Warning } = Notification\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [tableData, setTableData] = useState({})\r\n    const [disableDate, setDisableDate] = useState(false)\r\n\r\n    const user_id = userLevelId == 1 ? userId : ''\r\n\r\n    const [formFilter, setFormFilter] = useState({\r\n        customer_name: \"\",\r\n        campaign_name: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        user_id: user_id\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n\r\n    const handleModalAdd = (customer_id, campaign_id, phone_no) => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n            customerId: customer_id,\r\n            campaignId: campaign_id,\r\n            phoneNo: phone_no,\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (['start', 'end'].includes(key)) {\r\n            val = formatDate(val)\r\n        }\r\n        if (key === 'disable_date') {\r\n            val ? setDisableDate(true) : setDisableDate(false)\r\n        }\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = async (e) => {\r\n        e.preventDefault()\r\n        await setIsLoading(true)\r\n        setCurrentFilter({\r\n            page: 1,\r\n            ...formFilter\r\n        })\r\n    }\r\n\r\n    const handleModalClose = async () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then(res => {\r\n                setTableData(res)\r\n                setIsLoading(false)\r\n            }).catch((err) => { return })\r\n        }\r\n        fetchData()\r\n    }, [isLoading, currentFilter])\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Scheduled Calls</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item active\">Scheduled Calls</li>\r\n            </ol>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <span className=\"btn btn-sm btn-outline-dark\">\r\n                                    <Form.Check type=\"checkbox\" name=\"disable_date\" className=\"text-center\" onClick={e => handleChangeFormFilter('disable_date', e.target.checked)} />\r\n                                </span>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>Start Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"start\"\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"start\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>End Date</Form.Label>\r\n                                <DatePicker\r\n                                    selected={new Date(formFilter.end) >= new Date(formFilter.start) ? new Date(formFilter.end) : new Date(formFilter.start)}\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"form-control\"\r\n                                    placeholderText=\"YYYY-MM-DD\"\r\n                                    name=\"end\"\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    // minDate={new Date()}\r\n                                    showMonthDropdown\r\n                                    showYearDropdown\r\n                                    onChange={date => handleChangeFormFilter(\"end\", date)}\r\n                                    disabled={disableDate}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Campaign Name</Form.Label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"campaign_name\", e.target.value)} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>Customer Name</Form.Label>\r\n                                <input type=\"text\" id=\"inputState\" className=\"form-control\" onChange={e => handleChangeFormFilter(\"customer_name\", e.target.value)} />\r\n                            </Form.Group>\r\n\r\n                        </Row>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    {/* <ExportToExcel rawData={exportData} fileName=\"user-data\" />&nbsp; */}\r\n                    {/* <Button variant=\"outline-primary\" onClick={handleShow}>Add Data</Button> */}\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"\">Scheduled At</th>\r\n                                <th width=\"\">Campaign</th>\r\n                                <th width=\"\">Customer Name</th>\r\n                                <th width=\"\">Agent</th>\r\n                                <th width=\"\">Phone Number</th>\r\n                                <th width=\"\">Reason</th>\r\n                                <th width=\"\">Called</th>\r\n                                <th width=\"\">Outbound Status</th>\r\n                                <th width=\"\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th width=\"\">Scheduled At</th>\r\n                                <th width=\"\">Campaign</th>\r\n                                <th width=\"\">Customer Name</th>\r\n                                <th width=\"\">Agent</th>\r\n                                <th width=\"\">Phone Number</th>\r\n                                <th width=\"\">Reason</th>\r\n                                <th width=\"\">Called</th>\r\n                                <th width=\"\">Outbound Status</th>\r\n                                <th width=\"\" className=\"text-center\">Action</th>\r\n\r\n                            </tr>\r\n                        </tfoot>\r\n                        <tbody>\r\n                            {isLoading ? (\r\n                                <tr>\r\n                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                        </td>\r\n                                </tr>\r\n                            ) : (\r\n                                    tableData.total_data > 0 ? (\r\n                                        tableData.data.map((item, i) => (\r\n                                            <tr key={item.id} className=\"text-center\">\r\n                                                <td>{item.scheduled_at}</td>\r\n                                                <td>{item.campaign_name}</td>\r\n                                                <td>{item.customer_name}</td>\r\n                                                <td>{item.agent}</td>\r\n                                                <td>{item.phone_number}</td>\r\n                                                <td>{item.reason}</td>\r\n                                                <td>{item.called}</td>\r\n                                                <td>{item.outbound_status}</td>\r\n                                                <td>\r\n                                                    {(userLevelId == 1) ? (\r\n                                                        <Button  variant=\"primary\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => { handleModalAdd(item.customer_id, item.campaign_id, item.phone_number) }}>\r\n                                                            <i className=\"fas fa-plus fa-fw\"></i>\r\n                                                        </Button>\r\n                                                    ) : (\r\n                                                            <Button disabled variant=\"primary\" size=\"sm\" className=\"m-1\" data-toggle=\"modal\" onClick={(e) => { handleModalAdd(item.customer_id, item.campaign_id, item.phone_number) }}>\r\n                                                                <i className=\"fas fa-plus fa-fw\"></i>\r\n                                                            </Button>\r\n                                                        )}\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    ) : (\r\n                                            <>\r\n                                                <tr>\r\n                                                    <td colSpan=\"8\" className=\"text-center\"><span className=\"text-danger\">No data found</span></td>\r\n                                                </tr>\r\n                                            </>\r\n                                        )\r\n                                )}\r\n                        </tbody>\r\n                    </Table>\r\n                    {isLoading === false && !_.isEmpty(tableData) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={async (pageNumber) => {\r\n                                await setIsLoading(true)\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: pageNumber\r\n                                })\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Schedule Call</Modal.Title>\r\n                </Modal.Header>\r\n                <FormAdd\r\n                    customerId={modalAdd.customerId}\r\n                    campaignId={modalAdd.campaignId}\r\n                    phoneNo={modalAdd.phoneNo}\r\n                    handleModalClose={handleModalClose}\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(value) => {\r\n                        setNotif(value)\r\n                    }}\r\n                    dataChange={async () => {\r\n                        await setIsLoading(true)\r\n                    }}\r\n                    isLoading={isLoading}\r\n                    setIsLoading={setIsLoading}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]\r\n","import { Button } from 'react-bootstrap'\r\nimport { generalService } from './../../utils/services'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const ButtonListen = ({\r\n    activityId,\r\n    ext,\r\n    user,\r\n    loggedExt,\r\n    loggedUser,\r\n    loggedLevelId,\r\n    whisperData,\r\n    listenData,\r\n    loading,\r\n    onStart,\r\n    onStop\r\n}) => {\r\n    if (\r\n        [9].includes(activityId) &&\r\n        !isEmptyValue(ext) &&\r\n        !isEmptyValue(loggedExt) &&\r\n        user !== loggedUser &&\r\n        [2,5].includes(parseInt(loggedLevelId))\r\n    ) {\r\n        if (listenData) {\r\n            if (listenData['destination'] === ext) {\r\n                return (\r\n                    <Button variant=\"info\" size=\"sm\" className=\"m-1\" onClick={(e) => onStop({\r\n                        channel: listenData['channel'] || null,\r\n                        username: listenData['username']\r\n                    })} disabled={loading ? true : false}>\r\n                        <i className=\"fas fa-stop fa-fw\" /> Listen\r\n                    </Button>\r\n                )\r\n            }\r\n    \r\n            return (\r\n                <Button variant=\"info\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n                    <i className=\"fas fa-play fa-fw\" /> Listen\r\n                </Button>\r\n            )\r\n        }\r\n\r\n        if (whisperData) {\r\n            return (\r\n                <Button variant=\"info\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n                    <i className=\"fas fa-play fa-fw\" /> Listen\r\n                </Button>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Button variant=\"info\" size=\"sm\" className=\"m-1\" onClick={(e) => onStart({\r\n                extension: ext,\r\n                username: user\r\n            })} disabled={loading ? true : false}>\r\n                <i className={`fas ${loading ? \"fa-circle-notch fa-spin\" : \"fa-play\"} fa-fw`} /> Listen\r\n            </Button>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"info\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n            <i className=\"fas fa-play fa-fw\" /> Listen\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport const ButtonWhisper = ({\r\n    activityId,\r\n    ext,\r\n    user,\r\n    loggedExt,\r\n    loggedUser,\r\n    loggedLevelId,\r\n    whisperData,\r\n    listenData,\r\n    loading,\r\n    onStart,\r\n    onStop\r\n}) => {\r\n    if (\r\n        [9].includes(activityId) &&\r\n        !isEmptyValue(ext) &&\r\n        !isEmptyValue(loggedExt) &&\r\n        user !== loggedUser &&\r\n        [2,5].includes(parseInt(loggedLevelId))\r\n    ) {\r\n        if (whisperData) {\r\n            if (whisperData['destination'] === ext) {\r\n                return (\r\n                    <Button variant=\"success\" size=\"sm\" className=\"m-1\" onClick={(e) => onStop({\r\n                        channel: whisperData['channel'] || null,\r\n                        username: whisperData['username']\r\n                    })} disabled={loading ? true : false}>\r\n                        <i className=\"fas fa-stop fa-fw\" /> Whisper\r\n                    </Button>\r\n                )\r\n            }\r\n    \r\n            return (\r\n                <Button variant=\"success\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n                    <i className=\"fas fa-play fa-fw\" /> Whisper\r\n                </Button>\r\n            )\r\n        }\r\n\r\n        if (listenData) {\r\n            return (\r\n                <Button variant=\"success\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n                    <i className=\"fas fa-play fa-fw\" /> Whisper\r\n                </Button>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Button variant=\"success\" size=\"sm\" className=\"m-1\" onClick={(e) => onStart({\r\n                extension: ext,\r\n                username: user\r\n            })} disabled={loading ? true : false}>\r\n                <i className={`fas ${loading ? \"fa-circle-notch fa-spin\" : \"fa-play\"} fa-fw`} /> Whisper\r\n            </Button>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"success\" size=\"sm\" className=\"m-1\" disabled={true}>\r\n            <i className=\"fas fa-play fa-fw\" /> Whisper\r\n        </Button>\r\n    )\r\n}","import { useState, useEffect } from 'react'\r\nimport { Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService, cookieService } from './../../utils/services'\r\nimport { Notification } from './../../components'\r\nimport { useCalls } from './../../utils/functions'\r\nimport { ButtonListen, ButtonWhisper } from './ButtonAction'\r\n\r\nconst { isEmptyValue, sleep } = generalService\r\n\r\nexport const UserActivity = ({ socket, listenData, whisperData, setListenData, setWhisperData}) => {\r\n    const fnCalls = useCalls()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState([])\r\n\r\n    const [loadingListen, setLoadingListen] = useState(false)\r\n    const [loadingWhisper, setLoadingWhisper] = useState(false)\r\n\r\n    useEffect(() => {\r\n        socket.emit('escorts')\r\n\r\n        socket.on('total-escorts', async (data) => {\r\n            let totalEscorts = JSON.parse(data)\r\n\r\n            setLoading(true)\r\n            await sleep(1000)\r\n            fetchData(totalEscorts)\r\n        })\r\n\r\n        return () => {\r\n            setTableData([])\r\n            setLoading(false)\r\n        }\r\n    }, [socket])\r\n\r\n    const fetchData = (data) => {\r\n        setTableData(data.sort((a,b)=> (a.agent > b.agent ? 1 : -1)))\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleListen = async ({ extension, username }) => {\r\n        let success = false\r\n        setLoadingListen(true)\r\n\r\n        await fnCalls.Listen(extension).then((res) => {\r\n            if (res.success) {\r\n                success = res.success\r\n                setListenData({\r\n                    destination: extension,\r\n                    username: username\r\n                })\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        if (success) {\r\n            setNotif({\r\n                title: 'Success',\r\n                message: `You are listening ${username || ''}`,\r\n                show: true,\r\n                type: 'success'\r\n            })\r\n        } else {\r\n            setNotif({\r\n                title: 'Error',\r\n                message: `Failed to listening ${username || ''}`,\r\n                show: true,\r\n                type: 'error'\r\n            })\r\n        }\r\n\r\n        setLoadingListen(false)\r\n    }\r\n\r\n    const handleUnlisten = async ({ channel, username }) => {\r\n        let success = false\r\n\r\n        await fnCalls.Unlisten(channel).then((res) => {\r\n            if (res.success) {\r\n                success = res.success\r\n                setListenData(false)\r\n                // window.localStorage.removeItem('listenData')\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        if (success) {\r\n            setNotif({\r\n                title: 'Success',\r\n                message: `You are stop listening ${username || ''}`,\r\n                show: true,\r\n                type: 'success'\r\n            })\r\n        } else {\r\n            setNotif({\r\n                title: 'Error',\r\n                message: `Failed to stop listening ${username || ''}`,\r\n                show: true,\r\n                type: 'error'\r\n            })\r\n        }\r\n\r\n        setLoadingListen(false)\r\n    }\r\n\r\n    const handleWshiper = async ({ extension, username }) => {\r\n        let success = false\r\n        setLoadingWhisper(true)\r\n\r\n        await fnCalls.Whisper(extension).then((res) => {\r\n            if (res.success) {\r\n                success = res.success\r\n                setWhisperData({\r\n                    destination: extension,\r\n                    username: username\r\n                })\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        if (success) {\r\n            setNotif({\r\n                title: 'Success',\r\n                message: `You are whispering ${username || ''}`,\r\n                show: true,\r\n                type: 'success'\r\n            })\r\n        } else {\r\n            setNotif({\r\n                title: 'Error',\r\n                message: `Failed to whispering ${username || ''}`,\r\n                show: true,\r\n                type: 'error'\r\n            })\r\n        }\r\n\r\n        setLoadingWhisper(false)\r\n    }\r\n\r\n    const handleUnwhisper = async ({ channel, username }) => {\r\n        let success = false\r\n\r\n        await fnCalls.Unwhisper(channel).then((res) => {\r\n            if (res.success) {\r\n                success = res.success\r\n                setWhisperData(false)\r\n                // window.localStorage.removeItem('whisperData')\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        if (success) {\r\n            setNotif({\r\n                title: 'Success',\r\n                message: `You are stop whispering ${username || ''}`,\r\n                show: true,\r\n                type: 'success'\r\n            })\r\n        } else {\r\n            setNotif({\r\n                title: 'Error',\r\n                message: `Failed to stop whispering ${username || ''}`,\r\n                show: true,\r\n                type: 'error'\r\n            })\r\n        }\r\n\r\n        setLoadingWhisper(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">User Activity</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item active\">User Activity</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Activity</th>\r\n                                <th className=\"text-nowrap\">Duration</th>\r\n                                <th className=\"text-nowrap\">First Login</th>\r\n                                <th className=\"text-nowrap\">Last Logout</th>\r\n                                <th className=\"text-nowrap text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"7\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData) &&\r\n                                <tr>\r\n                                    <td colSpan=\"7\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData) &&\r\n                                tableData.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ i + 1 }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.activity }</td>\r\n                                        <td>{ row.duration }</td>\r\n                                        <td>{ row.first_login }</td>\r\n                                        <td>{ row.last_logout }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <ButtonListen\r\n                                                activityId={row.user_activity_id}\r\n                                                ext={row.extension}\r\n                                                user={row.agent}\r\n                                                loggedExt={cookieService.Get('ext')}\r\n                                                loggedUser={cookieService.Get('username')}\r\n                                                loggedLevelId={cookieService.Get('user_level_id')}\r\n                                                whisperData={whisperData}\r\n                                                listenData={listenData}\r\n                                                loading={loadingListen}\r\n                                                onStart={(params) => {\r\n                                                    handleListen(params)\r\n                                                    setLoadingListen(true)\r\n                                                }}\r\n                                                onStop={(params) => {\r\n                                                    handleUnlisten(params)\r\n                                                    setLoadingListen(true)\r\n                                                }}\r\n                                            />\r\n                                            <ButtonWhisper\r\n                                                activityId={row.user_activity_id}\r\n                                                ext={row.extension}\r\n                                                user={row.agent}\r\n                                                loggedExt={cookieService.Get('ext')}\r\n                                                loggedUser={cookieService.Get('username')}\r\n                                                loggedLevelId={cookieService.Get('user_level_id')}\r\n                                                whisperData={whisperData}\r\n                                                listenData={listenData}\r\n                                                loading={loadingWhisper}\r\n                                                onStart={(params) => {\r\n                                                    handleWshiper(params)\r\n                                                    setLoadingWhisper(true)\r\n                                                }}\r\n                                                onStop={(params) => {\r\n                                                    handleUnwhisper(params)\r\n                                                    setLoadingWhisper(true)\r\n                                                }}\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Agent</th>\r\n                                <th>Activity</th>\r\n                                <th>Duration</th>\r\n                                <th>First Login</th>\r\n                                <th>Last Logout</th>\r\n                                <th className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData) &&\r\n                        <div className=\"py-2 border-top\">\r\n                            Showing 1 to {tableData.length} of {tableData.length} entries\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useBreakHistories, useBreakReasons, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportBreak = (props) => {\r\n    const fnBreakHistories = useBreakHistories()\r\n    const fnBreakReasons = useBreakReasons()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        break_reason_id: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionReason, setOptionReason] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnBreakHistories.GetReportBreak(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnBreakReasons.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionReason = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionReason([\r\n                        ...optionReason,\r\n                        ...mapOptionReason\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionAgent([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n            setOptionReason([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n        }\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportBreak({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Break</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Break</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                        <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"BreakReason\">\r\n                                <Form.Label>Break Reason</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionReason}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"break_reason_id\", value)}\r\n                                    value={formFilter.break_reason_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Record ID</th>\r\n                                <th className=\"text-nowrap\">Break Date</th>\r\n                                <th className=\"text-nowrap\">Break Start</th>\r\n                                <th className=\"text-nowrap\">Username</th>\r\n                                <th className=\"text-nowrap\">Break Reason</th>\r\n                                <th className=\"text-nowrap\">Resume Date</th>\r\n                                <th className=\"text-nowrap\">Resume Time</th>\r\n                                <th className=\"text-nowrap\">Duration</th>\r\n                                <th className=\"text-nowrap\">Total Break</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"37\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"37\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.id }</td>\r\n                                        <td>{ row.break_date }</td>\r\n                                        <td>{ row.break_time }</td>\r\n                                        <td>{ row.username }</td>\r\n                                        <td>{ row.break_reason }</td>\r\n                                        <td>{ row.resume_date }</td>\r\n                                        <td>{ row.resume_time }</td>\r\n                                        <td>{ row.duration }</td>\r\n                                        <td>{ row.total_break }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Record ID</th>\r\n                                <th>Break Date</th>\r\n                                <th>Break Start</th>\r\n                                <th>Username</th>\r\n                                <th>Break Reason</th>\r\n                                <th>Resume Date</th>\r\n                                <th>Resume Time</th>\r\n                                <th>Duration</th>\r\n                                <th>Total Break</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const useBreakHistories = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/break_histories'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const GetReportBreak = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            paramObject = { ...paramObject, ...params }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if ('disable_date' in paramObject) {\r\n                if (paramObject['disable_date'] === true) {\r\n                    ['start', 'end'].forEach(item => delete paramObject[item]);\r\n                }\r\n\r\n                delete paramObject['disable_date']\r\n            }\r\n\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}/report-break?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        GetReportBreak,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, sleep } = generalService\r\n\r\nexport const ReportBusinessAchievement = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportBusinessAchievement(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionAgent([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionCampaign([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportBusinessAchievement({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Business Achievement</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Business Achievement</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Number Customer Approved</th>\r\n                                <th className=\"text-nowrap\">Nominal</th>\r\n                                <th className=\"text-nowrap\">Average Customer Nominal Approved</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"6\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"6\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.username }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.number_customer_approved }</td>\r\n                                        <td>{ row.nominal }</td>\r\n                                        <td>{ row.average_customer_nominal_approved }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Agent</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Number Customer Approved</th>\r\n                                <th>Nominal</th>\r\n                                <th>Average Customer Nominal Approved</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportCallActivity = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        date: formatDate(),\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"login_time\",\r\n        sort: \"desc\",\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportCallActivity(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionAgent([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportCallActivity({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Call Activity</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Call Activity</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"LoginDate\">\r\n                                <Form.Label>Login Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.date)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"date\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">No.</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Name</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">ID</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Login Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Logout Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Available Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Talk Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\", textAlign: \"center\", borderBottom: \"1px solid #fff\"}} colSpan=\"4\">Aux Time</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Rest Room</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Pray Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Coaching Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Break Time</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"11\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"11\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.username }</td>\r\n                                        <td>{ row.user_id }</td>\r\n                                        <td className=\"text-nowrap\">{ row.login_time }</td>\r\n                                        <td className=\"text-nowrap\">{ row.logout_time }</td>\r\n                                        <td>{ row.available_duration }</td>\r\n                                        <td>{ row.talk_time }</td>\r\n                                        <td>{ row.rest_room }</td>\r\n                                        <td>{ row.pray_time }</td>\r\n                                        <td>{ row.coaching_time }</td>\r\n                                        <td>{ row.break_time }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">No.</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Name</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">ID</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Login Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Logout Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Available Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}} rowSpan=\"2\">Talk Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Rest Room</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Pray Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Coaching Time</th>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\"}}>Break Time</th>\r\n                            </tr>\r\n                            <tr>\r\n                                <th style={{whiteSpace: \"nowrap\", paddingTop: \"0.3em\", paddingBottom: \"0.3em\", textAlign: \"center\", borderTop: \"1px solid #000\"}} colSpan=\"4\">Aux Time</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useExports, useUsers, useVoices } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportCallCustomer = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const fnVoices = useVoices()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\",\r\n        customer_name: \"\",\r\n        phone_number: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: 'call_date',\r\n        sort: 'desc',\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportCallCustomer(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCampaign = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaign\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionAgent([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n            setOptionCampaign([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n        }\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportCallCustomer({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Call Customer</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Call Customer</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CustomerName\">\r\n                                <Form.Label>Customer Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    onChange={e => handleChangeFormFilter(\"customer_name\", e.target.value)}\r\n                                    value={formFilter.customer_name}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"PhoneNumber\">\r\n                                <Form.Label>Phone Number</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    onChange={e => handleChangeFormFilter(\"phone_number\", e.target.value)}\r\n                                    value={formFilter.phone_number}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Call Date</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Agent Fullname</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Customer Name</th>\r\n                                <th className=\"text-nowrap\">Phone Number Type</th>\r\n                                <th className=\"text-nowrap\">Phone Number</th>\r\n                                <th className=\"text-nowrap\">Call Duration</th>\r\n                                <th className=\"text-nowrap\">Notes</th>\r\n                                <th className=\"text-nowrap\">Outbound Status</th>\r\n                                <th className=\"text-nowrap\">Outbound Category</th>\r\n                                <th className=\"text-nowrap\">Outbound Category Detail</th>\r\n                                <th className=\"text-nowrap\">File Name</th>\r\n                                <th className=\"text-nowrap\">Host Address</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"15\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"15\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td className=\"text-nowrap\">{ row.call_date }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.agent_fullname }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.customer_name }</td>\r\n                                        <td>{ row.phone_number_type }</td>\r\n                                        <td>{ row.phone_number }</td>\r\n                                        <td>{ row.call_duration }</td>\r\n                                        <td style={{minWidth: \"10em\"}}>{ row.notes }</td>\r\n                                        <td>{ row.outbound_status }</td>\r\n                                        <td>{ row.outbound_category }</td>\r\n                                        <td>{ row.outbound_categoriy_detail }</td>\r\n                                        <td>{ row.filename }</td>\r\n                                        <td>{ row.host_address }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Call Date</th>\r\n                                <th>Agent</th>\r\n                                <th>Agent Fullname</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Customer Name</th>\r\n                                <th>Phone Number Type</th>\r\n                                <th>Phone Number</th>\r\n                                <th>Call Duration</th>\r\n                                <th>Notes</th>\r\n                                <th>Outbound Status</th>\r\n                                <th>Outbound Category</th>\r\n                                <th>Outbound Category Detail</th>\r\n                                <th>File Name</th>\r\n                                <th>Host Address</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner, Modal } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useExports, useUsers, useVoices } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect, CustomPlayer } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportCallDetail = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const fnVoices = useVoices()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\",\r\n        customer_name: \"\",\r\n        phone_number: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: 'call_date',\r\n        sort: 'desc',\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [showModal, setShowModal] = useState(false)\r\n    const [voiceCall, setVoiceCall] = useState({\r\n        url: null,\r\n        loading: false\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportCallDetail(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCampaign = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaign\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionAgent([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n            setOptionCampaign([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n        }\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportCallDetail({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleVoiceCall = async (data = null) => {\r\n        setShowModal(true)\r\n        setVoiceCall({\r\n            ...voiceCall,\r\n            loading: true\r\n        })\r\n\r\n        let audioUrl = false\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            if (data.hasOwnProperty('filename') && data.hasOwnProperty('filedate')) {\r\n                let { filename, filedate } = data\r\n\r\n                await fnVoices.Get({ filename, filedate }).then((res) => {\r\n                    if (!isEmptyValue(res.data)) {\r\n                        audioUrl = res.data.url\r\n                    }\r\n                }).catch((err) => { return }) //do nothing, let it go back to login\r\n            }\r\n        }\r\n\r\n        if (audioUrl) {\r\n            setVoiceCall({\r\n                ...voiceCall,\r\n                url: audioUrl,\r\n                loading: false\r\n            })\r\n        } else {\r\n            handleModalClose()\r\n            setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to load audio call.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setShowModal(false)\r\n        setVoiceCall({\r\n            ...voiceCall,\r\n            url: null,\r\n            loading: false\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Call Detail</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Call Detail</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CustomerName\">\r\n                                <Form.Label>Customer Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    onChange={e => handleChangeFormFilter(\"customer_name\", e.target.value)}\r\n                                    value={formFilter.customer_name}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"PhoneNumber\">\r\n                                <Form.Label>Phone Number</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    onChange={e => handleChangeFormFilter(\"phone_number\", e.target.value)}\r\n                                    value={formFilter.phone_number}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Call Date</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Agent Fullname</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Customer Name</th>\r\n                                <th className=\"text-nowrap\">Phone Number Type</th>\r\n                                <th className=\"text-nowrap\">Phone Number</th>\r\n                                <th className=\"text-nowrap\">Call Duration</th>\r\n                                <th className=\"text-nowrap\">Notes</th>\r\n                                <th className=\"text-nowrap\">Outbound Status</th>\r\n                                <th className=\"text-nowrap\">Outbound Category</th>\r\n                                <th className=\"text-nowrap\">Outbound Category Detail</th>\r\n                                <th className=\"text-nowrap\">File Name</th>\r\n                                <th className=\"text-nowrap\">Host Address</th>\r\n                                <th className=\"text-nowrap\">Voice Call</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"16\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"16\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td className=\"text-nowrap\">{ row.call_date }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.agent_fullname }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.customer_name }</td>\r\n                                        <td>{ row.phone_number_type }</td>\r\n                                        <td>{ row.phone_number }</td>\r\n                                        <td>{ row.call_duration }</td>\r\n                                        <td style={{minWidth: \"10em\"}}>{ row.notes }</td>\r\n                                        <td>{ row.outbound_status }</td>\r\n                                        <td>{ row.outbound_category }</td>\r\n                                        <td>{ row.outbound_categoriy_detail }</td>\r\n                                        <td>{ row.filename }</td>\r\n                                        <td>{ row.host_address }</td>\r\n                                        <td className=\"text-nowrap\">\r\n                                            <Button variant=\"info\" size=\"sm\" className=\"m-1\" onClick={(e) => handleVoiceCall({\r\n                                                filename: row.filename,\r\n                                                filedate: row.filedate\r\n                                            })} disabled={!isEmptyValue(row.filename) && !isEmptyValue(row.filedate) ? false : true}>\r\n                                                <i className=\"fas fa-play fa-fw\" /> Audio\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Call Date</th>\r\n                                <th>Agent</th>\r\n                                <th>Agent Fullname</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Customer Name</th>\r\n                                <th>Phone Number Type</th>\r\n                                <th>Phone Number</th>\r\n                                <th>Call Duration</th>\r\n                                <th>Notes</th>\r\n                                <th>Outbound Status</th>\r\n                                <th>Outbound Category</th>\r\n                                <th>Outbound Category Detail</th>\r\n                                <th>File Name</th>\r\n                                <th>Host Address</th>\r\n                                <th>Voice Call</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <Modal show={showModal} onHide={handleModalClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Play Voice Call</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className=\"text-center\">\r\n                    <CustomPlayer.Audio url={voiceCall.url} loading={voiceCall.loading} autoplay={true} size=\"lg\" />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"light\" onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useCheckingReasons, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportChecker = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCheckingReasons = useCheckingReasons()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\",\r\n        checker_user_id: \"\",\r\n        checking_reason_id: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: 'call_date',\r\n        sort: 'desc',\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState(initialOption)\r\n    const [optionCampaign, setOptionCampaign] = useState(initialOption)\r\n    const [optionCheckingBy, setOptionCheckingBy] = useState(initialOption)\r\n    const [optionCheckingReason, setOptionCheckingReason] = useState(initialOption)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportChecker(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionUsers = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionUsers\r\n                    ])\r\n\r\n                    setOptionCheckingBy([\r\n                        ...optionCheckingBy,\r\n                        ...mapOptionUsers\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCampaigns = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaigns\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnCheckingReasons.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCheckingReasons = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCheckingReason([\r\n                        ...optionCheckingReason,\r\n                        ...mapOptionCheckingReasons\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionAgent(initialOption)\r\n            setOptionCampaign(initialOption)\r\n            setOptionCheckingBy(initialOption)\r\n            setOptionCheckingReason(initialOption)\r\n        }\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportChecker({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Checker</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Checker</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CheckingBy\">\r\n                                <Form.Label>Checking By</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCheckingBy}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"checker_user_id\", value)}\r\n                                    value={formFilter.checker_user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CheckingReason\">\r\n                                <Form.Label>Checking Reason</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCheckingReason}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"checking_reason_id\", value)}\r\n                                    value={formFilter.checking_reason_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Call Date</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Agent Fullname</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Customer Name</th>\r\n                                <th className=\"text-nowrap\">Phone Number Type</th>\r\n                                <th className=\"text-nowrap\">Phone Number</th>\r\n                                <th className=\"text-nowrap\">Call Duration</th>\r\n                                <th className=\"text-nowrap\">Notes</th>\r\n                                <th className=\"text-nowrap\">Outbound Status</th>\r\n                                <th className=\"text-nowrap\">Outbound Category</th>\r\n                                <th className=\"text-nowrap\">Outbound Category Detail</th>\r\n                                <th className=\"text-nowrap\">Checking By</th>\r\n                                <th className=\"text-nowrap\">Checking Reason</th>\r\n                                <th className=\"text-nowrap\">Checking Note</th>\r\n                                <th className=\"text-nowrap\">File Name</th>\r\n                                <th className=\"text-nowrap\">Host Address</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"18\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"18\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td className=\"text-nowrap\">{ row.call_date }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.agent_fullname }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.customer_name }</td>\r\n                                        <td>{ row.phone_number_type }</td>\r\n                                        <td>{ row.phone_number }</td>\r\n                                        <td>{ row.call_duration }</td>\r\n                                        <td style={{minWidth: \"10em\"}}>{ row.notes }</td>\r\n                                        <td>{ row.outbound_status }</td>\r\n                                        <td>{ row.outbound_category }</td>\r\n                                        <td>{ row.outbound_categoriy_detail }</td>\r\n                                        <td>{ row.checking_by }</td>\r\n                                        <td>{ row.checking_reason }</td>\r\n                                        <td>{ row.checking_note }</td>\r\n                                        <td>{ row.filename }</td>\r\n                                        <td>{ row.host_address }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Call Date</th>\r\n                                <th>Agent</th>\r\n                                <th>Agent Fullname</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Customer Name</th>\r\n                                <th>Phone Number Type</th>\r\n                                <th>Phone Number</th>\r\n                                <th>Call Duration</th>\r\n                                <th>Notes</th>\r\n                                <th>Outbound Status</th>\r\n                                <th>Outbound Category</th>\r\n                                <th>Outbound Category Detail</th>\r\n                                <th>Checking By</th>\r\n                                <th>Checking Reason</th>\r\n                                <th>Checking Note</th>\r\n                                <th>File Name</th>\r\n                                <th>Host Address</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportCostViewer = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        date: formatDate(),\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportCostViewer(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionAgent([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportCostViewer({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Cost Viewer</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Cost Viewer</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CallDate\">\r\n                                <Form.Label>Call Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.date)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"date\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Number of Call</th>\r\n                                <th className=\"text-nowrap\">Duration</th>\r\n                                <th className=\"text-nowrap\">Predictive Call Cost</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"5\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"5\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td>{ row.number_of_call }</td>\r\n                                        <td>{ row.durasi }</td>\r\n                                        <td>{ row.predictive_call_cost }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Agent</th>\r\n                                <th>Number of Call</th>\r\n                                <th>Duration</th>\r\n                                <th>Predictive Call Cost</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner, Modal } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCampaigns, useEmails, useExports } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\nimport { Markup } from 'interweave'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportEmail = (props) => {\r\n    const fnCampaigns = useCampaigns()\r\n    const fnEmails = useEmails()\r\n    const fnExports = useExports()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        campaign_id: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"mail_date\",\r\n        sort: \"desc\",\r\n        ...formFilter\r\n    })\r\n    const [optionCampaign, setOptionCampaign] = useState(initialOption)\r\n    const [modalViewContent, setModalViewContent] = useState({\r\n        show: false,\r\n        dataContent: null\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnEmails.GetReportEmail(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCampaigns = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaigns\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionCampaign(initialOption)\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportEmail({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handlemodalViewContent = (content = null) => {\r\n        setModalViewContent({\r\n            ...modalViewContent,\r\n            show: !modalViewContent.show,\r\n            dataContent: content || null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Email</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Email</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Sent Date</th>\r\n                                <th className=\"text-nowrap\">Email Status</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Recipient</th>\r\n                                <th className=\"text-nowrap\">Subject</th>\r\n                                <th className=\"text-nowrap\">Content</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"6\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"6\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.sent_date }</td>\r\n                                        <td>{ row.email_status }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.email_to }</td>\r\n                                        <td>{ row.subject }</td>\r\n                                        <td>\r\n                                            <Button variant=\"info\" size=\"sm\" className=\"m-1\" onClick={(e) => { handlemodalViewContent(row.content) }}>\r\n                                                View\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Sent Date</th>\r\n                                <th>Email Status</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Recipient</th>\r\n                                <th>Subject</th>\r\n                                <th>Content</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <Modal show={modalViewContent.show} onHide={handlemodalViewContent} size=\"lg\" scrollable>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Email Content</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body style={{background: \"rgba(243, 243, 250, 0.8)\", wordWrap: \"break-word\"}}>\r\n                    <Markup content={modalViewContent.dataContent} className=\"blockquote\" />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"light\" onClick={(e) => handlemodalViewContent()}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useExports, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate, sleep } = generalService\r\n\r\nexport const ReportPerformanceAgent = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnExports = useExports()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetReportPerformanceAgent(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionUsers = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionUsers\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionCampaigns = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaigns\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionAgent([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n            setOptionCampaign([{\r\n                value: \"\",\r\n                label: \"Choose...\"\r\n            }])\r\n        }\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportPerformanceAgent({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Report Performance Agent</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Reports</li>\r\n                <li className=\"breadcrumb-item active\">Performance Agent</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                        <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Campaign\">\r\n                                <Form.Label>Campaign</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    <Button variant=\"outline-secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport(tableData.total_data)\r\n                    }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                <th className=\"text-nowrap\">Campaign Name</th>\r\n                                <th className=\"text-nowrap\">Customer Name</th>\r\n                                <th className=\"text-nowrap\">Phone 1</th>\r\n                                <th className=\"text-nowrap\">Phone 2</th>\r\n                                <th className=\"text-nowrap\">Email</th>\r\n                                <th className=\"text-nowrap\">Card Number</th>\r\n                                <th className=\"text-nowrap\">Card Type</th>\r\n                                <th className=\"text-nowrap\">Limit</th>\r\n                                <th className=\"text-nowrap\">Tenor</th>\r\n                                <th className=\"text-nowrap\">Card Since Year</th>\r\n                                <th className=\"text-nowrap\">Card Since Month</th>\r\n                                <th className=\"text-nowrap\">Card Exp Date</th>\r\n                                <th className=\"text-nowrap\">Card Emboss Name</th>\r\n                                <th className=\"text-nowrap\">Amount</th>\r\n                                <th className=\"text-nowrap\">Account No</th>\r\n                                <th className=\"text-nowrap\">Bank Interest</th>\r\n                                <th className=\"text-nowrap\">Mother Name</th>\r\n                                <th className=\"text-nowrap\">Age</th>\r\n                                <th className=\"text-nowrap\">Gender</th>\r\n                                <th className=\"text-nowrap\">Birth Place</th>\r\n                                <th className=\"text-nowrap\">Birth Date</th>\r\n                                <th className=\"text-nowrap\">Merchant</th>\r\n                                <th className=\"text-nowrap\">Transaction Date</th>\r\n                                <th className=\"text-nowrap\">Home Address</th>\r\n                                <th className=\"text-nowrap\">Home City</th>\r\n                                <th className=\"text-nowrap\">Home Zip</th>\r\n                                <th className=\"text-nowrap\">Office Address</th>\r\n                                <th className=\"text-nowrap\">Office City</th>\r\n                                <th className=\"text-nowrap\">Office Zip</th>\r\n                                <th className=\"text-nowrap\">Income</th>\r\n                                <th className=\"text-nowrap\">Business Type</th>\r\n                                <th className=\"text-nowrap\">Occupation</th>\r\n                                <th className=\"text-nowrap\">KTP</th>\r\n                                <th className=\"text-nowrap\">NPWP</th>\r\n                                <th className=\"text-nowrap\">Bank Name</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"37\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"37\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ i }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.customer_name }</td>\r\n                                        <td>{ row.phone_1 }</td>\r\n                                        <td>{ row.phone_2 }</td>\r\n                                        <td>{ row.email }</td>\r\n                                        <td>{ row.card_number }</td>\r\n                                        <td>{ row.card_type }</td>\r\n                                        <td>{ row.limits }</td>\r\n                                        <td>{ row.tenor }</td>\r\n                                        <td>{ row.card_since_year }</td>\r\n                                        <td>{ row.card_since_month }</td>\r\n                                        <td>{ row.card_exp_date }</td>\r\n                                        <td>{ row.card_emboss_name }</td>\r\n                                        <td>{ row.amount }</td>\r\n                                        <td>{ row.account_no }</td>\r\n                                        <td>{ row.bank_interest }</td>\r\n                                        <td>{ row.mother_name }</td>\r\n                                        <td>{ row.age }</td>\r\n                                        <td>{ row.gender }</td>\r\n                                        <td>{ row.birth_place }</td>\r\n                                        <td>{ row.birth_date }</td>\r\n                                        <td>{ row.merchant }</td>\r\n                                        <td>{ row.transaction_date }</td>\r\n                                        <td>{ row.home_address }</td>\r\n                                        <td>{ row.home_city }</td>\r\n                                        <td>{ row.home_zip }</td>\r\n                                        <td>{ row.office_address }</td>\r\n                                        <td>{ row.office_city }</td>\r\n                                        <td>{ row.office_zip }</td>\r\n                                        <td>{ row.income }</td>\r\n                                        <td>{ row.business_type }</td>\r\n                                        <td>{ row.occupation }</td>\r\n                                        <td>{ row.ktp }</td>\r\n                                        <td>{ row.npwp }</td>\r\n                                        <td>{ row.bank_name }</td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Agent</th>\r\n                                <th>Campaign Name</th>\r\n                                <th>Customer Name</th>\r\n                                <th>Phone 1</th>\r\n                                <th>Phone 2</th>\r\n                                <th>Email</th>\r\n                                <th>Card Number</th>\r\n                                <th>Card Type</th>\r\n                                <th>Limit</th>\r\n                                <th>Tenor</th>\r\n                                <th>Card Since Year</th>\r\n                                <th>Card Since Month</th>\r\n                                <th>Card Exp Date</th>\r\n                                <th>Card Emboss Name</th>\r\n                                <th>Amount</th>\r\n                                <th>Account No</th>\r\n                                <th>Bank Interest</th>\r\n                                <th>Mother Name</th>\r\n                                <th>Age</th>\r\n                                <th>Gender</th>\r\n                                <th>Birth Place</th>\r\n                                <th>Birth Date</th>\r\n                                <th>Merchant</th>\r\n                                <th>Transaction Date</th>\r\n                                <th>Home Address</th>\r\n                                <th>Home City</th>\r\n                                <th>Home Zip</th>\r\n                                <th>Office Address</th>\r\n                                <th>Office City</th>\r\n                                <th>Office Zip</th>\r\n                                <th>Income</th>\r\n                                <th>Business Type</th>\r\n                                <th>Occupation</th>\r\n                                <th>KTP</th>\r\n                                <th>NPWP</th>\r\n                                <th>Bank Name</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Card, Button, Form, Table, Spinner } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService, cookieService } from './../../utils/services'\r\nimport { useExports, useQualityAssuranceDetails, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatMonth, sleep } = generalService\r\n\r\nexport const ReportQualityAssuranceSummary = (props) => {\r\n    const fnExports = useExports()\r\n    const fnQualityAssuranceDetails = useQualityAssuranceDetails()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        date: formatMonth(),\r\n        // end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnQualityAssuranceDetails.GetReportQaSummary(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionAgent([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'date' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                date: val,\r\n                // end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleExport = async (limitData = false) => {\r\n        await fnExports.ReportQualityAssuranceSummary({\r\n            ...currentFilter,\r\n            limit: limitData || 20\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Export data success.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setNotif({\r\n                ...notif,\r\n                title: \"Error\",\r\n                message: \"Failed to export data.\",\r\n                show: true,\r\n                type: \"error\"\r\n            })\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Quality Assurance Report Summaries</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Quality Assurance</li>\r\n                <li className=\"breadcrumb-item active\">Report Summaries</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <Card className=\"mb-4\">\r\n                <Card.Header>\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </Card.Header>\r\n                <Card.Body>\r\n                    <Form onSubmit={handleSubmitFormFilter}>\r\n                        <Form.Row>\r\n                            {/* <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group> */}\r\n                            <Form.Group className=\"col-md-3\" controlId=\"StartDate\">\r\n                                <Form.Label>Month</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM\"\r\n                                    selected={new Date(formFilter.date)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"date\", formatMonth(date) === false ? formatMonth() : formatMonth(date))}\r\n                                    // highlightDates={[new Date(), new Date()]}\r\n                                    showMonthYearPicker\r\n                                />\r\n                            </Form.Group>\r\n                            {/* <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group> */}\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <Card className=\"mb-4\">\r\n                <Card.Body>\r\n                    {['2', '4', '5'].includes(cookieService.Get('user_level_id')) && <>\r\n                        <Button variant=\"outline-secondary\" onClick={() => {\r\n                            setExporting(true)\r\n                            handleExport(tableData.total_data)\r\n                        }} disabled={!exporting && !loading && !isEmptyValue(tableData.data) ? false : true}>\r\n                            {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                        </Button>\r\n                        <hr />\r\n                    </>}\r\n                    <Table striped hover responsive width=\"100%\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Agent</th>\r\n                                {(() => {\r\n                                    let cellHead = []\r\n                                    for (let x = 1; x <= 10; x++) {\r\n                                        cellHead.push(<th className=\"text-nowrap\">Periode {x}</th>)\r\n                                    }\r\n                                    return <>{cellHead}</>\r\n                                })()}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"12\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"12\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={i}>\r\n                                        <td>{tableData.paging.index[i]}</td>\r\n                                        <td>{row.username}</td>\r\n                                        {(() => {\r\n                                            let cellBody = []\r\n                                            for (let y = 1; y <= 10; y++) {\r\n                                                cellBody.push(<td>{row[`period_${y}`]}</td>)\r\n                                            }\r\n                                            return <>{cellBody}</>\r\n                                        })()}\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Agent</th>\r\n                                {(() => {\r\n                                    let cellFoot = []\r\n                                    for (let z = 1; z <= 10; z++) {\r\n                                        cellFoot.push(<th>Periode {z}</th>)\r\n                                    }\r\n                                    return <>{cellFoot}</>\r\n                                })()}\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                        <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </Card.Body>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useQualityAssurances } from '../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnQualityAssurances = useQualityAssurances()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, clearErrors } = useForm({\r\n        defaultValues: initialData,\r\n        resolver: validationSchema\r\n    })\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnQualityAssurances.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New QA</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"QaName\">\r\n                        <Form.Label>Qa Type <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialData = {\r\n    name: \"\",\r\n    is_active: \"1\"\r\n}\r\n\r\nconst validationSchema = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\")\r\n}))","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Table, Collapse } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport classnames from 'classnames'\r\nimport { generalService } from './../../utils/services'\r\nimport { useQualityAssurances, useQualityAssuranceAspects } from '../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormDetail = ({ dataChange, modalChange, notifChange, dataId }) => {\r\n    const fnQualityAssurances = useQualityAssurances()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, reset } = useForm({\r\n        defaultValues: initialData,\r\n        resolver: validationSchema\r\n    })\r\n    const [loading, setLoading] = useState(true)\r\n    const [toggle, setToggle] = useState({\r\n        showFormData: false,\r\n        showTableData: true,\r\n        isDisabled: false,\r\n        qualityAssuranceAspectId: \"\"\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnQualityAssurances.Get({id: dataId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        ...initialData,\r\n                        name: res.data.name || \"\"\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (dataId) return fetchData()\r\n    }, [dataId])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnQualityAssurances.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    const handleToggle = (id) => {\r\n        setToggle({\r\n            ...toggle,\r\n            showFormData: !toggle.showFormData,\r\n            showTableData: !toggle.showTableData,\r\n            isDisabled: !toggle.isDisabled,\r\n            qualityAssuranceAspectId: !isEmptyValue(id) ? id : \"\"\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail QA</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"QaName\">\r\n                        <Form.Label>QA Type <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            disabled={toggle.isDisabled}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Collapse in={toggle.showTableData} unmountOnExit={false} mountOnEnter={true}>\r\n                    <div className=\"collapse-wrapper\">\r\n                        <Modal.Body className=\"py-0\">\r\n                            <div className=\"mb-2 text-right\">\r\n                                <Button variant=\"success\" size=\"sm\" onClick={() => handleToggle()}>New Aspect</Button>\r\n                            </div>\r\n                            <TableDataAspect\r\n                                loading={loading}\r\n                                loadingChange={() => {\r\n                                    setLoading(!loading)\r\n                                }}\r\n                                toggleChange={(params) => {\r\n                                    setToggle({\r\n                                        ...toggle,\r\n                                        ...params\r\n                                    })\r\n                                }}\r\n                                qualityAssuranceId={dataId}\r\n                            />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                                {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                            </Button>\r\n                            <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                        </Modal.Footer>\r\n                    </div>\r\n                </Collapse>\r\n            </Form>\r\n            <FormDataAspect\r\n                showFormData={toggle.showFormData}\r\n                loadingChange={() => {\r\n                    setLoading(!loading)\r\n                }}\r\n                toggleChange={(params) => {\r\n                    setToggle({\r\n                        ...toggle,\r\n                        ...params\r\n                    })\r\n                }}\r\n                qualityAssuranceId={dataId}\r\n                qualityAssuranceAspectId={toggle.qualityAssuranceAspectId}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nconst TableDataAspect = ({ loading, loadingChange, toggleChange, qualityAssuranceId }) => {\r\n    const fnQualityAssuranceAspects = useQualityAssuranceAspects()\r\n    const [tableData, setTableData] = useState({})\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        limit: 5,\r\n        is_active: 1,\r\n        order: \"name\",\r\n        quality_assurance_id: qualityAssuranceId\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnQualityAssuranceAspects.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                loadingChange()\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => loadingChange()\r\n    }, [loading])\r\n\r\n    const handleDeleteData = async (id) => {\r\n        await fnQualityAssuranceAspects.Delete(id).then((res) => {\r\n            if (res.success) {\r\n                loadingChange()\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleToggleChange = useCallback((id) => {\r\n        toggleChange({\r\n            showFormData: true,\r\n            showTableData: false,\r\n            isDisabled: !isEmptyValue(id) ? true : false,\r\n            qualityAssuranceAspectId: !isEmptyValue(id) ? id : \"\"\r\n        })\r\n    }, [toggleChange])\r\n\r\n    return (\r\n        <>\r\n            <Table striped bordered hover responsive width=\"100%\" className=\"mb-2\" size=\"sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th width=\"50%\">Aspect</th>\r\n                        <th width=\"25%\">Bobot</th>\r\n                        <th width=\"25%\" className=\"text-center\">Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {loading &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                Loading data...\r\n                            </td>\r\n                        </tr>\r\n                    }\r\n                    {!loading && isEmptyValue(tableData.data) &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <span className=\"text-danger\">No data found</span>\r\n                            </td>\r\n                        </tr>\r\n                    }\r\n                    {!loading && !isEmptyValue(tableData.data) &&\r\n                        tableData.data.map((row, i) => (\r\n                            <tr key={ row.id }>\r\n                                <td>{ row.aspect_name }</td>\r\n                                <td>{ row.bobot }</td>\r\n                                <td className=\"text-center\">\r\n                                    <Button variant=\"warning\" className=\"m-1\" title=\"Detail Data\" size=\"sm\" onClick={(e) => { handleToggleChange(row.id) }}>\r\n                                        <i className=\"fas fa-edit fa-fw\"></i>\r\n                                    </Button>\r\n                                    <Button variant=\"danger\" className=\"m-1\" title=\"Delete Data\" size=\"sm\" onClick={(e) => { handleDeleteData(row.id) }}>\r\n                                        <i className=\"fas fa-trash-alt fa-fw\"></i>\r\n                                    </Button>\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            {!loading && !isEmptyValue(tableData.paging) &&\r\n                <div className=\"d-flex justify-content-between pb-2\">\r\n                    <Button variant=\"info\" size=\"sm\" onClick={() => {\r\n                        setCurrentFilter({\r\n                            ...currentFilter,\r\n                            page: tableData.paging.previuos\r\n                        })\r\n                        loadingChange()\r\n                    }} className={classnames('mr-auto', {\r\n                        'd-none': tableData.paging.current === tableData.paging.previuos\r\n                    })}>Prev</Button>\r\n                    <Button variant=\"info\" size=\"sm\" onClick={() => {\r\n                        setCurrentFilter({\r\n                            ...currentFilter,\r\n                            page: tableData.paging.next\r\n                        })\r\n                        loadingChange()\r\n                    }} className={classnames('ml-auto', {\r\n                        'd-none': tableData.paging.current === tableData.paging.next\r\n                    })}>Next</Button>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nconst FormDataAspect = ({ showFormData, loadingChange, toggleChange, qualityAssuranceId, qualityAssuranceAspectId }) => {\r\n    const fnQualityAssuranceAspects = useQualityAssuranceAspects()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, reset } = useForm({\r\n        defaultValues: initialDataAspect,\r\n        resolver: validationSchemaAspect\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            if (isEmptyValue(qualityAssuranceAspectId)) {\r\n                return reset({\r\n                    ...initialDataAspect,\r\n                    quality_assurance_id: qualityAssuranceId\r\n                }, {keepErrors: false})\r\n            }\r\n\r\n            await fnQualityAssuranceAspects.Get({id: qualityAssuranceAspectId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        ...initialDataAspect,\r\n                        aspect_name: res.data.aspect_name || \"\",\r\n                        bobot: res.data.bobot || \"\",\r\n                        quality_assurance_id: res.data.quality_assurance_id || \"\"\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n    }, [qualityAssuranceAspectId])\r\n\r\n    const onSubmitFormAspect = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        if (isEmptyValue(qualityAssuranceAspectId)) {\r\n            await fnQualityAssuranceAspects.Create(data).then((res) => {\r\n                if (res.success) {\r\n                    loadingChange()\r\n                }\r\n    \r\n                handleToggleChange()\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        } else {\r\n            await fnQualityAssuranceAspects.Update(qualityAssuranceAspectId, data).then((res) => {\r\n                if (res.success) {\r\n                    loadingChange()\r\n                }\r\n    \r\n                handleToggleChange()\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n    }\r\n\r\n    const handleToggleChange = useCallback(() => {\r\n        toggleChange({\r\n            showFormData: false,\r\n            showTableData: true,\r\n            isDisabled: false,\r\n            qualityAssuranceAspectId: \"\"\r\n        })\r\n    }, [toggleChange])\r\n\r\n    return (\r\n        <>\r\n            <Collapse in={showFormData} unmountOnExit={false} mountOnEnter={true}>\r\n                <Form onSubmit={handleSubmit(onSubmitFormAspect)}>\r\n                    <Modal.Body className=\"py-0\">\r\n                        <Row>\r\n                            <Form.Group controlId=\"AspectName\" className=\"col-md-8\">\r\n                                <Form.Label>Aspect <span className=\"text-danger\">*</span></Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    size=\"sm\"\r\n                                    isInvalid={!!errors.aspect_name}\r\n                                    {...register(\"aspect_name\")}\r\n                                />\r\n                                <Form.Control.Feedback type=\"invalid\">{errors.aspect_name?.message}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                            <Form.Group controlId=\"AspectBobot\" className=\"col-md-4\">\r\n                                <Form.Label>Bobot <span className=\"text-danger\">*</span></Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    size=\"sm\"\r\n                                    isInvalid={!!errors.bobot}\r\n                                    {...register(\"bobot\")}\r\n                                />\r\n                                <Form.Control.Feedback type=\"invalid\">{errors.bobot?.message}</Form.Control.Feedback>\r\n                            </Form.Group>\r\n                        </Row>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                            {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save Aspect\r\n                        </Button>\r\n                        <Button variant=\"light\" onClick={handleToggleChange}>Cancel</Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Collapse>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialData = {\r\n    name: \"\"\r\n}\r\n\r\nconst initialDataAspect = {\r\n    quality_assurance_id: \"\",\r\n    aspect_name: \"\",\r\n    bobot: \"\"\r\n}\r\n\r\nconst validationSchema = yupResolver(yup.object().shape({\r\n    name: yup.string()\r\n        .required(\"This field is required.\")\r\n}))\r\n\r\nconst validationSchemaAspect = yupResolver(yup.object().shape({\r\n    aspect_name: yup.string()\r\n        .required(\"This field is required.\"),\r\n    bobot: yup.string()\r\n        .required(\"This field is required.\")\r\n        .matches(/^[0-9]+$/, \"This field must contain only numbers.\")\r\n        .matches(/^([1-9][0-9]{0,1}|100)$/, \"This field must contain number from 1 to 100.\")\r\n}))","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useQualityAssurances } from './../../utils/functions'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const QualityAssurance = (props) => {\r\n    const { Get, Delete } = useQualityAssurances()\r\n    const { Error, Success, Warning} = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [modalDelete, setModalDelete] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        name: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        is_active: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n    const [submittingDelete, setSubmittingDelete] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n        setModalDelete(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleModalDelete = (id) => {\r\n        setModalDelete({\r\n            ...modalDelete,\r\n            show: !modalDelete.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    const handleSubmitFormDelete = async (e) => {\r\n        e.preventDefault()\r\n        setSubmittingDelete(true)\r\n\r\n        await Delete(modalDelete.dataId).then((res) => {\r\n            if (res.success) {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Success\",\r\n                    message: \"Data has been deleted.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                setLoading(true)\r\n            } else {\r\n                setNotif({\r\n                    ...notif,\r\n                    title: \"Error\",\r\n                    message: \"Failed to delete data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            setSubmittingDelete(false)\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Quality Assurance</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Quality Assurance</li>\r\n                <li className=\"breadcrumb-item active\">List</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"name\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.name}\r\n                                    onChange={e => handleChangeFormFilter(\"name\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"8%\">No.</th>\r\n                                <th width=\"\">QA Type</th>\r\n                                <th width=\"12%\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                            <Button variant=\"danger\" size=\"sm\" className=\"m-1\" title=\"Delete Data\" onClick={(e) => { handleModalDelete(row.id) }}>\r\n                                                <i className=\"fas fa-trash-alt fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>QA Type</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDelete.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header closeButton={submittingDelete ? false : true}>\r\n                    <Modal.Title>Delete QA</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={handleSubmitFormDelete}>\r\n                    <Modal.Body className=\"text-center\">\r\n                        <i className=\"fas fa-exclamation-triangle fa-3x d-block text-danger\"></i>\r\n                        <h5 className=\"mt-2 mb-0\">Are you sure delete this data?</h5>\r\n                        <span className=\"text-muted\">This action cannot be undone.</span>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"danger\" type=\"submit\" disabled={submittingDelete}>\r\n                            {submittingDelete && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Delete\r\n                        </Button>\r\n                        <Button variant=\"light\" disabled={submittingDelete} onClick={handleModalClose}>Cancel</Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Table } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport classnames from 'classnames'\r\nimport { generalService } from './../../utils/services'\r\nimport { usePeriods, useQualityAssurances, useQualityAssuranceAspects, useQualityAssuranceDetails, useQualityAssuranceUsers, useVoices } from './../../utils/functions'\r\nimport { CustomPlayer, CustomSelect } from './../../components'\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange, dataFile, dataAssist }) => {\r\n    const fnPeriods = usePeriods()\r\n    const fnQualityAssurances = useQualityAssurances()\r\n    const fnQualityAssuranceDetails = useQualityAssuranceDetails()\r\n    const fnQualityAssuranceUsers = useQualityAssuranceUsers()\r\n    const fnVoices = useVoices()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, reset, clearErrors, getValues } = useForm({\r\n        defaultValues: initialData,\r\n        resolver: validationSchema\r\n    })\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [optionQa, setOptionQa] = useState(initialOption)\r\n    const [optionPeriod, setOptionPeriod] = useState(initialOption)\r\n    const [otherData, setOtherData] = useState({})\r\n    const [dataAspect, setDataAspect] = useState([])\r\n    const [loadingAudio, setLoadingAudio] = useState(true)\r\n    const [audioUrl, setAudioUrl] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const { filename, filedate } = dataFile\r\n\r\n            await fnVoices.Get({ filename, filedate }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setAudioUrl(res.data.url)\r\n                    setLoadingAudio(false)\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataFile) && _.isObject(dataFile)) fetchData()\r\n        return () => setLoadingAudio(false)\r\n    }, [dataFile])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            clearErrors()\r\n\r\n            if (!isEmptyValue(dataAssist) && _.isObject(dataAssist)) {\r\n                reset({\r\n                    ...initialData,\r\n                    user_id: dataAssist.user_id || \"\",\r\n                    call_id: dataAssist.call_id || \"\"\r\n                })\r\n    \r\n                setOtherData(dataAssist)\r\n            }\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOtherData({})\r\n    }, [dataAssist])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnPeriods.Get({\r\n                limit: 100,\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionPeriod = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionPeriod([\r\n                        ...optionPeriod,\r\n                        ...mapOptionPeriod\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n            await fnQualityAssurances.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionQa = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionQa([\r\n                        ...optionQa,\r\n                        ...mapOptionQa\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => {\r\n            setOptionPeriod(initialOption)\r\n            setOptionQa(initialOption)\r\n        }\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        Object.keys(data).forEach((key) => {\r\n            if (['quality_assurance_date'].indexOf(key) >= 0) {\r\n                data[key] = formatDate(data[key])\r\n            }\r\n        })\r\n\r\n        await fnQualityAssuranceUsers.Create(data).then(async (res) => {\r\n            if (res.success) {\r\n                let saveQaDetails = true\r\n\r\n                if (!isEmptyValue(dataAspect)) {\r\n                    let dataQaDetails = dataAspect.map((row) => {\r\n                        return {\r\n                            quality_assurance_user_id: String(res.data.id),\r\n                            quality_assurance_aspect_id: String(row.quality_assurance_aspect_id),\r\n                            result: row.result\r\n                        }\r\n                    })\r\n    \r\n                    await fnQualityAssuranceDetails.Create(dataQaDetails).then((resQaDetails) => {\r\n                        saveQaDetails = resQaDetails.success\r\n                    }).catch((err) => { return }) //do nothing, let it go back to login\r\n                }\r\n\r\n                if (!saveQaDetails) {\r\n                    notifChange({\r\n                        title: \"Warning\",\r\n                        message: \"QA Observation has been saved without Aspect Data\",\r\n                        show: true,\r\n                        type: \"warning\"\r\n                    })\r\n                } else {\r\n                    notifChange({\r\n                        title: \"Success\",\r\n                        message: \"QA Observation has been saved.\",\r\n                        show: true,\r\n                        type: \"success\"\r\n                    })\r\n                }\r\n\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to save QA Observation.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n\r\n        return modalChange()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>QA Observation</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Qa Type <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Controller\r\n                                name={\"quality_assurance_id\"}\r\n                                control={control}\r\n                                render={({ field: {value, onChange} }) => {\r\n                                    return (\r\n                                        <CustomSelect.SelectBox\r\n                                            optionSelect={optionQa}\r\n                                            onChangeValue={(value) => {\r\n                                                onChange(value)\r\n                                                setLoading(true)\r\n                                            }}\r\n                                            value={getValues('quality_assurance_id')}\r\n                                            isError={!!errors.quality_assurance_id ? true : false}\r\n                                            isSmall={true}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.quality_assurance_id?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>QA Date <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Controller\r\n                                name={\"quality_assurance_date\"}\r\n                                control={control}\r\n                                // value={new Date()}\r\n                                render={({ field: {value, onChange} }) => {\r\n                                    return (\r\n                                        <DatePicker\r\n                                            dateFormat=\"yyyy-MM-dd\"\r\n                                            disabledKeyboardNavigation\r\n                                            selected={value}\r\n                                            onChange={onChange}\r\n                                            highlightDates={[new Date(), new Date()]}\r\n                                            className={classnames(\"form-control form-control-sm\", {\r\n                                                \"is-invalid\": !!errors.quality_assurance_date\r\n                                            })}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Text className={classnames(\"text-danger\", {\r\n                                \"d-none\": !errors.quality_assurance_date\r\n                            })}>{errors.quality_assurance_date?.message}</Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Period <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Controller\r\n                                name={\"period_id\"}\r\n                                control={control}\r\n                                render={({ field: {value, onChange} }) => {\r\n                                    return (\r\n                                        <CustomSelect.SelectBox\r\n                                            optionSelect={optionPeriod}\r\n                                            onChangeValue={(value) => {\r\n                                                onChange(value)\r\n                                            }}\r\n                                            value={getValues('period_id')}\r\n                                            isError={!!errors.period_id ? true : false}\r\n                                            isSmall={true}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.period_id?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Row className=\"mb-2\">\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Notes</Form.Label>\r\n                            <Form.Control\r\n                                as=\"textarea\"\r\n                                size=\"sm\"\r\n                                rows={3}\r\n                                isInvalid={!!errors.notes}\r\n                                {...register(\"notes\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.notes?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Voice Call</Form.Label>\r\n                            <CustomPlayer.Audio url={audioUrl} loading={loadingAudio} size=\"sm\" />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Agent</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                defaultValue={otherData.agent || \"\"}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Call Date</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                defaultValue={otherData.call_date || \"\"}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Customer Name</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                defaultValue={otherData.customer_name || \"\"}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-3\">\r\n                            <Form.Label>Call Duration</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                defaultValue={otherData.call_duration || \"\"}\r\n                                disabled={true}\r\n                            />\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <TableDataAspect\r\n                        loading={loading}\r\n                        loadingChange={() => {\r\n                            setLoading(false)\r\n                        }}\r\n                        dataAspect={dataAspect}\r\n                        dataAspectChange={(params) => {\r\n                            setDataAspect(params)\r\n                        }}\r\n                        qualityAssuranceId={getValues(\"quality_assurance_id\")}\r\n                    />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={modalChange}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst TableDataAspect = ({ loading, loadingChange, dataAspect, dataAspectChange, qualityAssuranceId }) => {\r\n    const { Get } = useQualityAssuranceAspects()\r\n\r\n    const [tableData, setTableData] = useState({})\r\n    const [totalNilai, setTotalNilai] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({\r\n                limit: \"0\",\r\n                is_active: 1,\r\n                quality_assurance_id: qualityAssuranceId\r\n            }).then((res) => {\r\n                setTableData(res)\r\n\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapDataAspect = res.data.map((row) => {\r\n                        return {\r\n                            quality_assurance_aspect_id: String(row.id),\r\n                            result: row.bobot\r\n                        }\r\n                    })\r\n\r\n                    dataAspectChange([\r\n                        ...mapDataAspect\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(qualityAssuranceId)) {\r\n            fetchData()\r\n            loadingChange(false)\r\n        }\r\n        return () => {\r\n            setTableData({})\r\n            loadingChange(false)\r\n        }\r\n    }, [qualityAssuranceId])\r\n\r\n    useEffect(() => {\r\n        const mapData = () => {\r\n            dataAspect.map((row) => {\r\n                return (\r\n                    setTotalNilai(totalNilai => (totalNilai + parseInt(row.result)))\r\n                )\r\n            })\r\n        }\r\n\r\n        if (dataAspect.length > 0) mapData()\r\n        return () => setTotalNilai(0)\r\n    }, [dataAspect])\r\n\r\n    const handleChangeDataAspect = (id, bobot, hasil) => {\r\n        let nilai = \"0\"\r\n\r\n        if (hasil === \"1\") {\r\n            nilai = bobot\r\n        }\r\n\r\n        dataAspectChange(dataAspect.map((data) => data.quality_assurance_aspect_id === String(id) ? {\r\n            quality_assurance_aspect_id: String(id),\r\n            result: nilai\r\n        } : data))\r\n    }\r\n\r\n    const getAspectResult = (id) => {\r\n        let filterData = dataAspect.filter(data => data.quality_assurance_aspect_id === String(id))\r\n\r\n        if (filterData.length > 0) {\r\n            return filterData[0].result || \"0\"\r\n        }\r\n\r\n        return \"0\"\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table striped bordered hover responsive width=\"100%\" className=\"mb-2\" size=\"sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th width=\"57%\">Aspek</th>\r\n                        <th width=\"23%\">Hasil</th>\r\n                        <th width=\"20%\">Nilai</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {loading &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                Loading data...\r\n                            </td>\r\n                        </tr>\r\n                    || !loading && isEmptyValue(tableData.data) &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <span className=\"text-danger\">No data found</span>\r\n                            </td>\r\n                        </tr>\r\n                    || !loading && !isEmptyValue(tableData.data) &&\r\n                        tableData.data.map((row, i) => (\r\n                            <tr key={ row.id }>\r\n                                <td>{ row.aspect_name }</td>\r\n                                <td>\r\n                                    <Form.Control\r\n                                        as=\"select\"\r\n                                        size=\"sm\"\r\n                                        onChange={(e) => handleChangeDataAspect(row.id, row.bobot, e.target.value)}\r\n                                        defaultValue=\"1\"\r\n                                        key={`hasil-${row.id}`}\r\n                                    >\r\n                                        <option value=\"1\">Ya</option>\r\n                                        <option value=\"0\">Tidak</option>\r\n                                    </Form.Control>\r\n                                </td>\r\n                                <td>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        size=\"sm\"\r\n                                        readOnly={true}\r\n                                        value={getAspectResult(row.id)}\r\n                                        className=\"text-right\"\r\n                                        key={`nilai-${row.id}`}\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            <div className=\"d-flex justify-content-between bg-dark text-white font-weight-bold mb-2\">\r\n                <span className=\"p-2\">Total Nilai :</span>\r\n                <span className=\"p-2\">{totalNilai}</span>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialOption = [{\r\n    value: \"\",\r\n    label: \"Choose...\"\r\n}]\r\n\r\nconst initialData = {\r\n    quality_assurance_id: null,\r\n    quality_assurance_date: null,\r\n    period_id: null,\r\n    notes: \"\",\r\n    user_id: null,\r\n    call_id: null\r\n}\r\n\r\nconst validationSchema = yupResolver(yup.object().shape({\r\n    quality_assurance_id: yup.string().nullable()\r\n        .required(\"This field is required.\"),\r\n    quality_assurance_date: yup.date().nullable()\r\n        .required(\"This field is required.\"),\r\n    period_id: yup.string().nullable()\r\n        .required(\"This field is required.\"),\r\n    notes: yup.string()\r\n        // .required(\"This field is required.\")\r\n}))","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const usePeriods = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/periods'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const Get = async (params) => {\r\n        let result = initialResult\r\n        let resultPaging = {}\r\n        let paramString = ''\r\n        let paramArray = []\r\n        let paramObject = {\r\n            limit: 20\r\n        }\r\n\r\n        if (!isEmptyValue(params) && _.isObject(params)) {\r\n            if ('id' in params && !_.isNaN(params['id'])) {\r\n                await publicApi('get', `${endpoint}/${params['id']}`).then((res) => {\r\n                    result = {\r\n                        ...result,\r\n                        success: res.success,\r\n                        total_data: res.total_data,\r\n                        data: res.data\r\n                    }\r\n                }).catch((err) => {\r\n                    if (err.response) {\r\n                        let res = err.response.data\r\n                        if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                            return unauthorized()\r\n                        }\r\n                    }\r\n                })\r\n\r\n                return result\r\n            } else {\r\n                paramObject = {...paramObject, ...params}\r\n            }\r\n        }\r\n\r\n        Object.keys(paramObject).forEach((item) => {\r\n            if (!isEmptyValue(paramObject[item])) {\r\n                paramArray.push(`${item}=${paramObject[item]}`)\r\n            }\r\n        })\r\n\r\n        if (!isEmptyValue(paramArray)) {\r\n            paramString = `${paramArray.join(\"&\")}`\r\n        }\r\n\r\n        await publicApi('get', `${endpoint}?${paramString}`).then((res) => {\r\n            if ('paging' in res) {\r\n                let pagingInfo = PaginationInfo(res.total_data, paramObject.limit || 0, res.paging.current)\r\n                resultPaging = {\r\n                    ...res.paging,\r\n                    index: pagingInfo.index\r\n                }\r\n            }\r\n\r\n            result = {\r\n                ...result,\r\n                success: res.success,\r\n                total_data: res.total_data,\r\n                limit: paramObject.limit,\r\n                data: res.data,\r\n                paging: resultPaging\r\n            }\r\n        }).catch((err) => {\r\n            if (err.response) {\r\n                let res = err.response.data\r\n                if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                    return unauthorized()\r\n                }\r\n            }\r\n        })\r\n\r\n        return result\r\n    }\r\n\r\n    const Create = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Update = async (id, data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data) && !_.isNaN(id)) {\r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const Delete = async (id) => {\r\n        let result = initialResult\r\n\r\n        if (!_.isNaN(id)) {\r\n            const data = { is_active: \"0\" }\r\n    \r\n            await publicApi('put', `${endpoint}/${id}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        Get,\r\n        Create,\r\n        Update,\r\n        Delete\r\n    }\r\n}","import { useState, useEffect } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { saveAs } from 'file-saver'\r\nimport { generalService, cookieService } from './../../utils/services'\r\nimport { useExports, useQualityAssuranceDetails, useQualityAssuranceUsers, useVoices } from './../../utils/functions'\r\nimport { CustomPlayer, Notification } from './../../components'\r\n\r\nconst { isEmptyValue, sleep } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataFile, dataId }) => {\r\n    const fnExports = useExports()\r\n    const fnQualityAssuranceUsers = useQualityAssuranceUsers()\r\n    const fnVoices = useVoices()\r\n    const [currentData, setCurrentData] = useState({})\r\n    const [loadingAudio, setLoadingAudio] = useState(true)\r\n    const [audioUrl, setAudioUrl] = useState(null)\r\n    const [exporting, setExporting] = useState(false)\r\n    const [exportError, setExportError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const { filename, filedate } = dataFile\r\n\r\n            await fnVoices.Get({ filename, filedate }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setAudioUrl(res.data.url)\r\n                    setLoadingAudio(false)\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataFile) && _.isObject(dataFile)) fetchData()\r\n        return () => setLoadingAudio(false)\r\n    }, [dataFile])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnQualityAssuranceUsers.Get({id: dataId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    setCurrentData({\r\n                        quality_assurance_name: res.data.quality_assurance_name || \"\",\r\n                        quality_assurance_date: res.data.quality_assurance_date || \"\",\r\n                        observer_name: res.data.observer_name || \"\",\r\n                        customer_name: res.data.customer_name || \"\",\r\n                        agent: res.data.agent || \"\",\r\n                        call_date: res.data.call_date || \"\",\r\n                        call_duration: res.data.call_duration || \"\",\r\n                        period_name: res.data.period_name || \"\",\r\n                        notes: res.data.notes || \"\"\r\n                    })\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) fetchData()\r\n        return () => setCurrentData({})\r\n    }, [dataId])\r\n\r\n    const handleExport = async () => {\r\n        await fnExports.ReportQualityAssuranceDetail({\r\n            quality_assurance_user_id: dataId || \"\"\r\n        }).then(async (res) => {\r\n            await sleep(5000)\r\n            setExporting(false)\r\n\r\n            if (res.success) {\r\n                return saveAs(res.data.url, res.data.filename)\r\n            }\r\n\r\n            return setExportError(true)\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>QA Observation</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className=\"py-1\">\r\n                {exportError && <Notification.Error\r\n                    message=\"An error occured while exporting, please try again.\"\r\n                    show={true}\r\n                    showChange={() => { setExportError(false) }}\r\n                />}\r\n                <Row>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Qa Type <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.quality_assurance_name}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>QA Date <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.quality_assurance_date}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Period <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.period_name}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Row>\r\n                <Row className=\"mb-2\">\r\n                    <Form.Group className=\"col-md-6\">\r\n                        <Form.Label>Notes</Form.Label>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            size=\"sm\"\r\n                            rows={3}\r\n                            value={currentData.notes}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-6\">\r\n                        <Form.Label>Voice Call</Form.Label>\r\n                        <CustomPlayer.Audio url={audioUrl} loading={loadingAudio} size=\"sm\" />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Agent</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.agent}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Call Date</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.call_date}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Customer Name</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.customer_name}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"col-md-3\">\r\n                        <Form.Label>Call Duration</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            value={currentData.call_duration}\r\n                            readOnly={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Row>\r\n                <TableDataResult\r\n                    qualityAssuranceUserId={dataId}\r\n                />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {['2','4','5'].includes(cookieService.Get('user_level_id')) &&\r\n                    <Button variant=\"secondary\" onClick={() => {\r\n                        setExporting(true)\r\n                        handleExport()\r\n                    }} disabled={!exporting && !isEmptyValue(dataId) ? false : true}>\r\n                        {exporting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Export\r\n                    </Button>\r\n                }\r\n                <Button variant=\"light\" onClick={modalChange}>Close</Button>\r\n            </Modal.Footer>\r\n        </>\r\n    )\r\n}\r\n\r\nconst TableDataResult = ({ qualityAssuranceUserId }) => {\r\n    const { Get } = useQualityAssuranceDetails()\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [tableData, setTableData] = useState({})\r\n    const [totalNilai, setTotalNilai] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({\r\n                quality_assurance_user_id: qualityAssuranceUserId,\r\n                limit: \"0\"\r\n            }).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setLoading(false)\r\n    }, [qualityAssuranceUserId])\r\n\r\n    useEffect(() => {\r\n        const mapData = () => {\r\n            tableData.data.map((row) => {\r\n                return (\r\n                    setTotalNilai(totalNilai => (totalNilai + parseInt(row.result)))\r\n                )\r\n            })\r\n        }\r\n\r\n        if (!loading && !isEmptyValue(tableData.data)) mapData()\r\n        return () => setTotalNilai(0)\r\n    }, [loading, tableData])\r\n\r\n    return (\r\n        <>\r\n            <Table striped bordered hover responsive width=\"100%\" className=\"mb-0\" size=\"sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th width=\"50%\">Aspek</th>\r\n                        <th width=\"25%\">Hasil</th>\r\n                        <th width=\"25%\">Nilai</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {loading &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                Loading data...\r\n                            </td>\r\n                        </tr>\r\n                    }\r\n                    {!loading && isEmptyValue(tableData.data) &&\r\n                        <tr>\r\n                            <td colSpan=\"3\" className=\"text-center\">\r\n                                <span className=\"text-danger\">No data found</span>\r\n                            </td>\r\n                        </tr>\r\n                    }\r\n                    {!loading && !isEmptyValue(tableData.data) &&\r\n                        tableData.data.map((row, i) => (\r\n                            <tr key={ row.id }>\r\n                                <td key={`aspek-${row.id}`}>{ row.quality_assurance_aspect_name }</td>\r\n                                <td>\r\n                                    <Form.Control\r\n                                        key={`hasil-${row.id}`}\r\n                                        type=\"text\"\r\n                                        size=\"sm\"\r\n                                        readOnly={true}\r\n                                        defaultValue={parseInt(row.result) !== 0 ? \"Ya\" : \"Tidak\"}\r\n                                    />\r\n                                </td>\r\n                                <td>\r\n                                    <Form.Control\r\n                                        key={`nilai-${row.id}`}\r\n                                        type=\"text\"\r\n                                        size=\"sm\"\r\n                                        readOnly={true}\r\n                                        defaultValue={row.result}\r\n                                        className=\"text-right\"\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            <div className=\"d-flex justify-content-between bg-dark text-white font-weight-bold mb-2\">\r\n                <span className=\"p-2\">Total Nilai :</span>\r\n                <span className=\"p-2\">{totalNilai}</span>\r\n            </div>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table, Row } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport DatePicker from 'react-datepicker'\r\nimport { generalService, cookieService } from './../../utils/services'\r\nimport { useCalls, useCampaigns, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue, formatDate } = generalService\r\n\r\nexport const QualityAssuranceCalls = (props) => {\r\n    const fnCalls = useCalls()\r\n    const fnCampaigns = useCampaigns()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        user_id: \"\",\r\n        campaign_id: \"\",\r\n        start: formatDate(),\r\n        end: formatDate(),\r\n        disable_date: false\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        ...formFilter\r\n    })\r\n    const [optionAgent, setOptionAgent] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionCampaign, setOptionCampaign] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCalls.GetQA(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({\r\n                limit: 100,\r\n                order: \"username\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOptionAgent = res.data.map((row) => {\r\n                        return { value: row.id, label: row.username }\r\n                    })\r\n\r\n                    setOptionAgent([\r\n                        ...optionAgent,\r\n                        ...mapOptionAgent\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionAgent([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCampaigns.Get({\r\n                limit: 100,\r\n                order: \"name\"\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)){\r\n                    let mapOptionCampaign = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionCampaign([\r\n                        ...optionCampaign,\r\n                        ...mapOptionCampaign\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionCampaign([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        if (key === 'start' && new Date(val) > new Date(formFilter.end)) {\r\n            setFormFilter({\r\n                ...formFilter,\r\n                start: val,\r\n                end: val\r\n            })\r\n        } else {\r\n            setFormFilter({ ...formFilter, [key]: val })\r\n        }\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = ({dataFile, dataAssist}) => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show,\r\n            dataFile: dataFile,\r\n            dataAssist: dataAssist\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = ({dataFile, dataId}) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataFile: dataFile,\r\n            dataId: dataId\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Quality Assurance Calls</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Quality Assurance</li>\r\n                <li className=\"breadcrumb-item active\">Calls</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"DisableDate\">\r\n                                <Form.Label>Disable Date</Form.Label>\r\n                                <br />\r\n                                <Button variant=\"outline-info\" onClick={() => handleChangeFormFilter(\"disable_date\", !formFilter.disable_date)}>\r\n                                    <i className={`far ${formFilter.disable_date ? \"fa-check-square\" : \"fa-square\"}`} />\r\n                                </Button>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"StartDate\">\r\n                                <Form.Label>From Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    selected={new Date(formFilter.start)}\r\n                                    disabledKeyboardNavigation\r\n                                    onChange={(date) => handleChangeFormFilter(\"start\", formatDate(date) === false ? formatDate() : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"EndDate\">\r\n                                <Form.Label>To Date</Form.Label>\r\n                                <DatePicker\r\n                                    className=\"form-control\"\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    disabledKeyboardNavigation\r\n                                    selected={new Date(formFilter.end)}\r\n                                    onChange={(date) => handleChangeFormFilter(\"end\", formatDate(date) === false ? formFilter.start : formatDate(date))}\r\n                                    highlightDates={[new Date(), new Date()]}\r\n                                    minDate={new Date(formFilter.start)}\r\n                                    disabled={formFilter.disable_date}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Agent\">\r\n                                <Form.Label>Agent</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionAgent}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_id\", value)}\r\n                                    value={formFilter.user_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"CampaignName\">\r\n                                <Form.Label>Campaign Name</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionCampaign}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"campaign_id\", value)}\r\n                                    value={formFilter.campaign_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"\">No.</th>\r\n                                <th width=\"\">Call Date</th>\r\n                                <th width=\"\">Campaign</th>\r\n                                <th width=\"\">Customer Name</th>\r\n                                <th width=\"\">Agent</th>\r\n                                <th width=\"\">Call Duration</th>\r\n                                <th width=\"\">Phone Number</th>\r\n                                <th width=\"\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"8\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"8\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.call_date }</td>\r\n                                        <td>{ row.campaign_name }</td>\r\n                                        <td>{ row.customer_name }</td>\r\n                                        <td>{ row.agent }</td>\r\n                                        <td>{ row.call_duration }</td>\r\n                                        <td>{ row.phone_number }</td>\r\n                                        <td className=\"text-center\">\r\n                                            {isEmptyValue(row.quality_assurance_user_id) && cookieService.Get('user_level_id') === '3' &&\r\n                                                <Button variant=\"info\" size=\"sm\" className=\"m-1\" title=\"QA Observation\" onClick={(e) => {\r\n                                                    handleModalAdd({\r\n                                                        dataFile: {\r\n                                                            filedate: row.filedate,\r\n                                                            filename: row.filename\r\n                                                        },\r\n                                                        dataAssist: {\r\n                                                            call_id: row.id,\r\n                                                            call_date: row.call_date,\r\n                                                            call_duration: row.call_duration,\r\n                                                            customer_name: row.customer_name,\r\n                                                            user_id: row.user_id,\r\n                                                            agent: row.agent\r\n                                                        }\r\n                                                    })\r\n                                                }}>\r\n                                                    Add QA\r\n                                                </Button>\r\n                                            || !isEmptyValue(row.quality_assurance_user_id) &&\r\n                                                <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"QA Observation\" onClick={(e) => {\r\n                                                    handleModalDetail({\r\n                                                        dataFile: {\r\n                                                            filedate: row.filedate,\r\n                                                            filename: row.filename\r\n                                                        },\r\n                                                        dataId: row.quality_assurance_user_id\r\n                                                    })\r\n                                                }}>\r\n                                                    View QA\r\n                                                </Button>\r\n                                            }\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Call Date</th>\r\n                                <th>Campaign</th>\r\n                                <th>Customer Name</th>\r\n                                <th>Agent</th>\r\n                                <th>Call Duration</th>\r\n                                <th>Phone Number</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n                <FormAdd\r\n                    modalChange={() => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataFile={modalAdd.dataFile}\r\n                    dataAssist={modalAdd.dataAssist}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n                <FormDetail\r\n                    modalChange={() => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataFile={modalDetail.dataFile}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    type: null,\r\n    dataId: null,\r\n    dataFile: null,\r\n    dataAssist: null\r\n}","import { useState, useEffect } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { CustomSelect } from './../../components'\r\nimport { generalService } from './../../utils/services'\r\nimport { useDepartments, useUserLevels, useUsers } from './../../utils/functions'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnDepartments = useDepartments()\r\n    const fnUserLevels = useUserLevels()\r\n    const fnUsers = useUsers()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, clearErrors, getValues } = useForm({\r\n        defaultValues: initialData,\r\n        resolver: validationSchema\r\n    })\r\n    const [optionDepartment, setOptionDepartment] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionUserLevel, setOptionUserLevel] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnDepartments.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionDepartment([\r\n                        ...optionDepartment,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionDepartment([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUserLevels.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionUserLevel([\r\n                        ...optionUserLevel,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionUserLevel([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnUsers.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            return modalChange()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New User</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"pb-1\">\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-5\">\r\n                            <Form.Label>Username <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.username}\r\n                                {...register(\"username\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.username?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-7\">\r\n                            <Form.Label>Fullname <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.fullname}\r\n                                {...register(\"fullname\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.fullname?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.email}\r\n                                {...register(\"email\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.email?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>User Level <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Controller\r\n                                name={\"user_level_id\"}\r\n                                control={control}\r\n                                render={({ field: {value, onChange} }) => {\r\n                                    return (\r\n                                        <CustomSelect.SelectBox\r\n                                            optionSelect={optionUserLevel}\r\n                                            onChangeValue={(value) => onChange(value)}\r\n                                            value={getValues('user_level_id')}\r\n                                            isError={!!errors.user_level_id ? true : false}\r\n                                            isSmall={true}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.user_level_id?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group>\r\n                        <Form.Label>Department <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Controller\r\n                            name={\"department_id\"}\r\n                            control={control}\r\n                            render={({ field: {value, onChange} }) => {\r\n                                return (\r\n                                    <CustomSelect.SelectBox\r\n                                        optionSelect={optionDepartment}\r\n                                        onChangeValue={(value) => onChange(value)}\r\n                                        value={getValues('department_id')}\r\n                                        isError={!!errors.department_id ? true : false}\r\n                                        isSmall={true}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.department_id?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Mobile Phone</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.mobile}\r\n                                {...register(\"mobile\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.mobile?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Home Phone</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.phone}\r\n                                {...register(\"phone\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.phone?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group>\r\n                        <Form.Label>Address</Form.Label>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            size=\"sm\"\r\n                            rows={2}\r\n                            isInvalid={!!errors.address}\r\n                            {...register(\"address\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.address?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            checked={true}\r\n                            disabled={true}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Text className=\"font-italic\" muted>\r\n                        * Default password for new user is <strong>123456</strong>\r\n                    </Form.Text>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={modalChange}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialData = {\r\n    username: \"\",\r\n    fullname: \"\",\r\n    user_level_id: \"\",\r\n    department_id: \"\",\r\n    mobile: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    is_active: \"1\"\r\n}\r\n\r\nconst validationSchema = yupResolver(yup.object().shape({\r\n    username: yup.string()\r\n        .required(\"This field is required.\")\r\n        .min(6, \"This field must be at least 6 characters in length.\"),\r\n    fullname: yup.string()\r\n        .required(\"This field is required.\"),\r\n    user_level_id: yup.string()\r\n        .required(\"This field is required.\"),\r\n    department_id: yup.string()\r\n        .required(\"This field is required.\"),\r\n    mobile: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .matches(/^[0-9]+$/, { message: \"This field is invalid.\", excludeEmptyString: true }),\r\n    phone: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .matches(/^[0-9]+$/, { message: \"This field is invalid.\", excludeEmptyString: true }),\r\n    email: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .email(\"This field must contain a valid email address.\"),\r\n    // address: yup.string()\r\n    //     .required(\"This field is required.\"),\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n}))","import { useState, useEffect } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { CustomSelect } from './../../components'\r\nimport { generalService } from './../../utils/services'\r\nimport { useDepartments, useUserLevels, useUsers } from './../../utils/functions'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const fnDepartments = useDepartments()\r\n    const fnUserLevels = useUserLevels()\r\n    const fnUsers = useUsers()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, reset, getValues } = useForm({\r\n        defaultValues: initialData,\r\n        resolver: validationSchema\r\n    })\r\n    const [optionDepartment, setOptionDepartment] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionUserLevel, setOptionUserLevel] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get({id: dataId}).then((res) => {\r\n                let mapOptionDepartment = optionDepartment.map((row) => {\r\n                    return row.value\r\n                })\r\n                let mapOptionUserLevel = optionUserLevel.map((row) => {\r\n                    return row.value\r\n                })\r\n\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        ...initialData,\r\n                        username: res.data.username || \"\",\r\n                        fullname: res.data.fullname || \"\",\r\n                        user_level_id: (mapOptionUserLevel.includes(res.data.user_level_id)) ? res.data.user_level_id : \"\",\r\n                        department_id: (mapOptionDepartment.includes(res.data.department_id)) ? res.data.department_id : \"\",\r\n                        mobile: res.data.mobile || \"\",\r\n                        phone: res.data.phone || \"\",\r\n                        email: res.data.email || \"\",\r\n                        address: res.data.address || \"\",\r\n                        is_active: res.data.is_active === 1 ? \"1\" : false\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) return fetchData()\r\n    }, [dataId, optionDepartment, optionUserLevel])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnDepartments.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionDepartment([\r\n                        ...optionDepartment,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionDepartment([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUserLevels.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionUserLevel([\r\n                        ...optionUserLevel,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionUserLevel([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        Object.keys(data).forEach((key) => {\r\n            if (['is_active'].includes(key) && data[key] === false) {\r\n                data[key] = \"0\"\r\n            }\r\n        })\r\n\r\n        await fnUsers.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            return modalChange()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail User</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"pb-1\">\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-5\">\r\n                            <Form.Label>Username <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.username}\r\n                                {...register(\"username\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.username?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-7\">\r\n                            <Form.Label>Fullname <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.fullname}\r\n                                {...register(\"fullname\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.fullname?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.email}\r\n                                {...register(\"email\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.email?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>User Level <span className=\"text-danger\">*</span></Form.Label>\r\n                            <Controller\r\n                                name={\"user_level_id\"}\r\n                                control={control}\r\n                                render={({ field: {value, onChange} }) => {\r\n                                    return (\r\n                                        <CustomSelect.SelectBox\r\n                                            optionSelect={optionUserLevel}\r\n                                            onChangeValue={(value) => onChange(value)}\r\n                                            value={getValues('user_level_id')}\r\n                                            isError={!!errors.user_level_id ? true : false}\r\n                                            isSmall={true}\r\n                                        />\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.user_level_id?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group>\r\n                        <Form.Label>Department <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Controller\r\n                            name={\"department_id\"}\r\n                            control={control}\r\n                            render={({ field: {value, onChange} }) => {\r\n                                return (\r\n                                    <CustomSelect.SelectBox\r\n                                        optionSelect={optionDepartment}\r\n                                        onChangeValue={(value) => onChange(value)}\r\n                                        value={getValues('department_id')}\r\n                                        isError={!!errors.department_id ? true : false}\r\n                                        isSmall={true}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.department_id?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Row>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Mobile Phone</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.mobile}\r\n                                {...register(\"mobile\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.mobile?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group className=\"col-md-6\">\r\n                            <Form.Label>Home Phone</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                size=\"sm\"\r\n                                isInvalid={!!errors.phone}\r\n                                {...register(\"phone\")}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">{errors.phone?.message}</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Row>\r\n                    <Form.Group>\r\n                        <Form.Label>Address</Form.Label>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            size=\"sm\"\r\n                            rows={2}\r\n                            isInvalid={!!errors.address}\r\n                            {...register(\"address\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.address?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            value=\"1\"\r\n                            // isInvalid={!!errors.is_active}\r\n                            // feedback={errors.is_active?.message}\r\n                            {...register(\"is_active\")}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={modalChange}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialData = {\r\n    username: \"\",\r\n    fullname: \"\",\r\n    user_level_id: \"\",\r\n    department_id: \"\",\r\n    mobile: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    is_active: \"1\"\r\n}\r\n\r\nconst validationSchema = yupResolver(yup.object().shape({\r\n    username: yup.string()\r\n        .required(\"This field is required.\")\r\n        .min(6, \"This field must be at least 6 characters in length.\"),\r\n    fullname: yup.string()\r\n        .required(\"This field is required.\"),\r\n    user_level_id: yup.string()\r\n        .required(\"This field is required.\"),\r\n    department_id: yup.string()\r\n        .required(\"This field is required.\"),\r\n    mobile: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .matches(/^[0-9]+$/, { message: \"This field is invalid.\", excludeEmptyString: true }),\r\n    phone: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .matches(/^[0-9]+$/, { message: \"This field is invalid.\", excludeEmptyString: true }),\r\n    email: yup.string()\r\n        // .required(\"This field is required.\")\r\n        .email(\"This field must contain a valid email address.\"),\r\n    // address: yup.string()\r\n    //     .required(\"This field is required.\"),\r\n    // is_active: yup.string().oneOf([\"1\"], \"This checkbox is required.\")\r\n}))","import { useState, useEffect } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport { generalService } from './../../utils/services'\r\nimport { useDepartments, useUserLevels, useUsers } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const Users = (props) => {\r\n    const fnDepartments = useDepartments()\r\n    const fnUserLevels = useUserLevels()\r\n    const fnUsers = useUsers()\r\n    const { Error, Success, Warning } = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        department_id: \"\",\r\n        user_level_id: \"\",\r\n        username: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"username\",\r\n        ...formFilter\r\n    })\r\n    const [optionDepartment, setOptionDepartment] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n    const [optionUserLevel, setOptionUserLevel] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUsers.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnDepartments.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionDepartment([\r\n                        ...optionDepartment,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionDepartment([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnUserLevels.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionUserLevel([\r\n                        ...optionUserLevel,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionUserLevel([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Setting Users</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Settings</li>\r\n                <li className=\"breadcrumb-item active\">Users</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Department\">\r\n                                <Form.Label>Department</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionDepartment}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"department_id\", value)}\r\n                                    value={formFilter.department_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"UserLevel\">\r\n                                <Form.Label>User Level</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionUserLevel}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"user_level_id\", value)}\r\n                                    value={formFilter.user_level_id}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"Username\">\r\n                                <Form.Label>Username</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.username}\r\n                                    onChange={e => handleChangeFormFilter(\"username\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th className=\"text-nowrap\">No.</th>\r\n                                <th className=\"text-nowrap\">Username</th>\r\n                                <th className=\"text-nowrap\">User Level</th>\r\n                                <th className=\"text-nowrap\">Department</th>\r\n                                <th className=\"text-nowrap\">Fullname</th>\r\n                                <th className=\"text-nowrap\">Email</th>\r\n                                <th className=\"text-nowrap\">Mobile Phone</th>\r\n                                <th className=\"text-nowrap\">Home Phone</th>\r\n                                <th className=\"text-nowrap\">Address</th>\r\n                                <th className=\"text-nowrap\">Active</th>\r\n                                <th className=\"text-nowrap text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"9\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.username }</td>\r\n                                        <td>{ row.user_level }</td>\r\n                                        <td>{ row.department }</td>\r\n                                        <td>{ row.fullname }</td>\r\n                                        <td>{ row.email }</td>\r\n                                        <td>{ row.mobile }</td>\r\n                                        <td>{ row.phone }</td>\r\n                                        <td>{ row.address }</td>\r\n                                        <td>{ row.is_active === 1 ? \"Yes\" : \"No\" }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Username</th>\r\n                                <th>User Level</th>\r\n                                <th>Department</th>\r\n                                <th>Fullname</th>\r\n                                <th>Email</th>\r\n                                <th>Mobile Phone</th>\r\n                                <th>Home Phone</th>\r\n                                <th>Address</th>\r\n                                <th>Active</th>\r\n                                <th className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useBreakReasons } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnBreakReasons = useBreakReasons()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, clearErrors } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnBreakReasons.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New Break Reason</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            checked={true}\r\n                            disabled={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useBreakReasons } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const fnBreakReasons = useBreakReasons()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, reset } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnBreakReasons.Get({id: dataId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        is_active: res.data.is_active === 1 ? \"1\" : false\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) return fetchData()\r\n    }, [dataId])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        {Object.keys(data).forEach((key) => {\r\n            if (['is_active'].includes(key) && data[key] === false) {\r\n                data[key] = \"0\"\r\n            }\r\n        })}\r\n\r\n        await fnBreakReasons.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail Break Reason</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            value=\"1\"\r\n                            {...register(\"is_active\")}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useBreakReasons } from './../../utils/functions'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const BreakReason = (props) => {\r\n    const fnBreakReasons = useBreakReasons()\r\n    const { Error, Success, Warning} = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        name: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnBreakReasons.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Setting Break Reason</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Settings</li>\r\n                <li className=\"breadcrumb-item active\">Break Reason</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"name\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.name}\r\n                                    onChange={e => handleChangeFormFilter(\"name\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"10%\">No.</th>\r\n                                <th width=\"70%\">Name</th>\r\n                                <th width=\"10%\">Active</th>\r\n                                <th width=\"10%\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td>{ row.is_active === 1 ? 'Yes' : 'No' }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Name</th>\r\n                                <th>Active</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCheckingReasons } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnCheckingReasons = useCheckingReasons()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, clearErrors } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnCheckingReasons.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New Checking Reason</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            checked={true}\r\n                            disabled={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCheckingReasons } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const fnCheckingReasons = useCheckingReasons()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, reset } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCheckingReasons.Get({id: dataId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        is_active: res.data.is_active === 1 ? \"1\" : false\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) return fetchData()\r\n    }, [dataId])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        {Object.keys(data).forEach((key) => {\r\n            if (['is_active'].includes(key) && data[key] === false) {\r\n                data[key] = \"0\"\r\n            }\r\n        })}\r\n\r\n        await fnCheckingReasons.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail Checking Reason</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            value=\"1\"\r\n                            {...register(\"is_active\")}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useCheckingReasons } from './../../utils/functions'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const CheckingReason = (props) => {\r\n    const fnCheckingReasons = useCheckingReasons()\r\n    const { Error, Success, Warning} = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        name: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnCheckingReasons.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Setting Checking Reason</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Settings</li>\r\n                <li className=\"breadcrumb-item active\">Checking Reason</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"name\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.name}\r\n                                    onChange={e => handleChangeFormFilter(\"name\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"10%\">No.</th>\r\n                                <th width=\"70%\">Name</th>\r\n                                <th width=\"10%\">Active</th>\r\n                                <th width=\"10%\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td>{ row.is_active === 1 ? 'Yes' : 'No' }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Name</th>\r\n                                <th>Active</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, register, clearErrors } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnOutboundCategories.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New Outbound Category</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            checked={true}\r\n                            disabled={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, reset, getValues } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\")\r\n        }))\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get({id: dataId}).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        is_active: res.data.is_active === 1 ? \"1\" : false\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) return fetchData()\r\n    }, [dataId])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        {Object.keys(data).forEach((key) => {\r\n            if (['is_active'].includes(key) && data[key] === false) {\r\n                data[key] = \"0\"\r\n            }\r\n        })}\r\n\r\n        await fnOutboundCategories.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            handleModalClose()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        return modalChange({\r\n            show: false,\r\n            dataId: null\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail Outbound Category</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            value=\"1\"\r\n                            {...register(\"is_active\")}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={handleModalClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories } from './../../utils/functions'\r\nimport { Pagination, Notification } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const OutboundCategory = (props) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const { Error, Success, Warning} = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        name: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Setting Outbound Category</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Settings</li>\r\n                <li className=\"breadcrumb-item active\">Outbound Category</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"name\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.name}\r\n                                    onChange={e => handleChangeFormFilter(\"name\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"10%\">No.</th>\r\n                                <th width=\"70%\">Name</th>\r\n                                <th width=\"10%\">Active</th>\r\n                                <th width=\"10%\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td>{ row.is_active === 1 ? 'Yes' : 'No' }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Name</th>\r\n                                <th>Active</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        setModalAdd({\r\n                            ...modalAdd,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        setModalDetail({\r\n                            ...modalDetail,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Row, Col } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { CustomSelect } from './../../components'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories, useOutboundCategoryDetails } from './../../utils/functions'\r\n\r\nconst { isEmptyValue, formatDate, formatDateTime } = generalService\r\n\r\nexport const FormAdd = ({ modalChange, notifChange, dataChange }) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const fnOutboundCategoryDetails = useOutboundCategoryDetails()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, clearErrors, getValues } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            outbound_category_id: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\"),\r\n            outbound_category_id: yup.string()\r\n                .required(\"This field is required.\"),\r\n        }))\r\n    })\r\n    const [optionOutboundCategory, setOptionOutboundCategory] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        clearErrors()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionOutboundCategory([\r\n                        ...optionOutboundCategory,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionOutboundCategory([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        await fnOutboundCategoryDetails.Create(data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been created.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to create data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            return modalChange()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Add New Outbound Category Detail</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"OutboundCategory\">\r\n                        <Form.Label>Outboound Category <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Controller\r\n                            name={\"outbound_category_id\"}\r\n                            control={control}\r\n                            render={({ field: {value, onChange} }) => {\r\n                                return (\r\n                                    <CustomSelect.SelectBox\r\n                                        optionSelect={optionOutboundCategory}\r\n                                        onChangeValue={(value) => onChange(value)}\r\n                                        value={getValues('outbound_category_id')}\r\n                                        isError={!!errors.outbound_category_id ? true : false}\r\n                                        isSmall={true}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.outbound_category_id?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            checked={true}\r\n                            disabled={true}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={modalChange}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport _ from 'lodash'\r\nimport { CustomSelect } from './../../components'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories, useOutboundCategoryDetails } from './../../utils/functions'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const FormDetail = ({ modalChange, notifChange, dataChange, dataId }) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const fnOutboundCategoryDetails = useOutboundCategoryDetails()\r\n    const { handleSubmit, formState: { errors, isSubmitting }, control, register, reset, getValues } = useForm({\r\n        defaultValues: {\r\n            name: \"\",\r\n            outbound_category_id: \"\",\r\n            is_active: \"1\"\r\n        },\r\n        resolver: yupResolver(yup.object().shape({\r\n            name: yup.string()\r\n                .required(\"This field is required.\"),\r\n            outbound_category_id: yup.string()\r\n                .required(\"This field is required.\"),\r\n        }))\r\n    })\r\n    const [optionOutboundCategory, setOptionOutboundCategory] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategoryDetails.Get({id: dataId}).then((res) => {\r\n                let mapOutboundCategory = optionOutboundCategory.map((row) => {\r\n                    return row.value\r\n                })\r\n\r\n                if (!isEmptyValue(res.data)) {\r\n                    reset({\r\n                        name: res.data.name || \"\",\r\n                        outbound_category_id: (mapOutboundCategory.includes(res.data.outbound_category_id)) ? res.data.outbound_category_id : \"\",\r\n                        is_active: res.data.is_active === 1 ? \"1\" : false\r\n                    }, {keepErrors: false})\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (!isEmptyValue(dataId)) return fetchData()\r\n    }, [dataId, optionOutboundCategory])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionOutboundCategory([\r\n                        ...optionOutboundCategory,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionOutboundCategory([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const onSubmitForm = async (data, e) => {\r\n        e.preventDefault()\r\n\r\n        {Object.keys(data).forEach((key) => {\r\n            if (['is_active'].includes(key) && data[key] === false) {\r\n                data[key] = \"0\"\r\n            }\r\n        })}\r\n\r\n        await fnOutboundCategoryDetails.Update(dataId, data).then((res) => {\r\n            if (res.success) {\r\n                notifChange({\r\n                    title: \"Success\",\r\n                    message: \"Data has been updated.\",\r\n                    show: true,\r\n                    type: \"success\"\r\n                })\r\n                dataChange()\r\n            } else {\r\n                notifChange({\r\n                    title: \"Error\",\r\n                    message: \"Failed to update data.\",\r\n                    show: true,\r\n                    type: \"error\"\r\n                })\r\n            }\r\n\r\n            return modalChange()\r\n        }).catch((err) => { return }) //do nothing, let it go back to login\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal.Header closeButton={isSubmitting ? false : true}>\r\n                <Modal.Title>Detail of Outbound Category Detail</Modal.Title>\r\n            </Modal.Header>\r\n            <Form onSubmit={handleSubmit(onSubmitForm)}>\r\n                <Modal.Body className=\"py-1\">\r\n                    <Form.Group controlId=\"Name\">\r\n                        <Form.Label>Name <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            size=\"sm\"\r\n                            isInvalid={!!errors.name}\r\n                            {...register(\"name\")}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.name?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"OutboundCategory\">\r\n                        <Form.Label>Outboound Category <span className=\"text-danger\">*</span></Form.Label>\r\n                        <Controller\r\n                            name={\"outbound_category_id\"}\r\n                            control={control}\r\n                            render={({ field: {value, onChange} }) => {\r\n                                return (\r\n                                    <CustomSelect.SelectBox\r\n                                        optionSelect={optionOutboundCategory}\r\n                                        onChangeValue={(value) => onChange(value)}\r\n                                        value={getValues('outbound_category_id')}\r\n                                        isError={!!errors.outbound_category_id ? true : false}\r\n                                        isSmall={true}\r\n                                    />\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">{errors.outbound_category_id?.message}</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"IsActive\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            label=\"Active\"\r\n                            custom\r\n                            value=\"1\"\r\n                            {...register(\"is_active\")}\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" type=\"submit\" disabled={isSubmitting}>\r\n                        {isSubmitting && <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />} Save\r\n                    </Button>\r\n                    <Button variant=\"light\" disabled={isSubmitting} onClick={modalChange}>Close</Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react'\r\nimport { Button, Form, Modal, Spinner, Table } from 'react-bootstrap'\r\nimport _ from 'lodash'\r\nimport { generalService } from './../../utils/services'\r\nimport { useOutboundCategories, useOutboundCategoryDetails } from './../../utils/functions'\r\nimport { Pagination, Notification, CustomSelect } from './../../components'\r\nimport { FormAdd } from './FormAdd'\r\nimport { FormDetail } from './FormDetail'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const OutboundCategoryDetail = (props) => {\r\n    const fnOutboundCategories = useOutboundCategories()\r\n    const fnOutboundCategoryDetails = useOutboundCategoryDetails()\r\n    const { Error, Success, Warning} = Notification\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [notif, setNotif] = useState(initialNotif)\r\n    const [tableData, setTableData] = useState({})\r\n    const [modalAdd, setModalAdd] = useState(initialModal)\r\n    const [modalDetail, setModalDetail] = useState(initialModal)\r\n    const [formFilter, setFormFilter] = useState({\r\n        name: \"\",\r\n        outbound_category_id: \"\"\r\n    })\r\n    const [currentFilter, setCurrentFilter] = useState({\r\n        page: 1,\r\n        order: \"name\",\r\n        ...formFilter\r\n    })\r\n    const [optionOutboundCategory, setOptionOutboundCategory] = useState([{\r\n        value: \"\",\r\n        label: \"Choose...\"\r\n    }])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategoryDetails.Get(currentFilter).then((res) => {\r\n                setTableData(res)\r\n                setLoading(false)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        if (loading) fetchData()\r\n        return () => setLoading(false)\r\n    }, [loading])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fnOutboundCategories.Get({\r\n                limit: 100,\r\n                order: \"name\",\r\n                is_active: 1\r\n            }).then((res) => {\r\n                if (!isEmptyValue(res.data)) {\r\n                    let mapOption = res.data.map((row) => {\r\n                        return { value: row.id, label: row.name }\r\n                    })\r\n\r\n                    setOptionOutboundCategory([\r\n                        ...optionOutboundCategory,\r\n                        ...mapOption\r\n                    ])\r\n                }\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n\r\n        fetchData()\r\n        return () => setOptionOutboundCategory([{\r\n            value: \"\",\r\n            label: \"Choose...\"\r\n        }])\r\n    }, [])\r\n\r\n    const handleChangeFormFilter = (key, val) => {\r\n        setFormFilter({ ...formFilter, [key]: val })\r\n    }\r\n\r\n    const handleSubmitFormFilter = (e) => {\r\n        e.preventDefault()\r\n\r\n        setCurrentFilter({\r\n            ...currentFilter,\r\n            ...formFilter,\r\n            page: 1\r\n        })\r\n        setLoading(true)\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalAdd(initialModal)\r\n        setModalDetail(initialModal)\r\n    }\r\n\r\n    const handleModalAdd = () => {\r\n        setModalAdd({\r\n            ...modalAdd,\r\n            show: !modalAdd.show\r\n        })\r\n    }\r\n\r\n    const handleModalDetail = (id) => {\r\n        setModalDetail({\r\n            ...modalDetail,\r\n            show: !modalDetail.show,\r\n            dataId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"mt-4\">Setting Outbound Category Detail</h1>\r\n            <ol className=\"breadcrumb mb-4\">\r\n                <li className=\"breadcrumb-item\">Settings</li>\r\n                <li className=\"breadcrumb-item active\">Outbound Category Detail</li>\r\n            </ol>\r\n            {notif.show && notif.type === 'error' && <Error\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'success' && <Success\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            {notif.show && notif.type === 'warning' && <Warning\r\n                title={notif.title}\r\n                message={notif.message}\r\n                show={notif.show}\r\n                showChange={() => { setNotif(initialNotif) }}\r\n            />}\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table mr-1\"></i> Filter Data\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form onSubmit={handleSubmitFormFilter}>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-2\" controlId=\"name\">\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    value={formFilter.name}\r\n                                    onChange={e => handleChangeFormFilter(\"name\", e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                            <Form.Group className=\"col-md-2\" controlId=\"OutboundCategory\">\r\n                                <Form.Label>Outbound Category</Form.Label>\r\n                                <CustomSelect.SelectBox\r\n                                    optionSelect={optionOutboundCategory}\r\n                                    onChangeValue={(value) => handleChangeFormFilter(\"outbound_category_id\", value)}\r\n                                    value={formFilter.outbound_category_id}\r\n                                />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <Form.Group className=\"col-md-12 mb-0\">\r\n                                <Button type=\"submit\" variant=\"primary\">Search</Button>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-body\">\r\n                    <Button variant=\"outline-primary\" onClick={handleModalAdd}>Add Data</Button>\r\n                    <hr />\r\n                    <Table striped hover responsive width=\"100%\" cellSpacing=\"0\" cellPadding=\"0\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th width=\"10%\">No.</th>\r\n                                <th width=\"40%\">Name</th>\r\n                                <th width=\"30%\">Outbound Category</th>\r\n                                <th width=\"10%\">Active</th>\r\n                                <th width=\"10%\" className=\"text-center\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {loading &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <Spinner animation=\"border\" size=\"sm\" className=\"mr-1\" />\r\n                                        Loading data...\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && isEmptyValue(tableData.data) &&\r\n                                <tr>\r\n                                    <td colSpan=\"3\" className=\"text-center\">\r\n                                        <span className=\"text-danger\">No data found</span>\r\n                                    </td>\r\n                                </tr>\r\n                            }\r\n                            {!loading && !isEmptyValue(tableData.data) &&\r\n                                tableData.data.map((row, i) => (\r\n                                    <tr key={ row.id }>\r\n                                        <td>{ tableData.paging.index[i] }</td>\r\n                                        <td>{ row.name }</td>\r\n                                        <td>{ row.outbound_category }</td>\r\n                                        <td>{ row.is_active === 1 ? 'Yes' : 'No' }</td>\r\n                                        <td className=\"text-center\">\r\n                                            <Button variant=\"warning\" size=\"sm\" className=\"m-1\" title=\"Detail Data\" onClick={(e) => { handleModalDetail(row.id) }}>\r\n                                                <i className=\"fas fa-edit fa-fw\"></i>\r\n                                            </Button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <th>No.</th>\r\n                                <th>Name</th>\r\n                                <th>Outbound Category</th>\r\n                                <th>Active</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </Table>\r\n\r\n                    {!loading && !isEmptyValue(tableData.paging) &&\r\n                         <Pagination\r\n                            total={tableData.total_data}\r\n                            limit={tableData.limit}\r\n                            paging={tableData.paging}\r\n                            pageChange={(page) => {\r\n                                setCurrentFilter({\r\n                                    ...currentFilter,\r\n                                    page: page\r\n                                })\r\n                                setLoading(true)\r\n                            }}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <Modal show={modalAdd.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormAdd\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                />\r\n            </Modal>\r\n\r\n            <Modal show={modalDetail.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <FormDetail\r\n                    modalChange={(params) => {\r\n                        handleModalClose()\r\n                    }}\r\n                    notifChange={(params) => {\r\n                        setNotif({\r\n                            ...notif,\r\n                            ...params\r\n                        })\r\n                    }}\r\n                    dataChange={() => {\r\n                        setLoading(true)\r\n                    }}\r\n                    dataId={modalDetail.dataId}\r\n                />\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialNotif = {\r\n    title: \"\",\r\n    message: \"\",\r\n    show: false,\r\n    type: null\r\n}\r\n\r\nconst initialModal = {\r\n    show: false,\r\n    dataId: null\r\n}","import React, { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Form, Modal, Button, Collapse } from 'react-bootstrap'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useStopwatch } from 'react-timer-hook';\r\nimport classnames from 'classnames'\r\nimport { useBreakReasons, useUsers } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\nimport { AuthContext } from '../../utils/context'\r\nimport { cookieService } from '../../utils/services/'\r\nimport { Notification } from '../../components';\r\n\r\nconst { isEmptyValue, formatDateTime, diffDate } = generalService\r\n\r\nexport const Break = ({ handleModalClose, socket }) => {\r\n    const { Get } = useBreakReasons()\r\n    const { StartBreak } = useUsers()\r\n    const { setUserActivityId } = useContext(AuthContext)\r\n    const [reason, setReason] = useState()\r\n    const [reasonName, setReasonName] = useState(null)\r\n    const [breakHistoryId, setBreakHistoryId] = useState()\r\n    const { handleSubmit, formState: { errors }, register, watch } = useForm({\r\n        defaultValues: initialBreak,\r\n        resolver: validationSchemaReason\r\n    })\r\n\r\n    const start_break = localStorage.getItem('startBreak')\r\n    const [toggle, setToggle] = useState({\r\n        showBreak: !start_break ? true : false,\r\n        showDuration: !start_break ? false : true\r\n    })\r\n\r\n    const handleBreakReason = (e) => {\r\n        // let index = e.target.selectedIndex\r\n        setReasonName(e.target.options[e.target.selectedIndex].text)\r\n    }\r\n\r\n    const onSubmit = async (data, e) => {\r\n        e.preventDefault()\r\n        const id = cookieService.Get('user_id')\r\n\r\n        await StartBreak(id, data).then(async (res) => {\r\n            if (res.success) {\r\n                localStorage.setItem('breakHistoryId', res.data.id)\r\n                setBreakHistoryId(res.data.id)\r\n                handleToggleChange()\r\n                localStorage.setItem('startBreak', formatDateTime())\r\n                localStorage.setItem('userActivityId', 6)\r\n                setUserActivityId(6)\r\n                socket.emit('escorts')\r\n            }\r\n        }).catch((err) => { return })\r\n\r\n    }\r\n\r\n    const handleToggleChange = useCallback(() => {\r\n        setToggle({\r\n            showBreak: !toggle.showBreak,\r\n            showDuration: !toggle.showDuration\r\n        })\r\n    }, [toggle])\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await Get({ is_active: 1 }).then((res) => {\r\n                setReason(res.data)\r\n            }).catch((err) => { return }) //do nothing, let it go back to login\r\n        }\r\n        fetchData()\r\n    }, [])\r\n    return (\r\n        <>\r\n            <Collapse in={toggle.showBreak} unmountOnExit={false} mountOnEnter={true}>\r\n                <Form onSubmit={handleSubmit(onSubmit)}>\r\n                    <Modal.Body>\r\n                        <Form.Group className=\"mb-3\">\r\n                            <Form.Label>Break Reason</Form.Label>\r\n                            <select className=\"form-control\" {...register(\"break_reason_id\")} onChange={handleBreakReason}>\r\n                                <option value=\"\">Please Select</option>\r\n                                {!isEmptyValue(reason) && reason.map(item => (\r\n                                    <option key={item.id} value={item.id}>{item.name}</option>\r\n                                ))}\r\n                            </select>\r\n                        </Form.Group>\r\n                        <Form.Text className={classnames(\"text-danger\", {\r\n                            \"d-none\": !errors.break_reason_id\r\n                        })}>{errors.break_reason_id ?.message}</Form.Text>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"warning\" onClick={() => handleModalClose()}>\r\n                            Cancel\r\n                    </Button>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Save\r\n                    </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Collapse >\r\n            <Duration\r\n                showDuration={toggle.showDuration}\r\n                startBreak={start_break}\r\n                handleModalClose={handleModalClose}\r\n                breakHistoryId={breakHistoryId}\r\n                reasonName={reasonName}\r\n                socket={socket}\r\n                setUserActivityId={setUserActivityId}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nconst Duration = ({ showDuration, startBreak, handleModalClose, breakHistoryId, reasonName,socket,setUserActivityId }) => {\r\n    const diff = diffDate(formatDateTime(), startBreak) / 700\r\n    const { user, setUser } = useContext(AuthContext)\r\n    const { EndBreak } = useUsers()\r\n    const [alert, setAlert] = useState(null)\r\n    const { Success, Error } = Notification\r\n\r\n    const { handleSubmit, formState: { errors }, register } = useForm({\r\n        defaultValues: initialDuration,\r\n        resolver: validationSchemaDuration\r\n    })\r\n\r\n    const handleAlert = value => {\r\n        return value && value === 1 ? (\r\n            <Success message=\"Data has been updated.\" />\r\n        ) : (\r\n                <Error message=\"Your password is incorrect.\" />\r\n            )\r\n    }\r\n\r\n    const stopwatchOffset = new Date();\r\n    const {\r\n        seconds,\r\n        minutes,\r\n        hours,\r\n        start,\r\n    } = useStopwatch({ autoStart: false, offsetTimestamp: stopwatchOffset.setSeconds(stopwatchOffset.getSeconds() + diff) })\r\n\r\n    const hourTime = hours < 10 ? `0${hours}` : `${hours}`\r\n    const minuteTime = minutes < 10 ? `0${minutes}` : `${minutes}`\r\n    const secondTime = seconds < 10 ? `0${seconds}` : `${seconds}`\r\n\r\n    const onSubmit = async (data, e) => {\r\n        e.preventDefault()\r\n        if (!breakHistoryId) return localStorage.getItem('breakHistoryId')\r\n\r\n        const id = cookieService.Get('user_id')\r\n\r\n        setAlert(null)\r\n        await EndBreak(breakHistoryId, { ...data, user_id: id }).then(async (res) => {\r\n            if (res.success) {\r\n                handleModalClose()\r\n                localStorage.removeItem(\"startBreak\")\r\n                localStorage.removeItem(\"breakHistoryId\")\r\n                localStorage.setItem('userActivityId', 8)\r\n                setUserActivityId(8)\r\n                socket.emit('escorts')\r\n            } else {\r\n                setAlert(2)\r\n            }\r\n        }).catch((err) => { return })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        start()\r\n        const getUser = () => {\r\n            setUser(cookieService.Get('username'))\r\n        }\r\n        if (!user) getUser()\r\n        // return () => fnAbort.abort()\r\n    }, [showDuration])\r\n    return (\r\n        <>\r\n            <Collapse in={showDuration} unmountOnExit={false} mountOnEnter={true}>\r\n                <Form onSubmit={handleSubmit(onSubmit)}>\r\n                    <Modal.Body>\r\n                        {alert && handleAlert(alert)}\r\n                        <h4 align=\"center\"><strong>User {user} is taking a break ({reasonName})</strong></h4>\r\n                        <div style={{ fontSize: '60px', textAlign: \"center\" }}>\r\n                            <span>{hourTime}</span>:<span>{minuteTime}</span>:<span>{secondTime}</span>\r\n                        </div>\r\n                        <Form.Group className=\"mb-3\">\r\n                            {/* <Form.Label>Enter password to resume</Form.Label> */}\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                size=\"sm\"\r\n                                placeholder=\"Enter password to resume\"\r\n                                {...register(\"password\")} required\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Resume\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Collapse>\r\n        </>\r\n    )\r\n}\r\n\r\nconst initialBreak = {\r\n    break_reason_id: '',\r\n}\r\n\r\nconst initialDuration = {\r\n    password: '',\r\n    user_id: '',\r\n}\r\n\r\nconst validationSchemaReason = yupResolver(yup.object().shape({\r\n    break_reason_id: yup.string()\r\n        .required(\"This field is required.\"),\r\n}))\r\n\r\nconst validationSchemaDuration = yupResolver(yup.object().shape({\r\n    password: yup.string()\r\n        .required(\"This field is required.\"),\r\n}))","import React, { useState, useEffect, useCallback, useContext } from 'react'\r\nimport { Form, Modal, Button, Collapse } from 'react-bootstrap'\r\nimport { usePickUp, useHangUp } from '../../utils/functions';\r\nimport { generalService } from '../../utils/services';\r\nimport { AuthContext, CallContext } from '../../utils/context'\r\nimport '../../public/assets/styles/incoming-call.css'\r\nimport { UserImg } from '../../public/assets'\r\n\r\nconst { isEmptyValue } = generalService\r\n\r\nexport const IncomingCall = ({ handleModalClose }) => {\r\n    const { ext, user } = useContext(AuthContext)\r\n    const { incomingCall, setOnlineStatus } = useContext(CallContext)\r\n    const { channel, phone_no, call_id } = incomingCall\r\n    const { PickUp } = usePickUp()\r\n    const { HangUp } = useHangUp()\r\n\r\n    const is_pickup = localStorage.getItem('isPickUp')\r\n    const [toggle, setToggle] = useState({\r\n        showIncomingCall: !is_pickup ? true : false,\r\n        showCallDetail: !is_pickup ? false : true\r\n    })\r\n\r\n    const handleHangUp = async (e) => {\r\n        e.preventDefault()\r\n        const data = {\r\n            'channel': channel,\r\n        }\r\n        await HangUp(data).then(async (res) => {\r\n            if (res.success) {\r\n                localStorage.removeItem('onlineStatus');\r\n                localStorage.removeItem('incomingCall');\r\n                setOnlineStatus(null)\r\n                handleModalClose()\r\n            }\r\n        }).catch((err) => { return })\r\n        handleModalClose()\r\n    }\r\n\r\n    const handlePickUp = async (e) => {\r\n        e.preventDefault()\r\n        const data = {\r\n            'call_id': call_id,\r\n            'channel': channel,\r\n            'destination': ext,\r\n            'phone_number': phone_no,\r\n            'username': user\r\n        }\r\n        await PickUp(data).then(async (res) => {\r\n            // if (res.success) {\r\n            //     handleModalClose()\r\n            // }\r\n        }).catch((err) => { return })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        // const fetchData = async () => {\r\n        //     await Get({ is_active: 1 }).then((res) => {\r\n        //         setReason(res.data)\r\n        //     }).catch((err) => { return }) //do nothing, let it go back to login\r\n        // }\r\n        // fetchData()\r\n    }, [])\r\n    return (\r\n        <>\r\n            <Collapse in={toggle.showIncomingCall} unmountOnExit={false} mountOnEnter={true}>\r\n                <Form onSubmit={handlePickUp}>\r\n                    <Modal.Body className=\"mt-3\">\r\n                        <Form.Group className=\"mb-3\">\r\n                            <div className=\"call-animation mb-5\">\r\n                                <img src={UserImg} className=\"img-circle\" />\r\n                            </div>\r\n                            <h3 align=\"center\">{phone_no}</h3>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"danger\" onClick={handleHangUp}>\r\n                            Hang Up\r\n                        </Button>\r\n                        <Button variant=\"info\" type=\"submit\">\r\n                            Pick Up\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Collapse >\r\n        </>\r\n    )\r\n}\r\n","import { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context'\r\nimport { publicApi, paginationService, generalService, cookieService } from '../services'\r\nimport _ from 'lodash'\r\n\r\nexport const usePickUp = () => {\r\n    let history = useHistory()\r\n    const { setIsAuth } = useContext(AuthContext)\r\n    const { isEmptyValue } = generalService\r\n    const { PaginationInfo } = paginationService\r\n    const endpoint = '/pickup'\r\n    const initialResult = {\r\n        success: false,\r\n        total_data: 0,\r\n        data: null\r\n    }\r\n    const unauthorizedStatus = [401, 403]\r\n    const unauthorized = () => {\r\n        localStorage.clear()\r\n        cookieService.Remove('ext')\r\n        cookieService.Remove('user_level_id')\r\n        cookieService.Remove('username')\r\n        cookieService.Remove('ytoken')\r\n        cookieService.Remove('socketAuth')\r\n        setIsAuth(false)\r\n\r\n        return history.push({\r\n            pathname: \"/login\",\r\n            state: {\r\n                alert: {\r\n                    show: true,\r\n                    type: 'warning',\r\n                    message: \"Your session has expired, please re-login.\"\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const PickUp = async (data) => {\r\n        let result = initialResult\r\n\r\n        if (!isEmptyValue(data) && _.isObject(data)) {\r\n            await publicApi('post', `${endpoint}`, data).then((res) => {\r\n                result = {\r\n                    ...result,\r\n                    success: res.success,\r\n                    total_data: res.total_data,\r\n                    data: res.data\r\n                }\r\n            }).catch((err) => {\r\n                if (err.response) {\r\n                    let res = err.response.data\r\n                    if (unauthorizedStatus.indexOf(res.response_code) >= 0) {\r\n                        return unauthorized()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    return {\r\n        PickUp\r\n    }\r\n}","export default \"data:image/jpeg;base64,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\"","import React, { useState, useContext } from \"react\"\r\nimport { Button, Form, Modal, } from \"react-bootstrap\"\r\nimport \"react-quill/dist/quill.snow.css\"\r\nimport \"../../public/assets/styles/editor.css\"\r\nimport _ from \"lodash\"\r\nimport { useCustomers, useUsers } from \"../../utils/functions\"\r\nimport { generalService } from \"../../utils/services\";\r\nimport { AuthContext, UserActivityContext, CallContext } from \"../../utils/context\";\r\n\r\nconst { formatDateTime } = generalService\r\n\r\nexport const CustomerStatus = ({ handleModalClose, customerId, handleModalScheduleCall }) => {\r\n    const { userId } = useContext(AuthContext)\r\n    const { setUserActivityId } = useContext(UserActivityContext)\r\n    const {\r\n        onlineStatus,\r\n        setOnlineStatus\r\n    } = useContext(CallContext)\r\n    const { Update } = useCustomers()\r\n    const fnUsers = useUsers()\r\n    const [status, setStatus] = useState(null)\r\n\r\n    const handleSubmitStatus = async e => {\r\n        e.preventDefault(e)\r\n        if (status == 4) {\r\n            await Update(customerId, {\r\n                customer_status_id: status,\r\n                close_date: formatDateTime()\r\n            })\r\n                .then(async res => {\r\n                    if (res.success) {\r\n                        await fnUsers.Update(userId, {\r\n                            user_activity_id: 8\r\n                        }).then(async res => {\r\n                            if (res.success) {\r\n                                handleModalClose()\r\n                                localStorage.setItem('userActivityId', 8)\r\n                                setUserActivityId(8)\r\n                                setOnlineStatus(null)\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    return\r\n                })\r\n        } else {\r\n            handleModalClose()\r\n            handleModalScheduleCall()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={handleSubmitStatus}>\r\n            <Modal.Body className=\"pb-1\">\r\n                <Form.Group>\r\n                    <Form.Label>Select Customer Status</Form.Label>\r\n                    <select\r\n                        className=\"form-control\"\r\n                        required\r\n                        onChange={e => setStatus(e.target.value)}\r\n                    >\r\n                        <option value=\"\">--Please Select --</option>\r\n                        <option value=\"4\">Close</option>\r\n                        <option value=\"2\">Schedule Call</option>\r\n                    </select>\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Modal.Footer>\r\n                    {/* <Button variant=\"warning\" onClick={handleModalClose}>Cancel</Button> */}\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Save\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal.Footer>\r\n        </Form>\r\n    )\r\n}\r\n\r\n","import { Modal } from \"react-bootstrap\"\r\nimport React, { useEffect, useState, useContext } from \"react\"\r\nimport _ from \"lodash\"\r\nimport { generalService } from \"../../utils/services\"\r\nimport { SocketContext, CallContext, AuthContext, UserActivityContext } from \"../../utils/context\"\r\nimport { IncomingCall } from \"./IncomingCall\"\r\nimport { CustomerStatus } from \"./CustomerStatus\"\r\nimport { FormDetail } from \"../CustomerCalls/FormDetail\"\r\nimport { FormAdd } from \"../Callback/FormAdd\"\r\nimport { useUsers } from \"../../utils/functions\";\r\n\r\nconst { isEmptyValue, formatDateTime } = generalService\r\n\r\nexport const Element = props => {\r\n  const socket = useContext(SocketContext)\r\n  const {\r\n    incomingCall,\r\n    onlineStatus,\r\n    setOnlineStatus\r\n  } = useContext(CallContext)\r\n  const { userId } = useContext(AuthContext)\r\n  const { setUserActivityId } = useContext(UserActivityContext)\r\n  const { Update } = useUsers()\r\n  const { campaign_id } = incomingCall\r\n  const [modalCall, setModalCall] = useState(initialModalCall)\r\n  const [modalCustomerDetail, setModalCustomerDetail] = useState(initialModalCustomerDetail)\r\n  const [modalCustomerStatus, setModalCusomerStatus] = useState(initialModalCustomerStatus)\r\n  const [modalScheduleCall, setModalScheduleCall] = useState(initialModalScheduleCall)\r\n  // const handleClose = () => setShow(false)\r\n\r\n  const handleModalCall = () => {\r\n    setModalCall({\r\n      ...modalCall,\r\n      show: !modalCall.show\r\n    })\r\n  }\r\n\r\n  const handleModalCustomerDetail = () => {\r\n    setModalCustomerDetail({\r\n      ...modalCustomerDetail,\r\n      show: !modalCustomerDetail.show\r\n    })\r\n    localStorage.setItem('userActivityId', 4)\r\n    setUserActivityId(4)\r\n  }\r\n\r\n  const handleModalCustomerStatus = () => {\r\n    setModalCusomerStatus({\r\n      ...modalCustomerStatus,\r\n      show: !modalCustomerStatus.show\r\n    })\r\n  }\r\n\r\n  const handleModalScheduleCall = () => {\r\n    setModalScheduleCall({\r\n      ...modalScheduleCall,\r\n      show: !modalScheduleCall.show\r\n    })\r\n  }\r\n\r\n  const handleModalClose = () => {\r\n    setModalCall(initialModalCall)\r\n    socket.emit('escorts')\r\n  }\r\n\r\n  const handleModalCloseCustomerDetail = () => {\r\n    setModalCustomerDetail(initialModalCustomerDetail)\r\n    handleModalCustomerStatus()\r\n    localStorage.setItem('userActivityId', 2)\r\n    setUserActivityId(2)\r\n    socket.emit('escorts')\r\n    // setOnlineStatus(3)\r\n  }\r\n\r\n  const handleModalCloseStatus = () => {\r\n    setModalCusomerStatus(initialModalCustomerStatus)\r\n    socket.emit('escorts')\r\n  }\r\n\r\n  const handleModalCloseSchedule = async e => {\r\n    setModalScheduleCall(initialModalScheduleCall)\r\n    await Update(userId, {\r\n      user_activity_id: 8\r\n    }).then(async res => {\r\n      if (res.success) {\r\n        localStorage.setItem('userActivityId', 8)\r\n        setUserActivityId(8)\r\n        socket.emit('escorts')\r\n        setOnlineStatus(null)\r\n      }\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const socketEvent = () => {\r\n      // incoming call\r\n      socket.on(\"transfercallserver-event\", data => {\r\n        localStorage.setItem(\"incomingCall\", JSON.stringify(data))\r\n        localStorage.setItem(\"onlineStatus\", 1)\r\n        setOnlineStatus(1)\r\n        handleModalCall()\r\n        socket.emit('escorts')\r\n        console.log(data, 'transfercallserver')\r\n\r\n      })\r\n\r\n      // pickup call\r\n      socket.on(\"bridge-enter-event\", data => {\r\n        localStorage.setItem(\"pickupCall\", JSON.stringify(data))\r\n        localStorage.setItem(\"onlineStatus\", 2)\r\n        localStorage.setItem(\"startCall\", formatDateTime())\r\n        socket.emit(\"call-all-campaigns\")\r\n        socket.emit(\"call-campaigns\", {\r\n          campaign_id: campaign_id\r\n        })\r\n        setOnlineStatus(2)\r\n        handleModalCustomerDetail()\r\n        handleModalClose()\r\n        console.log(\"bridge-enter-event\")\r\n        socket.emit('escorts')\r\n      })\r\n\r\n      // user activity\r\n      socket.on('total-escorts', data => {\r\n        let escort = JSON.parse(data)\r\n        escort.filter(i => i.id == userId).map(row => {\r\n          localStorage.setItem('userActivityId', row.user_activity_id)\r\n          setUserActivityId(row.user_activity_id)\r\n        })\r\n      })\r\n    }\r\n\r\n    if (isEmptyValue(onlineStatus)) {\r\n      socket.emit(\"amount-all-campaigns\")\r\n      socket.emit(\"amount-campaigns\", {\r\n        campaign_id: campaign_id\r\n      })\r\n    }\r\n    socket.emit('escorts')\r\n\r\n    socketEvent()\r\n  }, [socket, campaign_id, onlineStatus])\r\n\r\n  useEffect(() => {\r\n    if (onlineStatus == 1) return handleModalCall()\r\n    if (onlineStatus == 2) return handleModalCustomerDetail()\r\n    // handleModalCustomerDetail()\r\n  }, [onlineStatus])\r\n\r\n  return (\r\n    <>\r\n      <Modal show={modalCall.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n        <Modal.Header>\r\n          <Modal.Title>Incoming Call</Modal.Title>\r\n        </Modal.Header>\r\n        <IncomingCall handleModalClose={handleModalClose} />\r\n      </Modal>\r\n\r\n      <Modal show={modalCustomerDetail.show} onHide={handleModalCloseCustomerDetail} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n        <Modal.Header>\r\n          <Modal.Title>Customer Detail</Modal.Title>\r\n        </Modal.Header>\r\n        <FormDetail\r\n          handleModalClose={handleModalCloseCustomerDetail}\r\n          handleModalCustomerStatus={handleModalCustomerStatus}\r\n          dataId={incomingCall.customer_id}\r\n          campaignId={incomingCall.campaign_id}\r\n          handleScheduleCall={handleModalScheduleCall} />\r\n      </Modal>\r\n\r\n      <Modal show={modalCustomerStatus.show} onHide={handleModalCloseStatus} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n        <Modal.Header>\r\n          <Modal.Title>Customer Status</Modal.Title>\r\n        </Modal.Header>\r\n        <CustomerStatus\r\n          handleModalClose={handleModalCloseStatus}\r\n          customerId={incomingCall.customer_id}\r\n          handleModalScheduleCall={handleModalScheduleCall}\r\n        />\r\n      </Modal>\r\n\r\n      <Modal show={modalScheduleCall.show} onHide={handleModalCloseSchedule} backdrop=\"static\" keyboard={false} size=\"lg\">\r\n        <Modal.Header>\r\n          <Modal.Title>Schedule Call</Modal.Title>\r\n        </Modal.Header>\r\n        <FormAdd\r\n          handleModalClose={handleModalCloseSchedule}\r\n          dataChange={() => { }}\r\n          customerId={incomingCall.customer_id}\r\n          campaignId={incomingCall.campaign_id}\r\n          phoneNo={incomingCall.phone_no} />\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nconst initialModalCall = {\r\n  show: false,\r\n  dataId: \"\"\r\n}\r\n\r\nconst initialModalCustomerDetail = {\r\n  show: false,\r\n  dataId: \"\"\r\n}\r\n\r\nconst initialModalScheduleCall = {\r\n  show: false,\r\n  dataId: \"\"\r\n}\r\n\r\nconst initialModalCustomerStatus = {\r\n  show: false,\r\n  dataId: \"\"\r\n}\r\n","import { useState, useEffect, useContext } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, useRouteMatch } from 'react-router-dom'\r\nimport { FooterComp, Sidebar, NavbarComp, ModalPasswordExpired, Error404 } from './../components'\r\nimport { Modal } from 'react-bootstrap'\r\nimport { PrivateRoute } from './../config'\r\nimport { SocketContext } from './../utils/context'\r\nimport { generalService } from './../utils/services'\r\nimport _ from 'lodash'\r\n\r\n// Dashboard\r\nimport { Dashboard } from './Dashboard'\r\n\r\n// Campaign\r\nimport { CampaignEmails } from './CampaignEmails'\r\nimport { CampaignCalls } from './CampaignCalls';\r\n\r\n// Customer \r\nimport { CustomerCalls } from './CustomerCalls';\r\n\r\n// Call\r\nimport { Calls } from './Calls';\r\n\r\n// Email\r\nimport { Emails } from './Emails';\r\n\r\n// Callback\r\nimport { Callback } from './Callback'\r\n\r\n// User Activity\r\nimport { UserActivity } from './UserActivity'\r\n\r\n// Reports\r\nimport {\r\n    ReportBreak,\r\n    ReportBusinessAchievement,\r\n    ReportCallActivity,\r\n    ReportCallCustomer,\r\n    ReportCallDetail,\r\n    ReportChecker,\r\n    ReportCostViewer,\r\n    ReportEmail,\r\n    ReportPerformanceAgent,\r\n    ReportQualityAssuranceSummary\r\n} from './Reports'\r\n\r\n// Quality Assurance\r\nimport { QualityAssurance } from './QualityAssurance'\r\nimport { QualityAssuranceCalls } from './QualityAssuranceCalls'\r\n\r\n// Setting\r\nimport { Users } from './Users'\r\nimport { BreakReason } from './BreakReason'\r\nimport { CheckingReason } from './CheckingReason'\r\nimport { OutboundCategory } from './OutboundCategory'\r\nimport { OutboundCategoryDetail } from './OutboundCategoryDetail'\r\n\r\n// element\r\nimport { Break } from './Elements/Break';\r\nimport { Element } from './Elements';\r\n\r\nexport const MainApp = () => {\r\n    const [modalBreak, setModalBreak] = useState(initialModalBreak)\r\n    const userLevelId = localStorage.getItem('userLevelId')\r\n\r\n    const handleModalBreak = () => {\r\n        setModalBreak({\r\n            ...modalBreak,\r\n            show: !modalBreak.show\r\n        })\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalBreak(initialModalBreak)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const start_break = localStorage.getItem('startBreak')\r\n        if (start_break) return handleModalBreak()\r\n    }, [])\r\n\r\n    const socket = useContext(SocketContext)\r\n    const { useLocalStorage } = generalService\r\n    const [listenData, setListenData] = useLocalStorage('listenData', false)\r\n    const [whisperData, setWhisperData] = useLocalStorage('whisperData', false)\r\n\r\n    // listen and whisper\r\n    useEffect(() => {\r\n        const socketEventListenData = () => {\r\n            socket.on('originate-response-event', (data) => {\r\n                setListenData({\r\n                    ...listenData,\r\n                    channel: data['channel']\r\n                })\r\n                setWhisperData(false)\r\n            })\r\n        }\r\n        const socketEventWhisperData = () => {\r\n            socket.on('originate-response-event', (data) => {\r\n                setWhisperData({\r\n                    ...whisperData,\r\n                    channel: data['channel']\r\n                })\r\n                setListenData(false)\r\n            })\r\n        }\r\n\r\n        if (listenData) socketEventListenData()\r\n        if (whisperData) socketEventWhisperData()\r\n    }, [socket, setListenData, setWhisperData])\r\n\r\n    return (\r\n        <div>\r\n            < Element />\r\n            <div id=\"wrapper\">\r\n                <NavbarComp handleModalBreak={handleModalBreak} socket={socket} />\r\n                <div id=\"layoutSidenav\">\r\n                    <Sidebar />\r\n                    <div id=\"layoutSidenav_content\">\r\n                        <main>\r\n                            <div className=\"container-fluid\">\r\n                                <Switch>\r\n                                    {[1,2,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute exact path=\"/\">\r\n                                            <Dashboard socket={socket} />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    {[1,2,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/campaign-calls\">\r\n                                            <CampaignCalls />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    {[2,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/campaign-emails\">\r\n                                            <CampaignEmails />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    <PrivateRoute path=\"/customer-calls/:campaignId/:campaignName\">\r\n                                        <CustomerCalls />\r\n                                    </PrivateRoute>\r\n                                    <PrivateRoute path=\"/calls/:campaignId/:campaignName\">\r\n                                        <Calls />\r\n                                    </PrivateRoute>\r\n                                    <PrivateRoute path=\"/emails/:campaignId/:campaignName\">\r\n                                        <Emails />\r\n                                    </PrivateRoute>\r\n\r\n                                    {[1,2,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/callback\">\r\n                                            <Callback />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    {[1,2,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/user-activity\">\r\n                                            <UserActivity\r\n                                                socket={socket}\r\n                                                listenData={listenData}\r\n                                                whisperData={whisperData}\r\n                                                setListenData={setListenData}\r\n                                                setWhisperData={setWhisperData}\r\n                                            />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    {[2,5].includes(parseInt(userLevelId)) &&\r\n                                        <Route path=\"/reports\" render={({ match: { url } }) => (\r\n                                            <>\r\n                                                <PrivateRoute path={url} exact>\r\n                                                    <Error404 />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/break`} exact>\r\n                                                    <ReportBreak />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/business-achievement`} exact>\r\n                                                    <ReportBusinessAchievement />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/call-activity`} exact>\r\n                                                    <ReportCallActivity />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/call-customer`} exact>\r\n                                                    <ReportCallCustomer />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/call-detail`} exact>\r\n                                                    <ReportCallDetail />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/checker`} exact>\r\n                                                    <ReportChecker />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/cost-viewer`} exact>\r\n                                                    <ReportCostViewer />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/email`} exact>\r\n                                                    <ReportEmail />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/performance-agent`} exact>\r\n                                                    <ReportPerformanceAgent />\r\n                                                </PrivateRoute>\r\n                                            </>\r\n                                        )} />\r\n                                    }\r\n\r\n                                    {[4].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/quality-assurance\">\r\n                                            <QualityAssurance />\r\n                                        </PrivateRoute>\r\n                                    }\r\n                                    {[2,3,4,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/quality-assurance-calls\">\r\n                                            <QualityAssuranceCalls />\r\n                                        </PrivateRoute>\r\n                                    }\r\n                                    {[1,2,4,5].includes(parseInt(userLevelId)) &&\r\n                                        <PrivateRoute path=\"/quality-assurance-report-summaries\">\r\n                                            <ReportQualityAssuranceSummary />\r\n                                        </PrivateRoute>\r\n                                    }\r\n\r\n                                    {[2,5].includes(parseInt(userLevelId)) &&\r\n                                        <Route path=\"/setting\" render={({ match: { url } }) => (\r\n                                            <>\r\n                                                <PrivateRoute path={url} exact>\r\n                                                    <Error404 />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/users`} exact>\r\n                                                    <Users />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/break-reason`} exact>\r\n                                                    <BreakReason />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/checking-reason`} exact>\r\n                                                    <CheckingReason />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/outbound-category`} exact>\r\n                                                    <OutboundCategory />\r\n                                                </PrivateRoute>\r\n                                                <PrivateRoute path={`${url}/outbound-category-detail`} exact>\r\n                                                    <OutboundCategoryDetail />\r\n                                                </PrivateRoute>\r\n                                            </>\r\n                                        )} />\r\n                                    }\r\n\r\n                                    <PrivateRoute path=\"*\">\r\n                                        <Error404 />\r\n                                    </PrivateRoute>\r\n                                </Switch>\r\n                            </div>\r\n                        </main>\r\n                        <FooterComp />\r\n                    </div>\r\n                </div>\r\n                <ModalPasswordExpired />\r\n            </div>\r\n\r\n\r\n            <Modal show={modalBreak.show} onHide={handleModalClose} backdrop=\"static\" keyboard={false}>\r\n                <Modal.Header >\r\n                    <Modal.Title>Break</Modal.Title>\r\n                </Modal.Header>\r\n                <Break handleModalClose={handleModalClose} socket={socket} />\r\n            </Modal>\r\n\r\n            {/* <script src=\"https://unpkg.com/react/umd/react.production.min.js\" crossOrigin=\"true\"></script>\r\n            <script src=\"https://unpkg.com/react-dom/umd/react-dom.production.min.js\" crossOrigin=\"true\"></script>\r\n            <script src=\"https://unpkg.com/react-bootstrap@next/dist/react-bootstrap.min.js\" crossOrigin=\"true\"></script> */}\r\n            {/* <script src=\"sb-admin-2.min.js\"></script>\r\n            <Router>\r\n                <Switch>\r\n                    <Route path=\"/users\">\r\n                        <Users />\r\n                    </Route>\r\n                    <Route path=\"/\" >\r\n                        <Dashboard />\r\n                    </Route>\r\n                </Switch>\r\n            </Router> */}\r\n        </div >\r\n    )\r\n}\r\n\r\nconst initialModalBreak = {\r\n    show: false,\r\n    dataId: \"\"\r\n}\r\n","import { useContext, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Switch, HashRouter } from 'react-router-dom'\r\nimport { Login, ForgotPassword, MainApp } from '../pages'\r\nimport { PrivateRoute, ProtectedLogin } from '.';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <ProtectedLogin path=\"/login\" component={Login} />\r\n                <ProtectedLogin path=\"/forgot\" component={ForgotPassword} />\r\n                <PrivateRoute path=\"/\" component={MainApp} />\r\n                {/* <Route path=\"/\" component={MainApp} /> */}\r\n                {/* <Route path=\"\" component={Users} /> */}\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default Routes\r\n","import { Route, Redirect } from 'react-router-dom'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route {...rest}\r\n            render={props =>\r\n                localStorage.getItem('isAuth') ? (\r\n                    <Component {...props} {...rest} />\r\n                ) : (\r\n                        <Redirect to=\"/login\" />\r\n                    )\r\n\r\n            }\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedLogin = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route {...rest}\r\n            render={props =>\r\n                !localStorage.getItem('isAuth') ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                        <Redirect to=\"/\" />\r\n                    )\r\n\r\n            }\r\n\r\n        />\r\n    )\r\n}\r\n\r\nexport default ProtectedLogin \r\n","import React, { useContext } from 'react'\r\n\r\nimport { Routes } from '../config';\r\nimport { AuthProvider, ModalFormProvider, SocketProvider, CallProvider, UserActivityProvider } from '../utils/context';\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <AuthProvider>\r\n        <UserActivityProvider>\r\n          <SocketProvider>\r\n            <CallProvider>\r\n              <ModalFormProvider>\r\n                <Routes />\r\n              </ModalFormProvider>\r\n            </CallProvider>\r\n          </SocketProvider>\r\n        </UserActivityProvider>\r\n      </AuthProvider>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './public/assets/styles/style.css'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './pages/App';\r\nimport './public/vendor/fontawesome-free/css/all.min.css'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}